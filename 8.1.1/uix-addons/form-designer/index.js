!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.FormDesignerUIXAddon=t(require("UIExtension")):e.FormDesignerUIXAddon=t(e.UIExtension)}(self,(function(__WEBPACK_EXTERNAL_MODULE__2__){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=15)}([function(e,t,i){"use strict";e.exports=i(19)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fieldAdded:"fieldAdded",fieldActivated:"fieldActivated",fieldDeativated:"fieldDeativated",fieldFontSizeChanged:"fieldFontSizeChanged"};var n=t.g_csMoneyFormat=["$"," DM","€","fl"," F"," kr","Lit. "," Pts","£","$A. ","$NZ. ","Руб ","ESC. ","HK$ ","P. ","RMB¥","NT$ ","S.$ ","W","¥","zł","SEK ","kr ","C$ "];t.g_csDateFormat=["m/d","m/d/yy","m/d/yyyy","mm/dd/yy","mm/dd/yyyy","mm/yy","mm/yyyy","d-mmm","d-mmm-yy","d-mmm-yyyy","dd-mmm-yy","dd-mmm-yyyy","yy-mm-dd","yyyy-mm-dd","mmm-yy","mmm-yyyy","mmmm-yy","mmmm-yyyy","mmm d, yyyy","mmmm d, yyyy","m/d/yy h:MM tt","m/d/yyyy h:MM tt","m/d/yy HH:MM","m/d/yyyy HH:MM","Custom"],t.g_csTimeFormat=["HH:MM","h:MM tt","HH:MM:ss","h:MM:ss tt","Custom"],t.g_csSpecialFormat=["zipCode","zipCode4","phoneNumber","socialSecurityNumber","arbitraryMask"],t.CFD_Utils=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.GetSeperatorString=function(e,t){var i=""+e,n=i.length;return n>3?0==t?this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+"."+i.substr(n-3):1==t?this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+","+i.substr(n-3):this.GetSeperatorString(parseInt(i.substr(0,n-3)),t)+" "+i.substr(n-3):i},e.GetSampNumberFormat=function(e,t,i,n,a,o){var r="",s="",l=[];if(t>=0&&i>=0&&n>=0&&o>=0){var d="",c="",u=(s=""+e.toFixed(parseInt(t))).indexOf(".");u>0?(c=s.substr(0,u),d=s.substr(u)):(c=s,d="");var p="";for(0==i&&(p=this.GetSeperatorString(parseInt(c),1)+d),1==i&&(p=s),2==i&&(d=d.replace(".",","),p=this.GetSeperatorString(parseInt(c),0)+d),3==i&&(p=(p=s).replace(".",",")),4==i&&(d=d.replace(".",","),p=this.GetSeperatorString(parseInt(c),2)+d);;){if(0==a){r="$";break}if(1==a){r="DM";break}if(2==a){r="€";break}if(3==a){r="f";break}if(4==a){r="F";break}if(5==a){r="kr";break}if(6==a){r="Lit.";break}if(7==a){r="Pts";break}if(8==a){l[0]=163,r=String.fromCharCode.apply(String,l);break}if(9==a){r="$A.";break}if(10==a){r="$NZ.";break}if(11==a){l[0]=1056,l[1]=1091,l[2]=1073,r=String.fromCharCode.apply(String,l);break}if(12==a){r="ESC.";break}if(13==a){r="HK$";break}if(14==a){r="P.";break}if(15==a){l[0]=65509,r=String.fromCharCode.apply(String,l);break}if(16==a){r="NT$";break}if(17==a){r="S.$";break}if(18==a){l[0]=8361,r=String.fromCharCode.apply(String,l);break}if(19==a){l[0]=165,r=String.fromCharCode.apply(String,l);break}if(20==a){l[0]=122,l[1]=322,r=String.fromCharCode.apply(String,l);break}if(21==a){r="SEK";break}if(22==a){r="kr";break}if(23==a){l[0]=67,l[1]=36,r=String.fromCharCode.apply(String,l);break}if(a>23||a<0)break}if(2&n){0==o?s="("+p+" "+r+")":("(%s",s="("+r+p+")")}else if(0==o)s=p+r;else{s=r+p}}return s},e.GetSampPercentFormat=function(e,t,i){var n="";if(t>=0&&i>=0){n=""+(100*e).toFixed(parseInt(t));var a="",o="",r=(n+="%").indexOf(".");r>0?(o=n.substr(0,r),a=n.substr(r)):(o=n,a="");var s="";0==i&&(s=this.GetSeperatorString(parseInt(o),1)+a),1==i&&(s=n),2==i&&(a=a.replace(".",","),s=this.GetSeperatorString(parseInt(o),0)+a),3==i&&(s=(s=n).replace(".",",")),4==i&&(a=a.replace(".",","),s=this.GetSeperatorString(parseInt(o),2)+a),n=s}return n},e.GetFormatStringType=function(e){return e&&""!=e?0==e.indexOf("AFNumber_Format")?1:0==e.indexOf("AFPercent_Format")?2:0==e.indexOf("AFDate_FormatEx")?3:0==e.indexOf("AFTime_Format")?4:0==e.indexOf("AFSpecial_Format")?5:-1:0},e.GetKeystrokeStringType=function(e){return e&&""!=e?0==e.indexOf("AFNumber_Keystroke")?1:0==e.indexOf("AFPercent_Keystroke")?2:0==e.indexOf("AFDate_KeystrokeEx")?3:0==e.indexOf("AFTime_Keystroke")?4:0==e.indexOf("AFSpecial_Keystroke")?5:-1:0},e.GetPercentageValues=function(e){var t,i=-1,n=e.length,a=e.indexOf("("),o=n-a-3,r=e.substr(a+1,o),s=r.split(","),l=r[0];t=Number(l);for(var d=0;d<s.length&&!(++d>=2)&&""!=(l=s[d]);)1==d&&(i=Number(l));return{iDec:t,iSep:i}},e.StringFromUnicode=function(e){for(var t=!1,i="0x",n="",a=0;a<e.length;a++){var o=e[a];"\\"==e[a]&&a+1<e.length&&("u"==e[a+1]||"U"==e[a+1])?(a+=2,t&&(n+=String.fromCharCode(i),i="0x"),t=!0):t?i+=o:(n+=o,t=!1)}return t&&(n+=String.fromCharCode(i)),n},e.GetNumberValues=function(e){var t,i=1,a=-1,o=-1,r=-1,s=-1,l=e.length,d=e.indexOf("("),c=l-d-3,u=e.substr(d+1,c).split(",");t=Number(u[0]);for(var p=0;p<u.length&&!(++p>=6);){var f=u[p];if(""==f)break;if(1!=p)if(2!=p)if(3!=p)if(4!=p){if(5==p)s=f.indexOf("false")>=0?0:1}else{var g=f;if(""==g){r=-1;continue}g=(g=(g=(g=g.replace(/"/g,"")).replace(/'/g,"")).replace("\\u0020"," ")).trim(),g=this.StringFromUnicode(g);for(var v=0;v<24;v++){var h=n[v];if(g==(h=(h=h.replace(" "," ")).trim())){r=v;break}}v>23&&(r=-1)}else o=0;else{var m=Number(f);0!=m&&1!=m&&2!=m&&3!=m||(a=m)}else i=Number(f)}return{iDec:t,iSep:i,iNeg:a,iDef:o,iMoney:r,iPre:s}},e.GetRangeValues=function(e){for(var t=!1,i=!1,n="",a="",o=e.indexOf("("),r=e.indexOf(")"),s=void 0,l=e.substr(o+1,r-o-1).split(","),d=0;d<l.length;){s=(s=l[d]).trim(),0==d||2==d?"true"==s.toLowerCase()?0==d?t=!0:i=!0:0==d?t=!1:i=!1:1!=d&&3!=d||(1==d?n=s:a=s),d++}return{bFrom:t,bTo:i,csiFrom:n,csiTo:a}},e}()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PosType=t.MK_Properties=t.Graphics_ObjectType=t.Graphics_FillMode=t.Font_CIDCharset=t.Font_Charset=t.Font_Styles=t.Font_StandardID=t.Text_Mode=t.Box_Type=t.Calc_Margin_Mode=t.Action_Trigger=t.Signature_Ap_Flags=t.Signature_State=t.Error_Code=t.Font_Descriptor_Flags=t.page_Number_Format=t.date_Format=t.Rendering_Usage=t.Rendering_Content=t.Range_Filter=t.Saving_Flag=t.Search_Flag=t.Rotation_Degree=t.Rotation=t.Standard_Font=t.Watermark_Flag=t.Position=t.Flatten_Option=t.File_Type=t.Relationship=t.Highlight_Mode=t.Action_Type=t.Point_Type=t.Alignment=t.Ending_Style=t.Note_Icon=t.FileAttachment_Icon=t.Border_Style=t.Font_Style=t.Additional_Permission=void 0;var n,a=i(35),o=(n=a)&&n.__esModule?n:{default:n};t.Additional_Permission={download:1},t.Font_Style={normal:0,italic:1,bold:2},t.Border_Style={solid:0,dashed:1,underline:2,beveled:3,inset:4,cloudy:5},t.FileAttachment_Icon={graph:"Graph",pushPin:"PushPin",paperclip:"Paperclip",tag:"Tag"},t.Note_Icon={Check:"Check",Circle:"Circle",Comment:"Comment",Cross:"Cross",Help:"Help",Insert:"Insert",Key:"Key",NewParagraph:"NewParagraph",Note:"Note",Paragraph:"Paragraph",RightArrow:"RightArrow",RightPointer:"RightPointer",Star:"Star",UpArrow:"UpArrow",UpLeftArrow:"UpLeftArrow"},t.Ending_Style={None:0,Square:1,Circle:2,Diamond:3,OpenArrow:4,ClosedArrow:5,Butt:6,ReverseOpenArrow:7,ReverseClosedArrow:8,Slash:9},t.Alignment={left:0,center:1,right:2},t.Point_Type={moveTo:1,lineTo:2,lineToCloseFigure:3,bezierTo:4,bezierToCloseFigure:5},t.Action_Type={goto:"TypeGoto",launch:"TypeLaunch",uri:"TypeURI",named:"TypeNamed",submitForm:"TypeSubmitForm",resetForm:"TypeResetForm",javaScript:"TypeJavaScript",importData:"TypeImportData",hide:"TypeHide"},t.Highlight_Mode={none:0,invert:1,outline:2,push:3,toggle:4},t.Relationship={firstChild:0,lastChild:1,previousSibling:2,nextSibling:3,firstSibling:4,lastSibling:5},t.File_Type={fdf:0,xfdf:1,xml:2,csv:3,txt:4},t.Flatten_Option={all:0,field:1,annot:2},t.Position={topLeft:"TopLeft",topCenter:"TopCenter",topRight:"TopRight",centerLeft:"CenterLeft",center:"Center",centerRight:"CenterRight",bottomLeft:"BottomLeft",bottomCenter:"BottomCenter",bottomRight:"BottomRight"},t.Watermark_Flag={asContent:0,asAnnot:1,onTop:2,unprintable:4,display:8},t.Standard_Font={courier:0,courierBold:1,courierBoldOblique:2,courierOblique:3,helvetica:4,helveticaBold:5,helveticaBoldOblique:6,helveticaOblique:7,timesRoman:8,timesBold:9,timesBoldItalic:10,timesItalic:11,symbol:12,zapfDingbats:13},t.Rotation={rotation0:0,rotation1:1,rotation2:2,rotation3:3},t.Rotation_Degree={rotation0:0,rotation90:90,rotation180:180,rotation270:270},t.Search_Flag={caseSensitive:1,wholeWord:2,consecutively:4},t.Saving_Flag={normal:0,incremental:1,noOriginal:2,XRefStream:8,linearized:4096,removeRedundantObjects:16},t.Range_Filter={all:0,even:1,odd:2},t.Rendering_Content={page:"page",annot:"annot"},t.Rendering_Usage={print:"print",view:"view"},t.date_Format={MSlashD:0,MSlashDSlashYY:1,MSlashDSlashYYYY:2,MMSlashDDSlashYY:3,MMSlashDDSlashYYYY:4,DSlashMSlashYY:5,DSlashMSlashYYYY:6,DDSlashMMSlashYY:7,DDSlashMMSlashYYYY:8,MMSlashYY:9,MMSlashYYYY:10,MDotDDotYY:11,MDotDDotYYYY:12,MMDotDDDotYY:13,MMDotDDDotYYYY:14,MMDotYY:15,DDotMDotYYYY:16,DDDotMMDotYY:17,DDDotMMDotYYYY:18,YYHyphenMMHyphenDD:19,YYYYHyphenMMHyphenDD:20},t.page_Number_Format={default:0,numberOfCount:1,numberSlashCount:2,pageNumber:3,pageNumberOfCount:4},t.Font_Descriptor_Flags={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},t.Error_Code=o.default,t.Signature_State={verifyChange:128,verifyIncredible:256,verifyNoChange:1024,stateVerifyIssueUnknown:2048,verifyIssueValid:4096,verifyIssueUnknown:8192,verifyIssueRevoke:16384,verifyIssueExpire:32768,verifyIssueUncheck:65536,verifyIssueCurrent:131072,verifyTimestampNone:262144,verifyTimestampDoc:524288,verifyTimestampValid:1048576,verifyTimestampInvalid:2097152,verifyTimestampExpire:4194304,verifyTimestampIssueUnknown:8388608,verifyTimestampIssueValid:16777216,verifyTimestampTimeBefore:33554432,verifyChangeLegal:134217728,verifyChangeIllegal:268435456},t.Signature_Ap_Flags={showTagImage:1,showLabel:2,showReason:4,showDate:8,showDistinguishName:16,showLocation:32,showSigner:64,showBitmap:128,showText:256},t.Action_Trigger={click:-1,keyStroke:7,format:8,validate:9,calculate:10,mouseEnter:11,mouseExit:12,mouseDown:13,mouseUp:14,onFocus:15,onBlur:16},t.Calc_Margin_Mode={CalcContentsBox:0,CalcDetection:1},t.Box_Type={MediaBox:0,CropBox:1,TrimBox:2,ArtBox:3,BleedBox:4},t.Text_Mode={Fill:0,Stroke:1,FillStroke:2,Invisible:3,FillClip:4,StrokeClip:5,FillStrokeClip:6,Clip:7},t.Font_StandardID={Courier:0,CourierB:1,CourierBI:2,CourierI:3,Helvetica:4,HelveticaB:5,HelveticaBI:6,HelveticaI:7,Times:8,TimesB:9,TimesBI:10,TimesI:11,Symbol:12,ZapfDingbats:13},t.Font_Styles={FixedPitch:1,Serif:2,Symbolic:4,Script:8,NonSymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,Bold:262144},t.Font_Charset={ANSI:0,Default:1,Symbol:2,Shift_JIS:128,Hangeul:129,GB2312:134,ChineseBig5:136,Thai:222,EastEurope:238,Russian:204,Greek:161,Turkish:162,Hebrew:177,Arabic:178,Baltic:186},t.Font_CIDCharset={Unknown:0,GB1:1,CNS1:2,JAPAN1:3,KOREA1:4,UNICODE:5},t.Graphics_FillMode={None:0,Alternate:1,Winding:2},t.Graphics_ObjectType={All:0,Text:1,Path:2,Image:3,Shading:4,FormXObject:5},t.MK_Properties={borderColor:"borderColor",fillColor:"fillColor",normalCaption:"normalCaption",downCaption:"downCaption",rolloverCaption:"rolloverCaption"},t.PosType={first:0,last:1,after:2,before:3}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(39);Object.defineProperty(t,"MARKUP_ANNOTATION_STATE",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}});t.BORDER_STYLE={SOLID:0,DASHED:1,UNDERLINE:2,BEVELED:3,INSET:4,CLOUDY:5},t.POINT_TYPE={MOVE_TO:1,LINE_TO:2,LINE_TO_CLOSE_FIGURE:3,BEZIER_TO:4,BEZIER_TO_CLOSE_FIGURE:5},t.Intents={LINE_ARROW:"LineArrow",LINE_DIMENSION:"LineDimension",POLYGON_CLOUD:"PolygonCloud",POLYGON_DIMENSION:"PolygonDimension",POLYLINE_DIMENSION:"PolyLineDimension",CIRCLE_DIMENSION:"CircleDimension",FREETEXT_TYPEWRITER:"FreeTextTypewriter",FREETEXT_CALLOUT:"FreeTextCallout",STRIKEOUT_TEXTEDIT:"StrikeOutTextEdit"};var a=t.LineEndingName={0:"None",1:"Square",2:"Circle",3:"Diamond",4:"OpenArrow",5:"ClosedArrow",6:"Butt",7:"ROpenArrow",8:"RClosedArrow",9:"Slash"};t.LineEndingStyle=Object.keys(a).reduce((function(e,t){return e[a[t]]=Number(t),e}),{}),t.LINE_CAPTION_POSITION={POS_INLINE:0,POS_TOP:1},t.AnnotFlagsName={0:"invisible",1:"hidden",2:"print",3:"nozoom",4:"norotate",5:"noview",6:"readonly",7:"locked",8:"togglenoview"},t.PDFDocPermission={PrintLowQuality:4,ModifyDocument:8,Extract:16,AnnotForm:32,FillForm:256,ExtractAccess:512,Assemble:1024,PrintHighQuality:2048},t.MeasureType={MeasureTypeX:0,MeasureTypeY:1,MeasureTypeD:2,MeasureTypeA:3,MeasureTypeT:4,MeasureTypeS:5},t.STORE_NAMES={SELECTION_INFO:"viewer--store-selection-info"},t.CREATING_MEASUREMENT_CONTEXTMENU="creating-measurement-contextmenu",t.HIGHLIGHTING_MODE={NONE:0,INVERT:1,OUTLINE:2,PUSH:3,TOGGLE:4},t.RESOLVED_PROMISE_VOID=Promise.resolve(),t.DISTANCE_TOLERANCE=2,t.POINT_TOLERANCE=.01,t.POS_TYPE={FIRST:0,LAST:1,AFTER:2,BEFORE:3},t.STANDARD_HTML_ELEMENTS=["html","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],t.EMPTY_STR="",t.DB_PREFIX="FoxitPDFSDKForWeb_",t.SET_FORM_CREATION_CONTINUOUSLY="set_form_creation_continuously",t.HIDE_FORM_FIELD_PROPERTY_BOX="hideFormFieldPropertyBox",t.HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX="hideFormFieldSimplePropertyBox",t.MEASUREMENT_INFO="measurementInfo"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(42),a={annotationUpdated:"annotation-updated",annotationIDUpdated:"annotation-id-updated",annotationAppearanceUpdated:"annotation-appearance-updated",annotationReplyAdd:"annotation-reply-add",annotationReviewStateAnnotAdd:"annotation-review-state-annot-add",annotationMarkedStateAnnotAdd:"annotation-marked-state-annot-add",annotationStatesCleared:"annotation-states-cleared",annotationRemoved:"annotation-removed",annotationMovedPosition:"annotation-moved-position",annotationAdded:"annotation-add",annotationAdd:"annotation-add",moveAnnotsToPages:"moveAnnotsToPages",annotationImported:"annotation-imported",annotationImportedEx:"annotation-imported-ex",annotationLoaded:"annotation-loaded",actionUpdated:"action-updated",actionAdd:"action-add",actionRemove:"action-remove",layerVisibleChange:"layer-visible-change",bookmarkAdded:"bookmark-added",bookmarkUpdated:"bookmark-updated",bookmarkRemoved:"bookmark-removed",stateAnnotNameUpdated:"state-annot-name-updated",pageInfoChange:"page-info-change",pageRotationChange:"page-rotation-change",imageAdded:"image-added",watermarkAdded:"watermark-added",graphicsUpdated:"graphics-updated",permissionChanged:"permission-changed",docPasswordChanged:(0,n.identity)("doc-password-changed"),drmEncryptSuccess:"drm-encrypt-success",drmEncryptFailed:"drm-encrypt-failed",removePwdAndPerm:(0,n.identity)("remove-password-and-permission"),pageMoved:"page-moved",pageRemoved:"page-removed",pageAdded:"page-added",insertPages:"import-pages",importPages:"import-pages",applyRedaction:"apply-redaction",removeReviewState:"remove-review-state",removeMarkedState:"remove-marked-state",formValueChanged:"form-value-changed",metaDataChanged:"meta-data-changed",docModified:"doc-modified",flattened:"flattened",headerFooterUpdated:"headerFooterUpdated",headerFooterAdded:"headerFooterAdded",COChange:"COChange",pagesMoved:"pages-moved",pagesRemoved:"pages-removed",pagesRotated:"pages-rotated",obtainsPageFromEngine:"obtains-page-from-engine"};t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.convertFromNumberToHex=function(e){if("number"!=typeof e)throw new TypeError("Unexpected color value:"+e);if(e<0)return-1;var t=e.toString(16),i=6;e>16777215&&(i=8);for(;t.length<i;)t="0"+t;return"#"+t},t.convertFromNumberToRGBA=function(e){var t=void 0;e<16777216?t=255:(t=e/a&255,e&=16777215);return{r:e>>16&255,g:e>>8&255,b:255&e,a:t}},t.colorConvertor=o,t.standardColorAsARGBNumber=function(e){if(e<=16777215)return 4278190080+e;if(e>16777215)return e;if("string"==typeof e){if((e=e.replace("#","").trim()).match(/^[0-9A-F]{8}$/i))return parseInt(e,16);if(e.match(/^[0-9A-F]{6}$/i))return 4278190080+parseInt(e,16);if(e.match(/^rgb\(\d{1,3}(,\d{1,3}){2}\)$/i)){var t=e.split(/\D+/).map((function(e){return parseInt(e)})),i=n(t,4),a=i[1],o=i[2],r=i[3];return 4278190080+(a<<16)+(o<<8)+r}if(e.match(/^rgba\(\d{1,3}(,\d{1,3}){3}\)$/i)){var s=e.split(/\D+/).map((function(e){return parseInt(e)})),l=n(s,5),d=l[1],c=l[2],u=l[3],p=l[4];return Math.floor(4278190080*p)+(d<<16)+(c<<8)+u}}throw new Error('incorrect color format: "'+e+'"')},t.convertFromNumberToJSColor=function(e){return["RGB",((16711680&e)>>16)/255,((65280&e)>>8)/255,(255&e)/255]},t.getTransparentOrColor=function(e){var t=void 0;t=0===e?"transparent":o(16777215&e,"#");return t};var a=Math.pow(2,24);function o(e){var t,i,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HTML",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r="",s=void 0;switch("number"==typeof e&&(e=["int",e]),e[0]){case"int":t=(16711680&e[1])>>16,i=(65280&e[1])>>8,n=255&e[1];break;case"T":t=0,i=0,n=0,o=0;break;case"G":t=i=n=255*e[1];break;case"RGB":t=255*e[1],i=255*e[2],n=255*e[3];break;case"CMYK":t=(1-e[4])*(1-e[1])*255,i=(1-e[4])*(1-e[2])*255,n=(1-e[4])*(1-e[3])*255;break;case"r":t=+(s=e.match(/rgba?\((\d*),\s*(\d*),\s*(\d*),?\s*([\.0-9]*)?\)/))[1],i=+s[2],n=+s[3];var l=s[4];void 0!==l&&(o=+l);break;case"#":var d=4==e.length?/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/:/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;s=e.match(d),t=parseInt(s[1],16),i=parseInt(s[2],16),n=parseInt(s[3],16);break;default:throw new Error("Unsupported color format")}switch(a){case"HTML":r=t===i&&i===n&&-1===n?"transparent":"rgba("+parseInt(t)+","+parseInt(i)+","+parseInt(n)+","+o+")";break;case"RGB":r=["RGB",t/255,i/255,n/255];break;case"#":r+=t<16?"#0"+t.toString(16):"#"+t.toString(16),r+=i<16?"0"+i.toString(16):i.toString(16),r+=n<16?"0"+n.toString(16):n.toString(16);break;case"int":r=0,r|=(o*=255)<<24,r|=t<<16,r|=i<<8,r|=n,r>>>=0}return r}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PageOpened:0,PageClosed:1,DocWillClose:2,DocWillSave:3,DocSaved:4,DocWillPrint:5,DocPrinted:6,FieldKeyStroke:7,FieldWillFormat:8,FieldValueChanged:9,FieldRecalculateValue:10,AnnotCursorEnter:11,AnnotCursorExit:12,AnnotMouseButtonPressed:13,AnnotMouseButtonReleased:14,AnnotReceiveInputFocus:15,AnnotLoseInputFocus:16,AnnotPageOpened:17,AnnotPageClosed:18,AnnotPageVisible:19,AnnotPageInvisible:20}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),a=c(i(40)),o=(c(i(41)),c(i(5))),r=i(6),s=c(i(43)),l=c(i(44)),d=c(i(9));c(i(45));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isEmpty=!t,this.info=t||{},this.page=i,this.api=i.api;var n=this.engine=i.engine;this.eventEmitter=n.eventEmitter,this.id=t.id,this.objectNumber=t.objectNumber,this.isDestroyed=!1}return e.prototype.destroy=function(){this.isDestroyed=!0,this.info=null,this.page=null,this.api=null,this.eventEmitter=null},e.prototype.checkModidyPerm=function(){if("widget"!=this.info.type){if(!this.page.doc.checkPermission(l.default.annotForm))throw new Error("Permission error")}else if(!this.page.doc.checkPermission(l.default.fillForm|l.default.annotForm))throw new Error("Permission error")},e.prototype.hasModifyPermission=function(){return"widget"==this.info.type?this.page.doc.checkPermission(l.default.fillForm|l.default.annotForm):this.page.doc.checkPermission(l.default.annotForm)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype.getInfo=function(){return this.info},e.prototype.getId=function(){return this.info.objectNumber},e.prototype.getObjectNumber=function(){return this.info.objectNumber},e.prototype.getUniqueID=function(){return this.info.name},e.prototype.setUniqueID=function(e){var t=this,i=this.getPDFPage(),n=i.getPDFDoc(),a=this.getUniqueID();return this.page.doc.api.setUniqueId(n.getId(),i.getId(),this.getId(),e).then((function(n){return n?(t.info.name=e,t.update(d.default.uniqueIDUpdated).then((function(){return t.eventEmitter.emit(o.default.annotationIDUpdated,e,a,t,i),n}))):n}))},e.prototype.getName=function(){return this.info.name},e.prototype.getPDFPage=function(){return this.page},e.prototype.getPage=function(){return this.getPDFPage()},e.prototype.getType=function(){return this.info.type},e.prototype.getTitle=function(){return this.info.title},e.prototype.isMarkup=function(){return this.info.isMarkup},e.prototype.isDeleted=function(){return this.info.isDeleted},e.prototype.getRect=function(){var e=this.info.rect;return new s.default(e.left,e.bottom,e.right,e.top)},e.prototype._setRect=function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.info.rect=e;var n=this.getPDFPage(),a=n.getPDFDoc();return this.page.doc.api.setAnnotRect(a.getId(),n.getId(),this.getId(),e).then((function(e){return e&&i?t.update(d.default.rectUpdated).then((function(){return t.eventEmitter.emit(o.default.annotationAppearanceUpdated,[t],t.getPDFPage()),e})):e}))},e.prototype.setRect=function(e){var t=this;this.info.rect=e;var i=this.getPDFPage(),n=i.getPDFDoc();return this.page.doc.api.setAnnotRect(n.getId(),i.getId(),this.getId(),e).then((function(e){return e?t.update(d.default.rectUpdated).then((function(e){return t.eventEmitter.emit(o.default.annotationAppearanceUpdated,[t],t.getPDFPage()),!0})):e}))},e.prototype.setRectAndInnerRect=function(e,t){var i=this;this.info.rect=e,this.info.innerRect=t;var n=this.getPDFPage(),a=n.getPDFDoc();return this.page.doc.api.setAnnotRectAndInnerRect(a.getId(),n.getId(),this.getId(),e,t).then((function(e){return e?i.update(d.default.rectUpdated).then((function(e){return i.eventEmitter.emit(o.default.annotationAppearanceUpdated,[i],i.getPDFPage()),!0})):e}))},e.prototype.moveTo=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.left,n=t.top,a=t.action,r=Object.assign({},this.info.rect),s=r.right,l=r.bottom,c=i-r.left,u=n-r.top;this.info.rect={left:i,top:n,right:s+c,bottom:l+u};var p=this.getPDFPage(),f=p.getPDFDoc(),g=f.getId(),v=p.getId(),h=this.getId();return this.page.doc.api.moveAnnotTo(g,v,h,{left:i,top:n}).then((function(e){return p.getAnnotsByObjectNumArray(e)})).then((function(t){return Promise.all(t.map((function(e){return e._update()}))).then((function(i){e.eventEmitter.emit(o.default.annotationUpdated,t,p,d.default.rectUpdated),"move"==a&&e.eventEmitter.emit(o.default.annotationMovedPosition,t,p,e)}))}))},e.prototype.getDeviceRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.page.getDeviceRect(this.getRect(),e,t);if(16&this.info.flag){var n=this.page.getDevicePoint([this.info.rect.left,this.info.rect.top],e,t);return{left:n[0],top:n[1],right:n[0]+i.right-i.left,bottom:n[1]+i.bottom-i.top}}return i},e.prototype.getDeviceInnerRect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.page.getDeviceRect(this.getInnerRect(),e,t)},e.prototype.getContent=function(){return this.info.content},e.prototype.setContent=function(e){var t=this;return this.checkModidyPerm(),this._setContent(e).then((function(i){return t.info.content=e,t.eventEmitter.emit(o.default.annotationUpdated,[t],t.getPDFPage(),d.default.contentUpdated),t}))},e.prototype._setContent=function(e){var t=this.getPDFPage(),i=t.getPDFDoc();return this.page.doc.api.setAnnotContent(i.getId(),t.getId(),this.getId(),e)},e.prototype.getBorderColor=function(){return this.info.borderColor},e.prototype.setBorderColor=function(e){var t=this;this.checkModidyPerm(),isNaN(e)&&(e=(0,r.colorConvertor)(e,"int",1));var i=this.getPDFPage(),n=i.getPDFDoc();return this.page.doc.api.setAnnotBorderColor(n.getId(),i.getId(),this.getId(),e).then((function(n){return n?(0===e&&(t.info.hasBorderColor=!1),t.update(d.default.borderColorUpdated).then((function(){t.isGrouped&&t.isGrouped()&&t.getGroupElements().map((function(e){e!=t&&t.eventEmitter.emit(o.default.annotationAppearanceUpdated,[e],i)}));return t.eventEmitter.emit(o.default.annotationAppearanceUpdated,[t],i),n}))):n}))},e.prototype.getBorderStyle=function(){return this.info.borderInfo.style},e.prototype.getBorderStyleWithParam=function(){var e=this.info.borderInfo,t=e.style,i=e.cloudIntensity,a=e.dashes,o=void 0;switch(t){case n.BORDER_STYLE.SOLID:o=[];break;case n.BORDER_STYLE.CLOUDY:o=i;break;case n.BORDER_STYLE.DASHED:o=a}return{style:t,param:o}},e.prototype.getBorderInfo=function(){return Object.assign({},this.info.borderInfo)},e.prototype.setBorderInfo=function(e){var t=this;this.checkModidyPerm();var i=this.getType();if(this.getQuadPoints||"caret"===i||"text"===i)return Promise.resolve();var n=JSON.parse(JSON.stringify(this.info.borderInfo||{}));e=this.info.borderInfo=Object.assign(n,e);var a=this.getPDFPage(),r=a.getPDFDoc();return 1===e.style&&0===e.dashes.length&&(e.dashes=[2,2]),5===e.style&&e.cloudIntensity>2&&(e.cloudIntensity=2),this.page.doc.api.setAnnotBorderInfo(r.getId(),a.getId(),this.getId(),e).then((function(e){if(5===t.info.borderInfo.style)return t._update()})).then((function(e){return t.eventEmitter.emit(o.default.annotationUpdated,[t],a,d.default.borderInfoUpdated),t.eventEmitter.emit(o.default.annotationAppearanceUpdated,[t],a),!0}))},e.prototype.setBorderStyle=function(e,t){var i=this,n=this.info.borderInfo;switch(n.style=e,e){case 1:n.dashes=t;break;case 5:n.cloudIntensity=t}var a=this.getPDFPage(),r=a.getPDFDoc();return this.page.doc.api.setAnnotBorderStyle(r.getId(),a.getId(),this.getId(),e,t).then((function(e){return a.getAnnotsByObjectNumArray(e)})).then((function(e){for(var t=[],i=e.length;i--;)t.push(e[i]._update());return Promise.all(t)})).then((function(e){return i.eventEmitter.emit(o.default.annotationUpdated,e,a,d.default.borderStyleUpdated),i.eventEmitter.emit(o.default.annotationAppearanceUpdated,e,a),!0}))},e.prototype.getBorderDashes=function(){return Object.assign([],this.info.borderInfo.dashes)},e.prototype.getBorderWidth=function(){var e=this.info.borderInfo.width;return void 0===e?1:+e},e.prototype.setBorderWidth=function(e){var t=this,i=this.getPDFPage(),n=i.getPDFDoc();return this.page.doc.api.setAnnotBorderWidth(n.getId(),i.getId(),this.getId(),e).then((function(e){return t._update().then((function(t){return e}))})).then((function(e){return e&&(t.eventEmitter.emit(o.default.annotationUpdated,[t],i,d.default.borderWidthUpdated),t.eventEmitter.emit(o.default.annotationAppearanceUpdated,[t],i)),e}))},e.prototype.getCloudIntensity=function(){return this.info.borderInfo.cloudIntensity||0},e.prototype.reviseSummary=function(e){return Promise.resolve(this)},e.prototype.rectIsEmpty=function(){return this.info.rectIsEmpty},e.prototype.update=function(e){var t=this;return this._update().then((function(){return e&&t.eventEmitter.emit(o.default.annotationUpdated,[t],t.getPDFPage(),e),t}))},e.prototype._update=function(){var e=this,t=this.getPDFPage(),i=t.getPDFDoc();return this.page.doc.api.getAnnot(i.getId(),t.getId(),this.getId()).then((function(t){return e.updateInfo(t),e}))},e.prototype._updateMore=function(){},e.prototype.getFlags=function(){return this.info.flag},e.prototype.getIndex=function(){return this.info.index},e.prototype.setFlags=function(e,t){var i=this;this.checkModidyPerm(),this.info.flag=e;var n=this.getPDFPage(),a=n.getPDFDoc();return this.page.doc.api.setAnnotFlag(a.getId(),n.getId(),this.getId(),e).then((function(a){return a&&(t||("widget"==i.getType()&&i.updateUI({type:"display",value:e}),i.eventEmitter.emit(o.default.annotationUpdated,[i],n,d.default.flagsUpdated),i.eventEmitter.emit(o.default.annotationAppearanceUpdated,[i],n))),a}))},e.prototype.setFlagValue=function(e,t){return this.setFlags(e,t)},e.prototype.getModifiedDateTime=function(){var e=this.info.modifiedTimestamp;return e<0?null:new Date(e)},e.prototype.setModifiedDateTime=function(e){var t=this;this.checkModidyPerm();var i=this.getPDFPage(),n=i.getPDFDoc();return this.page.doc.api.setModifiedDateTime(n.getId(),i.getId(),this.getId(),e).then((function(e){return t.update(d.default.modifiedDateTimeUpdated)}))},e.prototype.exportToJSON=function(){var e=(0,r.colorConvertor)(16777215&this.info.borderColor,"#"),t=this.info.flag,i=[];for(var o in n.AnnotFlagsName)t&1<<parseInt(o)&&i.push(n.AnnotFlagsName[o]);i=i.join(",");var s=(0,a.default)(new Date(this.info.modifiedTimestamp),"D:yyyyMMddhhmmssTZ","'"),l=this.info.name,d=this.page.getIndex(),c=this.info.rect,u=c.left+","+c.bottom+","+c.right+","+c.top,p=this.info.content,f=this.info.borderInfo,g=this.info.type,v=this.info.customEntries,h={type:g,color:e,flags:i,date:s,name:l,page:d,rect:u,contents:p,width:f.width,customEntries:v,objectNumber:this.info.objectNumber};switch(f.style){case n.BORDER_STYLE.SOLID:h.style="solid";break;case n.BORDER_STYLE.DASHED:h.style="dashed",h.dashPhase=f.dashPhase,h.dashes=f.dashes.join(",");break;case n.BORDER_STYLE.UNDERLINE:h.style="underline";break;case n.BORDER_STYLE.BEVELED:h.style="beveled";break;case n.BORDER_STYLE.INSET:h.style="inset";break;case n.BORDER_STYLE.CLOUDY:h.style="cloudy",h.intensity=f.cloudIntensity}return h},e.prototype.updateInfo=function(e){this._isEmpty=!e,this.info=e,this._updateMore(),this.action&&e.action&&(this.action.info=e.action)},e.prototype.getIntent=function(){return""},e.prototype.setCustomEntries=function(e,t){this.info.customEntries=this.info.customEntries||{},this.info.customEntries[e]=t},e.prototype.setDictionaryEntry=function(e,t){var i=this;return this._setDictionaryEntry(e,t).then((function(e){return e&&i.eventEmitter.emit(o.default.annotationUpdated,[i],i.getPDFPage(),d.default.addDictionary),e}))},e.prototype._setDictionaryEntry=function(e,t){var i=this,n=this.getPDFPage(),a=n.getPDFDoc();return this.page.doc.api.setDictionaryEntry(a.getId(),n.getId(),this.getId(),e,t).then((function(n){return n&&i.setCustomEntries(e,t),n}))},e.prototype.getDictionaryEntry=function(e){return this._getDictionaryEntry(e)},e.prototype._getDictionaryEntry=function(e){var t=this.getPDFPage(),i=t.getPDFDoc();return this.page.doc.api.getDictionaryEntry(i.getId(),t.getId(),this.getId(),e)},e.prototype.resetAppearanceStream=function(){var e=this.getPDFPage(),t=e.getPDFDoc();return this.page.doc.api.resetAppearanceStream(t.getId(),e.getId(),this.getId())},e}();t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={contentUpdated:"content-updated",borderInfoUpdated:"borderInfo-updated",borderStyleUpdated:"borderStyle-updated",borderWidthUpdated:"borderWidth-updated",borderColorUpdated:"borderColor-updated",modifiedDateTimeUpdated:"modifiedDateTime-updated",uniqueIDUpdated:"uniqueID-updated",flagsUpdated:"flags-updated",rectUpdated:"rect-updated",innerRectUpdated:"innerRect-updated",iconNameUpdated:"iconName-updated",rotationUpdated:"rotation-updated",defaultAppearanceUpdated:"defaultAppearance-updated",calloutLineEndingStyleUpdated:"calloutLineEndingStyle-updated",calloutLinePointsUpdated:"calloutLinePoints-updated",fillColorUpdated:"fillColor-updated",textColorUpdated:"textColor-updated",alignmentUpdated:"alignment-updated",inkListUpdated:"inkList-updated",endPointUpdated:"endPoint-updated",startPointUpdated:"startPoint-updated",endingStyleUpdated:"endingStyle-updated",enableCaptionUpdated:"enableCaption-updated",leaderCaptionOffsetUpdated:"leaderCaptionOffset-updated",styleFillColorUpdated:"styleFillColor-updated",leaderLineLengthUpdated:"leaderLineLength-updated",leaderLineExtendUpdated:"leaderLineExtend-updated",leaderLineOffsetUpdated:"leaderLineOffset-updated",measureRatioUpdated:"measureRatio-updated",measureUnitUpdated:"measureUnit-updated",measureConversionFactorUpdated:"measureConversionFactor-updated",removeAction:"remove-action",actionDataUpdated:"actionData-updated",addAction:"add-action",highlightingModeUpdated:"highlightingMode-updated",subjectUpdated:"subject-updated",titleUpdated:"title-updated",createDateTimeUpdated:"createDateTime-updated",opacityUpdated:"opacity-updated",intentUpdated:"intent-updated",vertexesUpdated:"vertexes-updated",applyFillColorUpdated:"applyFillColor-updated",quadPointsUpdated:"quadPoints-updated",reviewStateUpdated:"review-state-updated",markedStateUpdated:"marked-state-updated",statesCleared:"state-cleared",replyAdded:"add-replies",addDictionary:"add-dictionary",formFieldValueUpdated:"form-field-value",formFieldsMaxLengthUpdated:"maxLength",formFieldItemsUpdated:"setItems",formFieldIconUpdated:"icon",formFieldInsertedItem:"insertItemAt",formFieldExportValueUpdated:"form-field-export-value",formFieldMKPropertyUpdated:"form-field-mk-property",formFieldAlternateName:"form-field-alternate-name",formFieldActionUpdated:"form-field-action"}},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ReadOnly:1,Required:2,NoExport:4,Hidden:8,ButtonNoToggleToOff:16384,ButtonRadiosInUnison:33554432,TextMultiline:4096,TextPassword:8192,TextDoNotSpellCheck:4194304,TextDoNotScroll:8388608,TextComb:16777216,ComboEdit:262144,ChoiceMultiSelect:2097152,CommitOnSelChange:67108864,inUnison:function(e){return e&n.ButtonRadiosInUnison},isHidden:function(e){return e&n.Hidden},isReadOnly:function(e){return e&n.ReadOnly},isRequired:function(e){return e&n.Required},isNoExport:function(e){return e&n.NoExport},isMultiline:function(e){return e&n.TextMultiline},isPassword:function(e){return e&n.TextPassword},isComb:function(e){return e&n.TextComb},isNoSpellCheck:function(e){return e&n.TextDoNotSpellCheck},isNoScroll:function(e){return e&n.TextDoNotScroll},isComboEdit:function(e){return e&n.ComboEdit},isChoiceMultiSelect:function(e){return e&n.ChoiceMultiSelect}},a={FlagExclude:1,FlagIncludeNoValueFields:2,FlagExportFormat:4,FlagGetMethod:8,FlagWithCoordinates:16,FlagAsXFDF:32,FlagIncludeAppendSaves:64,FlagIncludeAnnotations:128,FlagSubmitAsPDF:256,FlagCanonicalFormat:512,FlagExclNonUserAnnots:1024,FlagExclFKey:2048,FlagEmbedForm:8192,isExclude:function(e){return e&a.FlagExclude},isIncludeNoValueFields:function(e){return e&a.FlagIncludeNoValueFields},isHTML:function(e){return e&a.FlagExportFormat},isGetMethod:function(e){return e&a.FlagGetMethod},isXFDF:function(e){return e&a.FlagAsXFDF},isPDF:function(e){return e&a.FlagSubmitAsPDF},getType:function(e){var t=a.isHTML(e);if(t)return"HTML";var i=a.isXFDF(e);if(i)return"XFDF";var n=a.isXFDF(e);return n?"PDF":t||i||n?void 0:"FDF"}},o={Unknown:0,PushButton:1,CheckBox:2,RadioButton:3,Text:6,ListBox:5,ComboBox:4,Sign:7,Barcode:8},r=n;t.FieldType=o,t.FieldFlag=r,t.FormActionFlags=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FoxitFontMap={FoxitFixedOTF:"Courier",FoxitSansMM:"Courier","FoxitFixedOTF-Bold":"Courier-Bold","FoxitFixedOTF-Italic":"Courier-Oblique","FoxitFixedOTF-BoldItalic":"Courier-BoldOblique",FoxitSansOTF:"Helvetica","FoxitSansOTF-Italic":"Helvetica-Oblique","FoxitSansOTF-Bold":"Helvetica-Bold","FoxitSansOTF-BoldItalic":"Helvetica-BoldOblique","FoxitSansPS-BoldItalic":"Helvetica-BoldOblique",FoxitSerifOTF:"Times-Roman","FoxitSerifOTF-Italic":"Times-Italic","FoxitSerifOTF-Bold":"Times-Bold","FoxitSerifOTF-BoldItalic":"Times-BoldItalic",FoxitSymbolOTF:"Symbol",FoxitDingbatsOTF:"ZapfDingbats"},t.FontFamilies=[{name:"Times Roman",value:"Times-Roman"},{name:"Times Bold",value:"Times-Bold"},{name:"Times Italic",value:"Times-Italic"},{name:"Times BoldItalic",value:"Times-BoldItalic"},{name:"Helvetica",value:"Helvetica"},{name:"Helvetica Bold",value:"Helvetica-Bold"},{name:"Helvetica Oblique",value:"Helvetica-Oblique"},{name:"Helvetica BoldOblique",value:"Helvetica-BoldOblique"},{name:"Courier",value:"Courier"},{name:"Courier Bold",value:"Courier-Bold"},{name:"Courier Oblique",value:"Courier-Oblique"},{name:"Courier BoldOblique",value:"Courier-BoldOblique"},{name:"Symbol",value:"Symbol"},{name:"ZapfDingbats",value:"ZapfDingbats"}],t.BorderStyleMap={solid:0,dashed:1,underline:2,beveled:3,inset:4},t.BorderWidthMap={1:"thin",2:"medium",3:"thick"}},function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StateNameFieldTypeMap=t.StateNameAnnotTypeMap=t.STATE_HANDLER_CREATE_RADIO_BUTTON=t.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON=t.STATE_HANDLER_CREATE_FIELD_SIGNATURE=t.STATE_HANDLER_CREATE_FIELD_TEXT=t.STATE_HANDLER_SNAPSHOT_TOOL=t.STATE_HANDLER_CREATE_FREETEXT_BOX=t.STATE_HANDLER_CREATE_FREETEXT_CALLOUT=t.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER=t.STATE_HANDLER_SELECT_ANNOTATION=t.STATE_HANDLER_SELECT_TEXT_IMAGE=t.STATE_HANDLER_SELECT_TEXT_ANNOTATION=t.STATE_HANDLER_LOUPE=t.STATE_HANDLER_ERASER=t.STATE_HANDLER_MARQUEE=t.STATE_HANDLER_CREATE_UNDERLINE=t.STATE_HANDLER_CREATE_TEXT=t.STATE_HANDLER_CREATE_STRIKE_OUT=t.STATE_HANDLER_CREATE_STAMP=t.STATE_HANDLER_CREATE_SQUIGGLY=t.STATE_HANDLER_CREATE_SQUARE=t.STATE_HANDLER_CREATE_REPLACE=t.STATE_HANDLER_CREATE_POLYLINE=t.STATE_HANDLER_CREATE_POLYGON=t.STATE_HANDLER_CREATE_POLYGON_CLOUD=t.STATE_HANDLER_CREATE_PENCIL=t.STATE_HANDLER_CREATE_CIRCLE_AREA=t.STATE_HANDLER_CREATE_AREA=t.STATE_HANDLER_CREATE_PERIMETER=t.STATE_HANDLER_CREATE_DISTANCE=t.STATE_HANDLER_CREATE_LINE=t.STATE_HANDLER_CREATE_LINK=t.STATE_HANDLER_CREATE_EDIT_IMAGE=t.STATE_HANDLER_CREATE_IMAGE=t.STATE_HANDLER_CREATE_HIGHLIGHT=t.STATE_HANDLER_CREATE_FILE_ATTACHMENT=t.STATE_HANDLER_CREATE_CIRCLE=t.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT=t.STATE_HANDLER_CREATE_ARROW=t.STATE_HANDLER_CREATE_CARET=t.STATE_HANDLER_CHECK_THE_SEARCH=t.STATE_HANDLER_HAND=void 0;var a=i(11);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.STATE_HANDLER_HAND="hand",t.STATE_HANDLER_CHECK_THE_SEARCH="checkTheSearch";var r=t.STATE_HANDLER_CREATE_CARET="createCaret",s=t.STATE_HANDLER_CREATE_ARROW="createArrow",l=t.STATE_HANDLER_CREATE_CREATE_AREA_HIGHLIGHT="createAreaHighlight",d=t.STATE_HANDLER_CREATE_CIRCLE="createCircle",c=t.STATE_HANDLER_CREATE_FILE_ATTACHMENT="createFileAttachment",u=t.STATE_HANDLER_CREATE_HIGHLIGHT="createHighlight",p=t.STATE_HANDLER_CREATE_IMAGE="createImage",f=(t.STATE_HANDLER_CREATE_EDIT_IMAGE="createEditImage",t.STATE_HANDLER_CREATE_LINK="createLink"),g=t.STATE_HANDLER_CREATE_LINE="createLine",v=t.STATE_HANDLER_CREATE_DISTANCE="createDistance",h=t.STATE_HANDLER_CREATE_PERIMETER="createPerimeter",m=t.STATE_HANDLER_CREATE_AREA="createArea",_=t.STATE_HANDLER_CREATE_CIRCLE_AREA="createCircleArea",b=t.STATE_HANDLER_CREATE_PENCIL="createPencil",y=t.STATE_HANDLER_CREATE_POLYGON_CLOUD="createPolygonCloud",F=t.STATE_HANDLER_CREATE_POLYGON="createPolygon",C=t.STATE_HANDLER_CREATE_POLYLINE="createPolyline",w=t.STATE_HANDLER_CREATE_REPLACE="createReplace",T=t.STATE_HANDLER_CREATE_SQUARE="createSquare",x=t.STATE_HANDLER_CREATE_SQUIGGLY="createSquiggly",A=t.STATE_HANDLER_CREATE_STAMP="createStamp",D=t.STATE_HANDLER_CREATE_STRIKE_OUT="createStrikeOut",E=t.STATE_HANDLER_CREATE_TEXT="createText",S=t.STATE_HANDLER_CREATE_UNDERLINE="createUnderline",R=(t.STATE_HANDLER_MARQUEE="marquee",t.STATE_HANDLER_ERASER="eraser",t.STATE_HANDLER_LOUPE="loupe",t.STATE_HANDLER_SELECT_TEXT_ANNOTATION="select-text-annotation",t.STATE_HANDLER_SELECT_TEXT_IMAGE="select-text-image",t.STATE_HANDLER_SELECT_ANNOTATION="select-annotation",t.STATE_HANDLER_CREATE_FREETEXT_TYPEWRITER="CreateFreeTextTypewriterHandler"),k=t.STATE_HANDLER_CREATE_FREETEXT_CALLOUT="createFreeTextCallout",P=t.STATE_HANDLER_CREATE_FREETEXT_BOX="createFreeTextBox",$=(t.STATE_HANDLER_SNAPSHOT_TOOL="snapshot-tool",t.STATE_HANDLER_CREATE_FIELD_TEXT="CreateTextFieldHandler",t.STATE_HANDLER_CREATE_FIELD_SIGNATURE="CreateSignatureFieldHandler",t.STATE_HANDLER_CREATE_FIELD_PUSH_BUTTON="CreatePushButtonFieldHandler",t.STATE_HANDLER_CREATE_RADIO_BUTTON="CreateRadioButtonStateHandler",o(n={},E,"text"),o(n,u,"highlight"),o(n,D,"strikeout"),o(n,S,"underline"),o(n,x,"squiggly"),o(n,w,"strikeout"),o(n,r,"caret"),o(n,R,"freetext"),o(n,k,"freetext"),o(n,P,"freetext"),o(n,T,"square"),o(n,d,"circle"),o(n,g,"line"),o(n,s,"line"),o(n,F,"polygon"),o(n,C,"polyline"),o(n,y,"polygon"),o(n,l,"highlight"),o(n,b,"ink"),o(n,A,"stamp"),o(n,v,"line"),o(n,h,"polyline"),o(n,m,"polygon"),o(n,_,"circle"),o(n,c,"fileattachment"),o(n,p,"screen"),o(n,f,"link"),o(n,"create-multi-media-state","screen"),o(n,"create-redaction-text-state","redact"),o(n,"create-redaction-state","redact"),n),I={CreatePushButtonStateHandler:a.FieldType.PushButton,CreateCheckBoxStateHandler:a.FieldType.CheckBox,CreateRadioButtonStateHandler:a.FieldType.RadioButton,CreateComboBoxStateHandler:a.FieldType.ComboBox,CreateListBoxStateHandler:a.FieldType.ListBox,CreateTextStateHandler:a.FieldType.Text,CreateSignStateHandler:a.FieldType.Sign,CreateDateStateHandler:a.FieldType.Text,CreateImageStateHandler:a.FieldType.PushButton};t.StateNameAnnotTypeMap=$,t.StateNameFieldTypeMap=I},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORM_FIELD_STATE_HANDLER_NAMES=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var s=t.FORM_FIELD_STATE_HANDLER_NAMES=[],l=n.PDFViewCtrl.ViewerEvents,d=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return r(t,e),t.getName=function(){return"assistant-button"},t.prototype.init=function(){e.prototype.init.call(this),this.taskExecutor=new n.PDFViewCtrl.shared.QueuedAsyncTaskExecutor,this.isAssistantEnabled=!1},t.prototype.onclick=function(){var e=this,t=this.getPDFUI();this.taskExecutor.exec((function(){return e.isAssistantEnabled?t.stopFormDesginerAssist():t.startFormDesginerAssist()}))},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var i=this.getPDFUI();this.addDestroyHook(i.addViewerEventListener(l.designerAssistantStatusChanged,(function(e){t.isAssistantEnabled=e,e?t.active():t.deactive()})),i.addViewerEventListener(l.switchStateHandler,(function(e,i){e&&t.handleStateHandlerChange(e,i)})),i.addViewerEventListener(l.openFileSuccess,(function(){i.getStateHandlerManager().then((function(e){var i=e.getCurrentStates();i&&t.handleStateHandlerChange(i)}))})))},t.prototype.handleStateHandlerChange=function(e,t){var i=this,n=this.getPDFUI(),a=e.getStateName();if(s.indexOf(a)>-1){if(t){var o=t.getStateName();if(s.indexOf(o)>-1)return}if(this.enable(),this.isAssistantEnabled)return void this.active();this.taskExecutor.exec((function(){return n.startFormDesginerAssist()}))}else this.taskExecutor.exec((function(){return n.stopFormDesginerAssist().then((function(){i.disable()}))}))},t}(n.SeniorComponentFactory.createSuperClass({template:'\n        <xbutton \n            text="form-designer:assistant.button-text" \n            icon-class="fv__icon-toolbar-designer-assistant"\n            @tooltip \n            tooltip-title="form-designer:assistant.button-tooltip"\n            @on.click="$component.onclick()"\n        ></xbutton>\n    '}));t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)),s=D(i(16)),l=D(i(17)),d=D(i(62)),c=D(i(65)),u=D(i(69)),p=D(i(72)),f=D(i(75)),g=D(i(78)),v=D(i(81)),h=D(i(82)),m=D(i(83)),_=D(i(1)),b=D(i(86)),y=i(13),F=D(i(93)),C=D(i(94)),w=D(i(95)),T=i(12),x=i(4);i(96);var A=D(i(14));function D(e){return e&&e.__esModule?e:{default:e}}function E(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,i){return function n(a,o){try{var r=t[a](o),s=r.value}catch(e){return void i(e)}if(!r.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}("next")}))}}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var $=PDFViewCtrl.PDF.form.constant.Field_Flag,I=PDFViewCtrl.ViewerEvents,O=PDFViewCtrl.PDF.constant.AnnotUpdatedType,N=PDFViewCtrl.AnnotComponent,L={MultipleCopy:c.default,Duplicate:u.default,PickField:p.default,JSInput:f.default},M=r.vendors,U=M.jQuery,B=(M.i18next,M.i18nextChainedBackend,M.i18nextLocalStorageBackend,M.i18nextXHRBackend,M.dialogPolyfill,M.Hammer,M.EventEmitter,U),H=r.StatefulController,V=PDFViewCtrl.PDF.constant.User_Permissions,j=PDFViewCtrl,W=j.IStateHandler,z=j.ShapeControl,G=(PDFViewCtrl.PDF.form.constant.Field_Type,[{name:"CreateUnknown",type:0},{name:"CreatePushButton",type:1},{name:"CreateCheckBox",type:2},{name:"CreateRadioButton",type:3},{name:"CreateComboBox",type:4},{name:"CreateListBox",type:5},{name:"CreateText",type:6},{name:"CreateSign",type:7},{name:"CreateDate",type:6},{name:"CreateImage",type:1}]),Y=function(e){function t(){return R(this,t),k(this,e.apply(this,arguments))}return P(t,e),t.getName=function(){return"FormDesigner"},t.getLoader=function(){return s.default},t.isBlockedFeature=function(){return!r.PDFViewCtrl.DeviceInfo.isDesktop},t.initOnLoad=function(){if(!t.isBlockedFeature()){for(var e=r.modular.module("form-designer",[]),i=[],n=1;n<G.length;n++){var s=(0,m.default)(W,z,G[n].name+"StateHandler",G[n].type),l=(0,v.default)(G[n].name+"Controller",H,s,V);i.push(G[n].name+"StateHandler"),e.registerController(l)}e.registerComponent(A.default),e.registerController(h.default),e.registerController(function(e){function t(){return R(this,t),k(this,e.apply(this,arguments))}return P(t,e),t.getName=function(){return"ShowPropertiesController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var i=this.component;i.parent.on("shown",(function(){t.getPDFUI().getAllActiveElements().then((function(e){e.length>1?i.disable():i.enable()}))}))},t.prototype.handle=function(){var e=this.component.parent.getCurrentTarget(),t=this.getPDFUI().formDesignDialog;t.setAnnot(e),t.show()},t}(r.Controller)),e.registerController(function(e){function t(){return R(this,t),k(this,e.apply(this,arguments))}return P(t,e),t.getName=function(){return"Delete"},t.prototype.handle=function(){var e=this;this.getPDFUI().getPDFViewer().then((function(t){t.getAllActiveElements().forEach((function(t){t instanceof N?t.removeAnnot():(e.getPDFUI().editingMgr.removeAnnot(t.widget),e.getPDFUI().formDesignDialog.lockedHandler(!0))}))}))},t}(r.Controller)),e.registerController(function(e){function t(){return R(this,t),k(this,e.apply(this,arguments))}return P(t,e),t.getName=function(){return"SetAsDefaultPropertiesController"},t.prototype.handle=function(){var e=this.component.parent.getCurrentTarget();this.pdfUI.getStore().then((function(t){if(!e||"widget"!==e.info.type)throw new Error("set default properties: invalid parameters!");var i=e,n=i.getField(),a=n.info.type,o=i.getFlags(),r=n.getFlags(),s=n.getAlignment(),l=n.getBorderColor(),d=n.getBorderStyle(),c=T.BorderWidthMap[n.getBorderWidth()]||0,u=n.getFillColor(),p=i.getDefaultAppearance(),f=i.getDAFontColor(),g=p.fontName,v=p.textSize,h={fieldType:a,value:{annotFlags:o,fieldFlags:r,alignment:s,DA:{textColor:f,fontName:T.FoxitFontMap[g]?T.FoxitFontMap[g]:g,textSize:v},fillColor:u,border:{borderColor:l,borderStyle:d,borderWidth:c}}};t.dispatch("get-form-field-default-props",h)}))},t}(r.Controller)),G.forEach((function(t){var i=t.name.replace(/[A-Z]/g,(function(e,t){return 0===t?e.toLowerCase():"-"+e.toLowerCase()}));e.registerPreConfiguredComponent(i,{template:'<xbutton name="fv--form-designer-'+i+'-btn" icon-class="fv__icon-toolbar-form-'+i+'" @tooltip tooltip-title="form-designer:tips.'+t.name+'" @controller="form-designer:'+t.name+'Controller">form-designer:tips.'+t.name+"</xbutton>"})})),e.controller("Copy",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),d.call(this)},handle:function(){this.getPDFUI().getPDFViewer().then((function(e){return e.copy()}))}}),e.controller("Cut",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),d.call(this)},handle:function(){var e=this.component.parent.getCurrentTarget(),t=this.getPDFUI().formDesignDialog;t.setAnnot(e),t.show()}}),e.controller("MultipleCopy",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),d.call(this)},handle:function(){var e=this.getPDFUI(),t=e.addonInstanceMap.FormDesignerUIXAddon.getDialog("MultipleCopy"),i=this.component.parent.getCurrentTarget();if(i.getField().controls.length>1)return e.alert({message:"form-designer:dialog.numberError",level:"warning"});e.editingMgr.enableShortcut(0),t.show(i,(function(t,i,n,a,o){if(e.editingMgr.enableShortcut(1),t&&!t.isDeleted()){var r=t.getField(),s=t.getPage();return i?r.form.copyControls(t,s,o.map((function(e){return{rect:e,fieldName:r.getName(),srcObjectNumber:t.getObjNum()}}))):r.form.duplicateField(r.getName(),t,n,a,o).then((function(i){return e.editingMgr.updateLabel(t)}))}}))}}),e.controller("CopyToPage",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),d.call(this)},handle:function(){var e=this.getPDFUI(),t=e.addonInstanceMap.FormDesignerUIXAddon.getDialog("Duplicate"),i=this.component.parent.getCurrentTarget();e.editingMgr.enableShortcut(0),t.show(i,i.page.doc.getPageCount(),[],(function(t,n){e.editingMgr.enableShortcut(1),t&&e.getPDFDocRender().then((function(e){if(!i.isDeleted()){var a=e.getPDFDoc().pageCache,o=[];a.forEach((function(e){e&&o.push(e.getIndex())}));var r=i.page.getIndex();n=n.filter((function(e){return e!=r})),t.getField().form.duplicateWidget(n,t.getField().getName(),t.getObjNum(),o)}}))}))}}),e.controller("SetTabOrder",{mounted:function(){r.Controller.prototype.mounted.apply(this,arguments),d.call(this)},handle:function(){var e=this.component.parent.getCurrentTarget();this.pdfUI.eventEmitter.emit("set-tab-order",e)}}),e.registerPreConfiguredComponent("keep-tool-selected-checkbox",{template:'<checkbox @tooltip name="keep-tool-selected-checkbox" @controller="form-designer:KeepToolSelectedController" class="fv__icon-toolbar-keep-tool-selected noWarp"></checkbox>',config:{target:"keep-tool-selected-checkbox",tooltip:{title:"form-designer:tips.KeepToolSelected"},text:"form-designer:tips.KeepToolSelected",checked:!1,callback:function(e){function t(){return R(this,t),k(this,e.apply(this,arguments))}return P(t,e),t.getName=function(){return"keep-tool-selected"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.component.disable(),this.$keepToolSelectedCheckbox=B(this.component.element).find("input[type='checkbox']"),this.getPDFUI().getPDFViewer().then((function(e){t.$keepToolSelectedCheckbox.change((function(){e.setFormCreationContinuously(t.$keepToolSelectedCheckbox.prop("checked"))})),e.eventEmitter.on(I.switchStateHandler,(function(e,n){i.indexOf(e.getStateName())>-1?t.component.enable():t.component.disable()}))}))},t}(r.Controller)}}),e.registerPreConfiguredComponent("highlight-fields-checkbox",{template:'<checkbox @tooltip name="highlight-fields-checkbox" @controller="form-designer:HighlightFieldsController" tooltip-title="form-designer:tips.HighlightFields" text="form-designer:tips.HighlightFields" class="fv__icon-toolbar-highlight-fields noWarp"></checkbox>',config:{target:"highlight-fields-checkbox",checked:!0,callback:function(e){function t(){return R(this,t),k(this,e.apply(this,arguments))}return P(t,e),t.getName=function(){return"HighlightFieldsController"},t.prototype.mounted=function(){var t,n=this;e.prototype.mounted.call(this);var a=this.getPDFUI();this.addDestroyHook(a.addViewerEventListener((S(t={},PDFViewCtrl.ViewerEvents.openFileSuccess,(function(e){n.changePermission(e),n.getPDFUI().getPDFViewer().then((function(e){var t=e.highlightControls();e.setHighlightControlsUI(t)}))})),S(t,_.default.fieldAdded,(function(e,t,i){a.getCurrentPDFDoc().then((function(e){n.changePermission(e)}))})),S(t,I.annotationRemoved,(function(e){a.getCurrentPDFDoc().then((function(e){n.changePermission(e)}))})),t))),this.$highlightFieldsCheckbox=B(this.component.element).find("input[type='checkbox']"),this.getPDFUI().getPDFViewer().then((function(e){var t=e.highlightControls();e.highlightForm(t),n.$highlightFieldsCheckbox.change((function(){var t=e.getStateHandlerManager().getCurrentStates().getStateName();e.highlightForm(n.$highlightFieldsCheckbox.prop("checked")),i.indexOf(t)>-1&&a.editingMgr.showAllFormHighLight(!1),t===y.STATE_HANDLER_SELECT_ANNOTATION&&a.editingMgr.showAllFormHighLight(!1)})),e.eventEmitter.on(I.switchStateHandler,(function(t,n){i.indexOf(t.getStateName())>-1||t.getStateName()===y.STATE_HANDLER_SELECT_ANNOTATION?a.editingMgr.showAllFormHighLight(!1):(e.setHighlightControlsUI(e.highlightControls()),a.editingMgr.showAllFormHighLight(e.highlightControls()))})),e.eventEmitter.on(I.setFromFieldHighlight,(function(e){n.$highlightFieldsCheckbox.prop("checked",e)}))}))},t.prototype.changePermission=function(e){var t=this,i=this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()}));Promise.all([e.hasForm(),i]).then((function(e){var i=a(e,2),n=i[0];i[1]&t.constructor.permission&&n?t.component.lock&&t.component.unlock():t.component.lock&&t.component.lock()}))},o(t,null,[{key:"permission",get:function(){return V.modify+V.annotForm+V.fillForm}}]),t}(r.Controller)}}),e.registerController(C.default),e.registerPreConfiguredComponent("reset-form",{template:'<xbutton @tooltip name="fv--reset-field-btn" @controller="form-designer:ResetFormController" tooltip-title="form-designer:tips.ResetForm" icon-class="fv__icon-toolbar-reset-field">form-designer:tips.ResetForm</xbutton>'}),e.registerController(w.default),e.registerPreConfiguredComponent("add-tooltip",{template:'<xbutton @tooltip name="fv--add-tooltip-btn" @controller="form-designer:AddTooltipController" tooltip-title="form-designer:tips.AddTooltip" icon-class="fv__icon-toolbar-add-tooltip">form-designer:tips.AddTooltip</xbutton>'}),e.registerPreConfiguredComponent("showCO",{template:'<xbutton name="fv--showCO-btn" icon-class="fv__icon-toolbar-form-CO" @tooltip tooltip-title="form-designer:tips.showCO" @controller="form-designer:showCODialogController">form-designer:tips.showCO</xbutton>'}),e.controller("showCODialogController",{mounted:function(){var e,t=this;this.getPDFUI().addViewerEventListener((S(e={},PDFViewCtrl.ViewerEvents.renderFileSuccess,(function(e){e.getPDFForm();e.getPDFForm().getCO().length?t.component.enable():t.component.disable()})),S(e,PDFViewCtrl.ViewerEvents.COChange,(function(e){e.length?t.component.enable():t.component.disable()})),e))},handle:function(){var e=this.getPDFUI(),t=e.CODialog;t||(t=e.CODialog=new g.default(e),e.getRootComponent().then((function(e){e.append(t.dialog)}))),e.getCurrentPDFDoc().then((function(e){var i=e.getPDFForm(),n=e.getPDFForm().getCO();t.show(n,(function(e){i.setCO(e)}))}))}}),e.registerController(F.default),e.registerPreConfiguredComponent("alignment-menu",{template:'<div name="alignment-menu" @controller="form-designer:AlignmentMenuController as acl">\n                    <dropdown name="dropdown-align" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.align.title">\n                        <xbutton @on.click="acl.align(\'left\')">form-designer:contextMenu.align.left</xbutton>\n                        <xbutton @on.click="acl.align(\'right\')">form-designer:contextMenu.align.right</xbutton>\n                        <xbutton @on.click="acl.align(\'top\')">form-designer:contextMenu.align.top</xbutton>\n                        <xbutton @on.click="acl.align(\'bottom\')">form-designer:contextMenu.align.bottom</xbutton>\n                        <contextmenu-separator></contextmenu-separator>\n                        <xbutton @on.click="acl.align(\'vertically\')">form-designer:contextMenu.align.vertically</xbutton>\n                        <xbutton @on.click="acl.align(\'horizontally\')">form-designer:contextMenu.align.horizontally</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-center" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.center.title">\n                        <xbutton @on.click="acl.center(\'vertically\')">form-designer:contextMenu.center.vertically</xbutton>\n                        <xbutton @on.click="acl.center(\'horizontally\')">form-designer:contextMenu.center.horizontally</xbutton>\n                        <xbutton @on.click="acl.center(\'both\')">form-designer:contextMenu.center.both</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-distribute" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.distribute.title">\n                        <xbutton @on.click="acl.distribute(\'vertically\')">form-designer:contextMenu.distribute.vertically</xbutton>\n                        <xbutton @on.click="acl.distribute(\'horizontally\')">form-designer:contextMenu.distribute.horizontally</xbutton>\n                    </dropdown>\n                    <dropdown name="dropdown-size" separate="false" align="out-right" valign="top" text="form-designer:contextMenu.size.title">\n                        <xbutton @on.click="acl.size(\'height\')">form-designer:contextMenu.size.height</xbutton>\n                        <xbutton @on.click="acl.size(\'width\')">form-designer:contextMenu.size.width</xbutton>\n                        <xbutton @on.click="acl.size(\'both\')">form-designer:contextMenu.size.both</xbutton>\n                    </dropdown>\n                </div>',config:{target:"alignment-menu",callback:function(e){function t(){return R(this,t),k(this,e.apply(this,arguments))}return P(t,e),t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this);var i,n=this.getPDFUI(),a=this.component.$container.$children,o=["strikeout","underline","caret","squiggly","highlight"],r=["polygon","polyline","PolygonCloud","LineArrow","ink","Line","LineDimension","freetext","fileattachment","FreeTextCallout","text","PolygonDimension","PolyLineDimension"].map((function(e){return e.toLowerCase()}));this.addDestroyHook(this.component.parent.on("shown",(i=E(regeneratorRuntime.mark((function e(i,s,l){var d,c,u,p,f,g,v,h=(d=E(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>=f.length)){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,v(f[t]);case 4:if(!e.sent){e.next=9;break}return e.abrupt("return",h(t+1));case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)});return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(e){return g.getPermission(e.annot).then((function(e){return e.ignorable()||e.isModifiable()}))},c=!1,u=!1,p=!1,e.next=6,n.getAllActiveElements();case 6:return(f=e.sent).forEach((function(e){var t=e.annot;if(t){var i=(t.getIntent()||t.getType()||"").toLowerCase(),n=e.getAnnotFlag();(n.checkReadOnly()||n.checkLocked())&&(c=!0),o.indexOf(i)>-1&&(u=!0),r.indexOf(i)>-1&&(p=!0)}})),e.next=10,n.getAnnotAuthorityManager();case 10:return g=e.sent,e.next=13,n.getPDFDocRender();case 13:if(e.sent.noInteraction&&(c=!0),c){e.next=19;break}return e.next=18,h(0);case 18:c=e.sent;case 19:a.forEach((function(e){if(u)e.hide();else switch(e.show(),e.name){case"dropdown-align":c||f.length<=1?e.disable():e.enable();break;case"dropdown-center":c?e.disable():e.enable();break;case"dropdown-distribute":c||f.length<=2?e.disable():e.enable();break;case"dropdown-size":c||f.length<=1?e.disable():e.enable(),p?e.hide():e.show()}}));case 20:case"end":return e.stop()}}),e,t)}))),function(e,t,n){return i.apply(this,arguments)}))),this.parentMenu=this.component.parent},t.prototype.handle=function(e){var t=this.component;t.disabled||t.isContainer()&&t.children().length>1||this.parentMenu.hide()},t}(F.default)}})}function d(){var e=this.component,t=e.parent;if(t){var i=this.getPDFUI();this.addDestroyHook(t.on("shown",(function(){i.getAllActiveElements().then((function(t){var i=t.some((function(e){return!e.annot||"widget"!==e.annot.getType()})),n=t.filter((function(e){return e.annot&&"widget"===e.annot.getType()})).length;i||n>1?e.hide():e.show()}))})))}}},t.prototype.getDialog=function(e){return this.dialogs[e]||(this.dialogs[e]=new L[e](this.pdfUI))},t.prototype.init=function(e){var i,a=this;if(!t.isBlockedFeature()){this.pdfUI=e,this.destroyHooks=[],this.callbacks={},this.defaultFormFieldProps={};var o=e.formDesignDialog=new l.default(e,this),r=e.simplePropertiesDialog=new d.default(e,this);this.dialogs={zFieldProperty:o},this.destroyHooks.push(e.addViewerEventListener((S(i={},_.default.fieldAdded,(function(t,i,n){var s=!1,l=function(){s||(s=!0,a.hideFormFieldProperty||(o.isOpened()?o.setAnnot(i):(r.setAnnot(i),r.show(n))),e.editingMgr.activeElementByAnnotId(t.index,i.getId()))},d=i,c=d.getField(),u=d.info.fieldType,p=a.defaultFormFieldProps[u];if(void 0!==p){var f=[],g=p.DA,v=p.annotFlags,h=p.alignment,m=p.fieldFlags,_=p.fillColor,b=p.border;f.push(d.setFlagValue(v,!0)),f.push(c.setAlignment(h)),f.push(c.setReadonly(!!$.isReadOnly(m))),f.push(c.setRequired(!!$.isRequired(m))),f.push(c.setBorderStyle(b.borderStyle)),f.push(c.setBorderColor(b.borderColor)),f.push(c.setBorderWidth(b.borderWidth)),f.push(c.setFillColor(_)),f.push(d.setDefaultAppearance(g).then((function(){Object.keys(g).forEach((function(e){var t={type:e,value:g[e]};d.updateUI(t)})),d.updateUI({type:"borderStyle",value:b.borderStyle}),d.updateUI({type:"borderWidth",value:b.borderWidth}),d.updateUI({type:"display",value:v}),a.pdfUI.eventEmitter.emit(I.annotationUpdated,[d],d.getPDFPage(),O.flagsUpdated),a.pdfUI.eventEmitter.emit(I.annotationAppearanceUpdated,[d],d.getPDFPage())}))),Promise.all(f).then((function(){l()})).catch((function(e){l(),console.log("FormDesigner -> on fieldAdded -> err",e)}))}else l()})),S(i,"switch-state-handler",(function(t){var i=t.getStateName();return r.hide(),e.editingMgr&&e.editingMgr.startEditingMode(i)})),S(i,"render-page-success",(function(t){e.editingMgr.showAllEditingWidget([t.index])})),S(i,"will-close-document",(function(){r.hide(),o.hide(),e.editingMgr.clearEditingWidgets(),e.editingMgr.restoreHighlight()})),S(i,"annotation-add",(function(t,i){t=t.filter((function(e){return"widget"===e.getType()})),e.editingMgr.afterWidgetsAdded(i.getIndex(),t)})),S(i,PDFViewCtrl.ViewerEvents.annotationUpdated,(function(t,i,n){e.editingMgr.updateAnnots(t,i,n),o.isOpened()&&o.setValue()})),S(i,PDFViewCtrl.ViewerEvents.tapPage,(function(){e.formDesignDialog.lockedHandler(!0)})),S(i,"zoom-to-success",(function(t,i){e.editingMgr.zoom(t)})),S(i,"page-rotation-change",(function(t){e.getStateHandlerManager().then((function(e){e.switchTo()}))})),S(i,"fit-width-resize-viewport",(function(){e.editingMgr.zoom(1)})),S(i,"tab-active",(function(t){var i=t.id,n=t.getPage().getIndex();e.editingMgr.annots[i]&&e.editingMgr.activeElementByAnnotId(n,i)})),S(i,"active-widgets-for-multi-select",(function(t){var i=t.widgets,n=void 0===i?[]:i,a=t.activationGroup;n.length&&a&&e.getPDFViewer().then((function(t){n.forEach((function(t){var i=e.editingMgr.annots[t.getId()];i&&a.add(i)})),t.bindMultiSelectActiveEvents(a),t.activationManager.active(a),t.getPDFDocRender().setCurrentAnnotHandler(),t.eventEmitter.emit(I.activeElementChanged)}))})),i))),e.getPDFViewer().then((function(t){e.editingMgr=new b.default(e,t,a.dialogs,o,r)})),this.destroyHooks.push((function(){var t=e.editingMgr;for(var i in t.destroy(),e.formDesignDialog.destroy(),e.formDesignDialog=null,e.simplePropertiesDialog.destroy(),e.simplePropertiesDialog=null,a.dialogs){a.dialogs[i].destroy()}a.dialogs={}})),e.getStore().then((function(e){e.subscribe("update-form-field-default-props",(function(e){a.defaultFormFieldProps=n({},e)})),e.subscribe("get-form-field-default-props",(function(e){var t=n({},a.defaultFormFieldProps);t[e.fieldType]=e.value,a.callbacks&&a.callbacks.onFormFieldPropsChanged&&a.callbacks.onFormFieldPropsChanged(t)})),e.subscribe(x.HIDE_FORM_FIELD_PROPERTY_BOX,(function(e){a.hideFormFieldProperty=e}))}));var s=!(!e.customs||!e.customs.supportFormAsDefaultProps)?'<contextmenu-item name="fv--contextmenu-item-field-store-props" @controller="form-designer:SetAsDefaultPropertiesController">contextmenu.annot.as-default</contextmenu-item>':"";e.getRootComponent().then((function(e){e.append(o.dialog),e.append('\n                <template>\n                    <contextmenu name="contextmenu-form-designer">\n                        <contextmenu-item @controller="form-designer:Copy">contextmenu.annot.copyAnnot</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="deleteTarget" @controller="form-designer:Delete">contextmenu.annot.delete</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item name="propertiesMenu" @controller="form-designer:ShowPropertiesController">contextmenu.annot.properties</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <contextmenu-item @controller="form-designer:MultipleCopy">form-designer:contextMenu.multipleCopy</contextmenu-item>\n                        <contextmenu-item name="copyToPage" @controller="form-designer:CopyToPage">form-designer:contextMenu.copyToPage</contextmenu-item>\n                        <contextmenu-item name="setTabOrdern" @controller="form-designer:SetTabOrder">form-designer:contextMenu.setTabOrder</contextmenu-item>\n                        <contextmenu-separator></contextmenu-separator>\n                        <form-designer:alignment-menu></form-designer:alignment-menu>\n                        '+s+"\n                    </contextmenu>\n                </template>\n            ")}))}},t.prototype.destroy=function(){this.destroyHooks.forEach((function(e){return e()})),this.destroyHooks=[]},t.prototype.getAnnotRenderById=function(e,t){return this.pdfUI.getPDFPageRender(t).then((function(t){return t?{annot:t.page.annotIdMap[e],pageRender:t}:Promise.reject(new Error("cannot found widget by id:"+e))}))},t.prototype.receiveAction=function(e,i){var a=this;if(!t.isBlockedFeature()){var o=this.pdfUI,r=i.id,s=i.pageIndex;switch(e){case"activeWidget":o.goToPage(s,0,0,!1).then((function(){return o.getStateHandlerManager()})).then((function(e){return o.getComponentByName(y.STATE_HANDLER_SELECT_TEXT_IMAGE).then((function(t){return!t.isLocked&&e.switchTo(y.STATE_HANDLER_SELECT_ANNOTATION),a.getAnnotRenderById(r,s)}))})).then((function(e){var t=e.annot,i=(e.pageRender,t.getDeviceRect()),n=i.left,a=i.top;o.goToPage(s,a,n,!1).then((function(){o.editingMgr.activeElementByAnnotId(0,r)}))}));break;case"showPropertiesDialog":var l=o.formDesignDialog;this.getAnnotRenderById(i.id,i.pageIndex).then((function(e){var t=e.annot;l.setAnnot(t),l.show()}));break;case"removeWidget":this.getAnnotRenderById(r,s).then((function(e){var t=e.annot;o.editingMgr.removeAnnot(t)}));break;case"multipleCopy":this.getAnnotRenderById(r,s).then((function(e){var t=e.annot,i=o.multipleCopyDialog;if(i||(i=o.multipleCopyDialog=new c.default(o)),t.getField().controls.length>1)return o.alert({message:"form-designer:dialog.numberError",level:"warning"});o.editingMgr.enableShortcut(0),i.show(t,(function(e,t,i,n,a){if(o.editingMgr.enableShortcut(1),e){var r=e.getField(),s=e.getPage();return t?r.form.copyControls(e,s,a.map((function(t){return{rect:t,fieldName:r.getName(),srcObjectNumber:e.getObjNum()}}))):r.form.duplicateField(r.getName(),e,i,n,a).then((function(t){return o.editingMgr.updateLabel(e)}))}}))}));break;case"duplicate":this.getAnnotRenderById(r,s).then((function(e){var t=e.annot;o.editingMgr.enableShortcut(0),a.getDialog("Duplicate").show(t,t.page.doc.getPageCount(),[],(function(e,t){if(o.editingMgr.enableShortcut(1),e){var i=e.page.getIndex();t=t.filter((function(e){return e!=i})),o.getPDFDocRender().then((function(i){var n=i.getPDFDoc().pageCache,a=[];n.forEach((function(e){e&&a.push(e.getIndex())})),e.getField().form.duplicateWidget(t,e.getField().getName(),e.getObjNum(),a)}))}}))}))}this.pdfUI.getStore().then((function(t){switch(e){case"ev-receive-form-field-default-props":if(!a.callbacks)return;var o=function(){};"function"==typeof i?o=i:i&&i.length>0&&"function"==typeof i[0]&&(o=i[0]),a.callbacks.onFormFieldPropsChanged=o;break;case"ev-update-form-field-default-props":var r=n({},i);t.dispatch("update-form-field-default-props",r)}}))}},t}(r.UIXAddon);t.default=Y},function(e,t){e.exports=null},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=b(i(18));i(31);var o=b(i(32)),r=b(i(34)),s=b(i(46)),l=b(i(47)),d=b(i(50)),c=b(i(51)),u=b(i(53)),p=b(i(55)),f=b(i(56)),g=i(12),v=b(i(58)),h=b(i(61)),m=i(3),_=i(1);function b(e){return e&&e.__esModule?e:{default:e}}var y=UIExtension.vendors.jQuery,F=PDFViewCtrl.PDF.form.constant.Field_Flag,C=PDFViewCtrl.PDF.form.constant.Field_Type,w=PDFViewCtrl.PDF.annots.constant.Annot_Flags,T=PDFViewCtrl.ViewerEvents,x=PDFViewCtrl.PDF.constant.AnnotUpdatedType,A=PDFViewCtrl.shared.colorConvertor,D=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t,this.isDestroyed=!1,this.addon=i;var n=(0,a.default)({fontFamilies:g.FontFamilies,currencySymbol:[{name:"U.S. Dollar($)",value:"1"},{name:"Deutsch Mark(DM.)",value:"2"},{name:"Euro(€)",value:"3"},{name:"Dutch Guilder(fl.)",value:"4"},{name:"Franc(F.)",value:"5"},{name:"Danish Krone(kr.)",value:"6"},{name:"Italian Lira(Lit.)",value:"7"},{name:"Spanish Peseta(Pts.)",value:"8"},{name:"Pound(£)",value:"9"},{name:"Australian Dollar($A.)",value:"10"},{name:"New Zealand Dollar($NZ.)",value:"11"},{name:"Russian Ruble(Py6)",value:"12"},{name:"Portuguese Escudo(ESC.)",value:"13"},{name:"HongKong Dollar(HK$)",value:"14"},{name:"Macao Pataca(P.)",value:"15"},{name:"Renminbi Yuan(￥)",value:"16"},{name:"New Taiwan Dollar(NT$)",value:"17"},{name:"Singapore Dollar(S.$)",value:"18"},{name:"Korean Won(₩)",value:"19"},{name:"Japanese Yen(￥)",value:"20"},{name:"Polish Zloty(zH)",value:"21"},{name:"Krona(SEK)",value:"22"},{name:"Norwegian Krone(kr)",value:"23"},{name:"Canadian Dollar(C$)",value:"24"}],dateOptions:[{name:"m/d",value:"m/d"},{name:"m/d/yy",value:"m/d/yy"},{name:"m/d/yyyy",value:"m/d/yyyy"},{name:"mm/dd/yy",value:"mm/dd/yy"},{name:"mm/dd/yyyy",value:"mm/dd/yyyy"},{name:"mm/yy",value:"mm/yy"},{name:"mm/yyyy",value:"mm/yyyy"},{name:"d-mmm",value:"d-mmm"},{name:"d-mmm-yy",value:"d-mmm-yy"},{name:"d-mmm-yyyy",value:"d-mmm-yyyy"},{name:"dd-mmm-yy",value:"dd-mmm-yy"},{name:"dd-mmm-yyyy",value:"dd-mmm-yyyy"},{name:"yy-mm-dd",value:"yy-mm-dd"},{name:"yyyy-mm-dd",value:"yyyy-mm-dd"},{name:"mmm-yy",value:"mmm-yy"},{name:"mmm-yyyy",value:"mmm-yyyy"},{name:"mmmm-yy",value:"mmmm-yy"},{name:"mmmm-yyyy",value:"mmmm-yyyy"},{name:"mmm d, yyyy",value:"mmm d, yyyy"},{name:"mmmm d, yyyy",value:"mmmm d, yyyy"},{name:"m/d/yy h:MM tt",value:"m/d/yy h:MM tt"},{name:"m/d/yyyy h:MM tt",value:"m/d/yyyy h:MM tt"},{name:"m/d/yy HH:MM",value:"m/d/yy HH:MM"},{name:"m/d/yyyy HH:MM",value:"m/d/yyyy HH:MM"}],timeOptions:[{name:"HH:MM",value:"HH:MM"},{name:"h:MM tt",value:"h:MM tt"},{name:"HH:MM:ss",value:"HH:MM:ss"},{name:"h:MM:ss tt",value:"h:MM:ss tt"}]});this.dialog=t.parseTemplate(n),this.dialog.localize(),this.dialog.mounted(),this.$dialog=y(this.dialog.element),this.$tabNav=y(".fv__ui-form-tab-nav > div",this.$dialog),this.$closeDialog=y("[name=closeDialog]",this.$dialog),this.$locked=y("input[name=locked]",this.$dialog),this.$name=y("input[name=name]",this.$dialog),this.$tooltip=y("input[name=tooltip]",this.$dialog),this.$visibleType=y("select[name=visibleType]",this.$dialog),this.$readOnly=y("input[name=readOnly]",this.$dialog),this.$required=y("input[name=required]",this.$dialog),this.$orientation=y("select[name=fieldOrientation]",this.$dialog),this.$borderStyle=y("select[name=borderStyle]",this.$dialog),this.$borderWidth=y("select[name=borderWidth]",this.$dialog),this.$borderColor=y(".border-color-picker",this.$dialog),this.$fillColor=y(".fill-color-picker",this.$dialog),this.$textColor=y(".text-color-picker",this.$dialog),this.$fontName=y("select[name=fontName]",this.$dialog),this.$orientation=y("select[name=fieldOrientation]",this.$dialog),this.$directionRTL=y("[name=directionRTL]",this.$dialog),this.$calculateRadio=y("[name=calculateRadio]",this.$dialog),this.dialog.on("hidden",(function(e){return t.colorSpectrum.hide()})),this.tabs=[new f.default(this.$dialog,t,i),new o.default(this.$dialog,t,i),new r.default(this.$dialog,t,i),new c.default(this.$dialog,t,i),new l.default(this.$dialog,t,i),new v.default(this.$dialog,t,i,i),new d.default(this.$dialog,t,i),new s.default(this.$dialog,t,i),new u.default(this,t,i),new h.default(this.$dialog,t,i),new p.default(this,t,i)],this.bindEvent()}return e.prototype.localize=function(){return this.dialog.localize()},e.prototype.setAnnot=function(e){var t=this,i=document.activeElement;i&&i.blur&&i.blur(),this.annot=e;var n=this.PDFUI.colorSpectrum;n&&n.hide(),this.tabs.forEach((function(t){return t.setAnnot&&t.setAnnot(e)}));var a=(Object.keys(C).find((function(t){return C[t]===e.getField().getType()}))||"").toLowerCase();Object.keys(C).forEach((function(e){return t.$dialog.removeClass("fv__ui-form-"+e.toLowerCase())})),this.$dialog.addClass("fv__ui-form-"+a),this.$dialog.find("[show-in-types]").each((function(e,t){y(t).toggle(y(t).attr("show-in-types").indexOf(a)>-1)})),this.$dialog.find("[hide-in-types]").each((function(e,t){y(t).toggle(y(t).attr("hide-in-types").indexOf(a)<0)})),this.$dialog.find("[disabled-in-types]").each((function(e,t){y(t).prop("disabled",y(t).attr("disabled-in-types").indexOf(a)>-1)})),this.setValue();var o=y(".fv__ui-form-tab-nav .active",this.$dialog);if(o.length){var r=o.attr("show-in-types"),s=o.attr("hide-in-types"),l=!r||r.indexOf(a)>-1,d=s&&s.indexOf(a)>-1;l&&!d||this.$tabNav.eq(0).click()}return this},e.prototype.show=function(e){var t=this;return this.addon.dialogs.goto=this.PDFUI.activeActionsDialog,this.PDFUI.getRootComponent().then((function(e){t.dialog.open(e.element),t.tabs.forEach((function(e){return e.show&&e.show()}));var i=y(".fv__ui-form-tab-nav .active",t.$dialog);3==t.annot.getField().getType()?(t.$fontName.parent().parent().css({position:"relative"}),t.$textColor.parent().addClass("disabled")):t.$textColor.parent().remove("disabled"),i.length||t.$tabNav.eq(0).click()})),this},e.prototype.hide=function(){return this.dialog.hide(),this},e.prototype.isOpened=function(){return this.dialog.isVisible},e.prototype.destroy=function(){if(!this.isDestroyed){for(var e in this.tabs.forEach((function(e){return e.offEvent&&e.offEvent()})),this.dialog.destroy(),this.$tabNav.off("click"),this.$closeDialog.off("click"),this.$name.off("blur"),this.$tooltip.off("blur"),this.$visibleType.off("change"),this.$readOnly.off("change"),this.$required.off("change"),this.$borderStyle.off("change"),this.$borderWidth.off("change"),this.$orientation.off("change"),this.$borderColor.off("click"),this.$fillColor.off("click"),this.$textColor.off("click"),this.$locked.off("change"),this)delete this[e];this.isDestroyed=!0}},e.prototype.bindEvent=function(){var e=this;y(".fv__ui-form-tab-nav, .fv__ui-form-tab-body",this.$dialog).on("pointerdown",(function(e){return e.stopPropagation()})),this.$tabNav.on("click",(function(t){e.$tabNav.removeClass("active"),y(t.target).addClass("active");var i=y(t.target).index(),n=y(".fv__ui-form-tab-body > div",e.$dialog).not(".lock-mask");n.hide(),n.eq(i).show(),e.tabs.forEach((function(e){return e.active&&e.annot&&e.annot.getField()&&e.active()}));var a=e.PDFUI.colorSpectrum;a&&a.hide()})),this.$closeDialog.on("click",(function(t){e.hide()})),this.$name.on("blur",(function(t){var i=y(t.target).val().trim(),n=e.annot.getField().getName(),a=e.annot.objectNumber;i&&i!==n&&e.PDFUI.getPDFViewer().then((function(t){t.getCurrentPDFDoc().loadPDFForm().then((function(t){t.validateFieldName(i,e.annot.info.fieldType).then((function(o){o?t.moveControl(n,i,a).then((function(t){if(!t)throw e.$name.val(n),new Error("Rename field error.");e.setLabel(e.annot),e.emitAnnotUpdateEvent(x.titleUpdated,!1)})):(e.$name.val(n),e.PDFUI.alert("dialog.error.validateFieldNameError"))}))}))}))})),this.$tooltip.on("blur",(function(t){var i=y(t.target).val().trim();e.annot.getField().setAlternateName(i)})),this.$visibleType.on("change",(function(t){var i=y(t.target).val().split("_"),a=n(i,3),o=a[0],r=a[1],s=a[2],l=e.annot.getFlags(),d=l;l&w.hidden&&(d-=w.hidden),l&w.print&&(d-=w.print),l&w.noView&&(d-=w.noView),d=d+Number(o)+Number(r)+Number(s),e.annot.setFlagValue(d).then((function(){e.annot.updateUI({type:"display",value:d}),e.annot.updateUI({})}))})),this.$readOnly.on("change",(function(t){e.annot.getField().setReadonly(y(t.target).prop("checked")),e.emitAnnotUpdateEvent(x.flagsUpdated,!0)})),this.$required.on("change",(function(t){e.annot.getField().setRequired(y(t.target).prop("checked")),e.emitAnnotUpdateEvent(x.flagsUpdated,!0)})),this.$directionRTL.on("change",(function(t){e.annot.setDirectionRTL(Number(y(t.target).val())).then((function(){e.emitAnnotUpdateEvent(x.alignmentUpdated,!0)}))})),this.$borderStyle.on("change",(function(t){var i={solid:0,dashed:1,underline:2,beveled:3,inset:4}[y(t.target).val()];e.annot.setBorderStyle(i,[3,3]).then((function(t){e.annot.updateUI({type:"borderStyle",value:i})}))})),this.$borderWidth.on("change",(function(t){var i={thin:1,medium:2,thick:3}[y(t.target).val()];e.annot.setBorderWidth(i).then((function(t){e.annot.updateUI({type:"borderWidth",value:i})}))})),this.$orientation.on("change",(function(t){var i=0;switch(y(t.target).val()){case"90":i=1;break;case"180":i=2;break;case"270":i=3}e.annot.setMKProperty("rotation",i).then((function(t){e.annot.updateUI({type:"orientation",value:i})}))})),this.$borderColor.on("click",(function(t){if(!e.$borderColor.prop("disabled")){var i=e.PDFUI.colorSpectrum,n=e.annot.getMKProperty("borderColor");i.showTransparent(!0).setDefaultColor(n?A(n,"#"):"#ffffff"),i.show(t.target,(function(t){return e.setColor("border",t)}))}})),this.$fillColor.on("click",(function(t){if(!e.$borderColor.prop("disabled")){var i=e.PDFUI.colorSpectrum,n=e.annot.getMKProperty("fillColor");i.showTransparent(!0).setDefaultColor(n?A(n,"#"):"#ffffff"),i.show(t.target,(function(t){return e.setColor("fill",t)}))}})),this.$textColor.on("click",(function(t){if(!e.$textColor.prop("disabled")){var i=e.PDFUI.colorSpectrum,n=e.annot.getDefaultAppearance().textColor;i.showTransparent(!1).setDefaultColor(n?A(n,"#"):"#ffffff"),i.show(t.target,(function(t){return e.setColor("textColor",t)}))}})),this.$fontName.on("change",(function(t){var i=y(t.target).val(),n=e.annot;n.setDefaultAppearance({fontName:i});var a={type:"fontName",value:i};n.updateUI(a)})),this.$locked.on("change",(function(t){var i=e.annot.getFlags()+(y(t.target).prop("checked")?+w.locked:-w.locked);e.annot.setFlagValue(i),e.lockedHandler(y(t.target).prop("checked"))})),this.$calculateRadio.on("change",(function(e){y(e.target).val()})),this.tabs.forEach((function(e){return e.onEvent&&e.onEvent()}))},e.prototype.setColor=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="number"==typeof t?t:A(t,"int"),a=void 0,o=void 0,r=this.annot,s={value:n};switch(e){case"fill":a=this.$fillColor,i&&(r.setMKProperty("fillColor",n),s.type="fillColor",r.updateUI(s),this.emitAnnotUpdateEvent(x.fillColorUpdated,!0));break;case"textColor":a=this.$textColor,i&&r.setDefaultAppearance({textColor:n}).then((function(){s.type="textColor",r.updateUI(s)}));break;default:a=this.$borderColor,i&&(r.setMKProperty("borderColor",n),s.type="borderColor",r.updateUI(s),this.emitAnnotUpdateEvent(x.borderColorUpdated,!0))}o=a.find(".label"),t?(a.css("border-color",t?A(t,"HTML"):"transparent"),o.hide()):(a.css("border-top-color","blue"),a.css("border-right-color","green"),o.show())},e.prototype.setValue=function(){var e=this.annot.getField(),t=this.annot.getBorderInfo(),i=this.annot.getFlags(),n=e.getFlags();this.$name.val(e.getName()),this.$tooltip.val(e.getAlternateName());var a=i&w.hidden,o=i&w.print,r=i&w.noView;this.$visibleType.val(a+"_"+o+"_"+r),this.$readOnly.prop("checked",!!F.isReadOnly(n)),this.$required.prop("checked",!!F.isRequired(n)),this.$borderStyle.val({0:"solid",1:"dashed",2:"underline",3:"beveled",4:"inset"}[t.style]||"solid"),this.$borderWidth.val({1:"thin",2:"medium",3:"thick"}[t.width]||"thick");var s=this.annot.getMKProperty("rotation");this.$orientation.val({0:"0",1:"90",2:"180",3:"270"}[s<0||s>3?0:s]);var l=this.annot.getMKProperty("borderColor");this.setColor("border",l,!1);var d=this.annot.getMKProperty("fillColor");this.setColor("fill",d,!1);var c=this.annot.getDAFontColor(),u=void 0,p=e.getAction(m.Action_Trigger.format);if(p&&"TypeJavaScript"==p.info.type)if(u=p.info.javascript,1==_.CFD_Utils.GetFormatStringType(u)){var f=1&_.CFD_Utils.GetNumberValues(u).iNeg?1:0,v=e.getDefaultValue(),h=e.getValue();(v&&0!=v.length||h&&0!=h.length)&&(c=f&&(v<0||h<0)?"#FF0000":c),this.$textColor.prop("disabled",f)}else this.$textColor.prop("disabled",!1);else this.$textColor.prop("disabled",!1);this.setColor("textColor",c,!1);var b=!!(i&w.locked);this.$locked.prop("checked",b),this.lockedHandler(b);var y=this.annot.getDefaultAppearance(),C=g.FoxitFontMap[y.fontName];C||(C=g.FontFamilies.find((function(e){return e.value===y.fontName}))?y.fontName:"Times-Roman");this.$fontName.val(C),this.$directionRTL.filter("[value="+(this.annot.getDirectionRTL()||0)+"]").prop("checked",!0),this.tabs.forEach((function(e){return e.setValue&&e.setValue()}))},e.prototype.lockedHandler=function(e){y(".lock-mask",this.$dialog).toggle(e)},e.prototype.emitAnnotUpdateEvent=function(e,t){this.PDFUI.eventEmitter.emit(T.annotationUpdated,[this.annot],this.annot.getPDFPage(),e),t&&this.PDFUI.eventEmitter.emit(T.annotationAppearanceUpdated,[this.annot],this.annot.getPDFPage())},e}();t.default=D},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};var t="",n=function(e){return t+=e};return t+='<layer name="form-properties-dialog" class="fv__ui-form-properties-dialog" @draggable>\r\n    <div class="fv_ui_dialog_title">\r\n        <div show-in-types="pushbutton" data-i18n="form-designer:dialog.pushButtonTitle"></div>\r\n        <div show-in-types="checkbox" data-i18n="form-designer:dialog.checkBoxTitle"></div>\r\n        <div show-in-types="radiobutton" data-i18n="form-designer:dialog.radioButtonTitle"></div>\r\n        <div show-in-types="combobox" data-i18n="form-designer:dialog.comboBoxTitle"></div>\r\n        <div show-in-types="listbox" data-i18n="form-designer:dialog.listBoxTitle"></div>\r\n        <div show-in-types="text" data-i18n="form-designer:dialog.textFieldTitle"></div>\r\n        <div show-in-types="sign" data-i18n="form-designer:dialog.signatureTitle"></div>\r\n        <i class="fv__icon-layer-close" name="closeDialog"></i>\r\n    </div>\r\n    <div class="fv__ui-form-tab-nav">\r\n        <div data-i18n="form-designer:dialog.tabNav.general"></div>\r\n        <div data-i18n="form-designer:dialog.tabNav.appearance"></div>\r\n        <div data-i18n="form-designer:dialog.tabNav.position"></div>\r\n        <div hide-in-types="sign" data-i18n="form-designer:dialog.tabNav.options"></div>\r\n        <div show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.format"></div>\r\n        <div show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.validate"></div>\r\n        <div show-in-types="combobox,text" data-i18n="form-designer:dialog.tabNav.calculate"></div>\r\n        <div show-in-types="listbox" data-i18n="form-designer:dialog.tabNav.selectionChange"></div>\r\n        <div data-i18n="form-designer:dialog.tabNav.action"></div>\r\n        <div show-in-types="sign" data-i18n="form-designer:dialog.tabNav.signed"></div>\r\n    </div>\r\n    <div class="fv__ui-form-tab-body">\r\n        ',n(i(21)(e)),t+="\r\n        ",n(i(22)(e)),t+="\r\n        ",n(i(23)(e)),t+="\r\n        ",n(i(24)(e)),t+="\r\n        ",n(i(25)(e)),t+="\r\n        ",n(i(26)(e)),t+="\r\n        ",n(i(27)(e)),t+="\r\n        ",n(i(28)(e)),t+="\r\n        ",n(i(29)(e)),t+="\r\n        ",n(i(30)(e)),t+='\r\n        <div class="lock-mask"></div>\r\n    </div>\r\n    <div class="d_f ai_c jc_sb">\r\n        <label class="d_f ai_c">\r\n            <input type="checkbox" name="locked"/>\r\n            <div data-i18n="form-designer:dialog.footer.locked"></div>\r\n        </label>\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" @stop-drag name="closeDialog">dialog.close</div>\r\n    </div>\r\n</layer>'}},function(e,t,i){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=Object.create(i),a=/["&'<>]/;n.$escape=function(e){return function(e){var t=""+e,i=a.exec(t);if(!i)return e;var n="",o=void 0,r=void 0,s=void 0;for(o=i.index,r=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}r!==o&&(n+=t.substring(r,o)),r=o+1,n+=s}return r!==o?n+t.substring(r,o):n}(function e(t){"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},n.$each=function(e,t){if(Array.isArray(e))for(var i=0,n=e.length;i<n;i++)t(e[i],i);else for(var a in e)t(e[a],a)},e.exports=n}).call(this,i(20))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div>\r\n    <div class="d_f ai_c mb_10">\r\n        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.name"></div>\r\n        <input type="text" class="f_1 h_24" name="name">\r\n        <div class="w_120"></div>\r\n    </div>\r\n    <div class="d_f ai_c mb_10">\r\n        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.tooltip"></div>\r\n        <input type="text" class="f_1 h_24" name="tooltip">\r\n        <div class="w_120"></div>\r\n    </div>\r\n    <div class="d_f ai_c mb_10 mt_22">\r\n        <div class="d_f ai_c" data-i18n="form-designer:dialog.general.commonProperties"></div>\r\n    </div>\r\n    <div class="bg-wrap">\r\n        <div class="d_f ai_c mb_10">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.formField"></div>\r\n            <select class="f_1 h_24" name="visibleType">\r\n                <option data-i18n="form-designer:dialog.general.visible" value="0_4_0"></option>\r\n                <option data-i18n="form-designer:dialog.general.hidden" value="2_4_0"></option>\r\n                <option data-i18n="form-designer:dialog.general.visibleButUnprintable" value="0_0_0"></option>\r\n                <option data-i18n="form-designer:dialog.general.hiddenButPrintable" value="0_4_32"></option>\r\n            </select>\r\n            <div class="pl_20 pr_10">\r\n                <div class="w_120 pl_10">\r\n                    <label class="d_f ai_c">\r\n                        <input type="checkbox" name="readOnly"/>\r\n                        <div data-i18n="form-designer:dialog.general.readOnly"></div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="d_f ai_c">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.orientation"></div>\r\n            <select class="f_1 h_24" name="fieldOrientation">\r\n                <option value="0">0</option>\r\n                <option value="90">90</option>\r\n                <option value="180">180</option>\r\n                <option value="270">270</option>\r\n            </select>\r\n            <div data-i18n="form-designer:dialog.general.degrees" class="pl_10"></div>\r\n            <div class="pl_20 pr_10">\r\n                <div class="w_120 pl_10">\r\n                    <label class="d_f ai_c">\r\n                        <input disabled-in-types="pushbutton,listbox" type="checkbox" name="required"/>\r\n                        <div data-i18n="form-designer:dialog.general.required"></div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>','<div>\r\n    <div class="d_f ai_c mb_10">\r\n        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.name"></div>\r\n        <input type="text" class="f_1 h_24" name="name">\r\n        <div class="w_120"></div>\r\n    </div>\r\n    <div class="d_f ai_c mb_10">\r\n        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.tooltip"></div>\r\n        <input type="text" class="f_1 h_24" name="tooltip">\r\n        <div class="w_120"></div>\r\n    </div>\r\n    <div class="d_f ai_c mb_10 mt_22">\r\n        <div class="d_f ai_c" data-i18n="form-designer:dialog.general.commonProperties"></div>\r\n    </div>\r\n    <div class="bg-wrap">\r\n        <div class="d_f ai_c mb_10">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.formField"></div>\r\n            <select class="f_1 h_24" name="visibleType">\r\n                <option data-i18n="form-designer:dialog.general.visible" value="0_4_0"></option>\r\n                <option data-i18n="form-designer:dialog.general.hidden" value="2_4_0"></option>\r\n                <option data-i18n="form-designer:dialog.general.visibleButUnprintable" value="0_0_0"></option>\r\n                <option data-i18n="form-designer:dialog.general.hiddenButPrintable" value="0_4_32"></option>\r\n            </select>\r\n            <div class="pl_20 pr_10">\r\n                <div class="w_120 pl_10">\r\n                    <label class="d_f ai_c">\r\n                        <input type="checkbox" name="readOnly"/>\r\n                        <div data-i18n="form-designer:dialog.general.readOnly"></div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="d_f ai_c">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.general.orientation"></div>\r\n            <select class="f_1 h_24" name="fieldOrientation">\r\n                <option value="0">0</option>\r\n                <option value="90">90</option>\r\n                <option value="180">180</option>\r\n                <option value="270">270</option>\r\n            </select>\r\n            <div data-i18n="form-designer:dialog.general.degrees" class="pl_10"></div>\r\n            <div class="pl_20 pr_10">\r\n                <div class="w_120 pl_10">\r\n                    <label class="d_f ai_c">\r\n                        <input disabled-in-types="pushbutton,listbox" type="checkbox" name="required"/>\r\n                        <div data-i18n="form-designer:dialog.general.required"></div>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,i){var n=i(0);e.exports=function(e){"use strict";e=e||{};var t="",i=n.$each,a=e.fontFamilies,o=(e.value,e.index,n.$escape);return t+='<div>\r\n    <div class="d_f ai_c mb_10">\r\n        <div class="d_f ai_c" data-i18n="form-designer:dialog.appearance.bordersAndColors"></div>\r\n    </div>\r\n    <div class="bg-wrap">\r\n        <div class="d_f ai_c mb_10">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.borderColor"></div>\r\n            <div class="color-picker">\r\n                <div class="border-color-picker">\r\n                    <div class="label">?</div>\r\n                    <div class="mask"></div>\r\n                </div>\r\n            </div>\r\n            <div class="w_60"></div>\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.lineStyle"></div>\r\n            <select class="f_1 h_24 mr_20" name="borderStyle">\r\n                <option data-i18n="form-designer:dialog.appearance.solid" value="solid"></option>\r\n                <option data-i18n="form-designer:dialog.appearance.dashed" value="dashed"></option>\r\n                <option data-i18n="form-designer:dialog.appearance.underline" value="underline"></option>\r\n                <option data-i18n="form-designer:dialog.appearance.beveled" value="beveled"></option>\r\n                <option data-i18n="form-designer:dialog.appearance.inset" value="inset"></option>\r\n            </select>\r\n        </div>\r\n        <div class="d_f ai_c">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.fillColor"></div>\r\n            <div class="color-picker">\r\n                <div class="fill-color-picker">\r\n                    <div class="label">?</div>\r\n                    <div class="mask"></div>\r\n                </div>\r\n            </div>\r\n            <div class="w_60"></div>\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.thickness"></div>\r\n            <select class="f_1 h_24 mr_20" name="borderWidth">\r\n                <option data-i18n="form-designer:dialog.appearance.thin" value="thin"></option>\r\n                <option data-i18n="form-designer:dialog.appearance.medium" value="medium"></option>\r\n                <option data-i18n="form-designer:dialog.appearance.thick" value="thick"></option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n    <div class="d_f ai_c mb_10 mt_22">\r\n        <div class="d_f ai_c" data-i18n="form-designer:dialog.appearance.text"></div>\r\n    </div>\r\n    <div class="bg-wrap">\r\n        <div class="d_f ai_c mb_10">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.fontSize"></div>\r\n            <dropdown name="textSize" class="f_1 h_24" @controller="form-designer:FieldPropertiesAppearanceController as fpc" editable="true">\r\n                <dropdown-button @foreach="size in fpc.textSizeList" @sync.text="size" @on.click="fpc.selectFontSize(size)"></dropdown-button>\r\n            </dropdown>\r\n            <div class="w_60"></div>\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.textColor"></div>\r\n            <div class="color-picker mr_20">\r\n                <div class="text-color-picker">\r\n                    <div class="label">?</div>\r\n                    <div class="mask"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="d_f ai_c mb_10">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.font"></div>\r\n            <select disabled-in-types="sign,checkbox,radiobutton" class="f_1 h_24 mr_20" name="fontName">\r\n                ',i(a,(function(e,i){t+='\r\n                    <option value="',t+=o(e.value),t+='">',t+=o(e.name),t+="</option>\r\n                "})),t+='\r\n            </select>\r\n        </div>\r\n        <div class="d_f ai_c">\r\n            <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.appearance.direction"></div>\r\n            <div class="d_f ai_c jc_sb f_1">\r\n                <label class="d_f ai_c">\r\n                    <input disabled-in-types="sign,checkbox,radiobutton" type="radio" value="0" name="directionRTL"/>\r\n                    <div data-i18n="form-designer:dialog.appearance.leftToRight"></div>\r\n                </label>\r\n                <label class="d_f ai_c mr_20">\r\n                    <input disabled-in-types="sign,checkbox,radiobutton" type="radio" value="1" name="directionRTL"/>\r\n                    <div data-i18n="form-designer:dialog.appearance.rightToLeft"></div>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div class="form-properties-dialog-position-tab">\r\n    <div class="item">\r\n        <div class="title-label" data-i18n="form-designer:dialog.position.units"></div>\r\n        <select name="units" class="title-md-control">\r\n            <option data-i18n="form-designer:dialog.position.points" value="pt"></option>\r\n            <option data-i18n="form-designer:dialog.position.inches" value="inch"></option>\r\n            <option data-i18n="form-designer:dialog.position.centimeters" value="cm"></option>\r\n            <option data-i18n="form-designer:dialog.position.picas" value="pica"></option>\r\n            <option data-i18n="form-designer:dialog.position.milimeters" value="mm"></option>\r\n        </select>\r\n    </div>\r\n    <div class="item">\r\n        <div class="title" data-i18n="form-designer:dialog.position.name"></div>\r\n    </div>\r\n    <div class="item inputContainer">\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.left"></div>\r\n                <number name="left" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.bottom"></div>\r\n            <number name="bottom" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.right"></div>\r\n                <number name="right" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.top"></div>\r\n            <number name="top" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.width"></div>\r\n            <number name="width" class="positionWidth" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.height"></div>\r\n                <number name="height" class="positionHeight" min="0" step="0.01"></number>\r\n        </div>\r\n    </div>\r\n    <div class="item">\r\n        <div class="title-label"></div>\r\n        <label class="d_f ai_c">\r\n            <input type="checkbox" name="lockWidthHeight"/>\r\n            <div data-i18n="form-designer:dialog.position.required"></div>\r\n        </label>\r\n    </div>\r\n</div>','<div class="form-properties-dialog-position-tab">\r\n    <div class="item">\r\n        <div class="title-label" data-i18n="form-designer:dialog.position.units"></div>\r\n        <select name="units" class="title-md-control">\r\n            <option data-i18n="form-designer:dialog.position.points" value="pt"></option>\r\n            <option data-i18n="form-designer:dialog.position.inches" value="inch"></option>\r\n            <option data-i18n="form-designer:dialog.position.centimeters" value="cm"></option>\r\n            <option data-i18n="form-designer:dialog.position.picas" value="pica"></option>\r\n            <option data-i18n="form-designer:dialog.position.milimeters" value="mm"></option>\r\n        </select>\r\n    </div>\r\n    <div class="item">\r\n        <div class="title" data-i18n="form-designer:dialog.position.name"></div>\r\n    </div>\r\n    <div class="item inputContainer">\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.left"></div>\r\n                <number name="left" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.bottom"></div>\r\n            <number name="bottom" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.right"></div>\r\n                <number name="right" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.top"></div>\r\n            <number name="top" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.width"></div>\r\n            <number name="width" class="positionWidth" min="0" step="0.01"></number>\r\n        </div>\r\n        <div class="inlineItem" text-content-after="*">\r\n            <div data-i18n="form-designer:dialog.position.height"></div>\r\n                <number name="height" class="positionHeight" min="0" step="0.01"></number>\r\n        </div>\r\n    </div>\r\n    <div class="item">\r\n        <div class="title-label"></div>\r\n        <label class="d_f ai_c">\r\n            <input type="checkbox" name="lockWidthHeight"/>\r\n            <div data-i18n="form-designer:dialog.position.required"></div>\r\n        </label>\r\n    </div>\r\n</div>'}},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div>\r\n    <div hide-in-types="sign">\r\n        <div show-in-types="pushbutton">\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.layout"></div>\r\n                <select class="f_1 h_24" name="layout">\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelOnly" value="e_MKRelationNoIcon"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.iconOnly" value="e_MKRelationNoCaption"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.iconTopLabelBottom" value="e_MKRelationCaptionBelowIcon"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelTopIconBottom" value="e_MKRelationCaptionAboveIcon"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.iconLeftLabelRight" value="e_MKRelationCaptionRight"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelLeftIconRight" value="e_MKRelationCaptionLeft"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelOverIcon" value="e_MKRelationCaptionOvrlayOnIcon"></option>\r\n                </select>\r\n                <div class="pl_20 pr_10">\r\n                    <div class="fv__ui-dialog-button small w_100" name="advanced">form-designer:dialog.options.pushButton.advanced</div>\r\n                </div>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.behavior"></div>\r\n                <select class="f_1 h_24" name="behavior">\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.none" value="e_HighlightingNone"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.push" value="e_HighlightingPush"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.outline" value="e_HighlightingOutline"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.invert" value="e_HighlightingInvert"></option>\r\n                </select>\r\n                <div class="pl_20 pr_10"><div class="w_100"></div></div>\r\n            </div>\r\n            <div class="d_f ai_c mb_10 mt_22">\r\n                <div class="d_f ai_c" data-i18n="form-designer:dialog.options.pushButton.iconAndLabel"></div>\r\n            </div>\r\n            <div class="bg-wrap">\r\n                <div class="d_f ai_c mb_10">\r\n                    <div class="ml_20 w_160" data-i18n="form-designer:dialog.options.pushButton.state"></div>\r\n                    <div class="mr_10 w_50 ta_r" data-i18n="form-designer:dialog.options.pushButton.label"></div>\r\n                    <input type="text" class="f_1 h_24 mr_20 b_1s bc_ddd" name="stateLabel">\r\n                </div>\r\n                <div class="d_f">\r\n                    <select class="ml_20 h_100 w_130 state-position" name="position" multiple>\r\n                        <option data-i18n="form-designer:dialog.options.pushButton.up" value="up"></option>\r\n                        \x3c!-- <option data-i18n="form-designer:dialog.options.pushButton.down" value="down"></option>\r\n                        <option data-i18n="form-designer:dialog.options.pushButton.rollover" value="rollover"></option> --\x3e\r\n                    </select>\r\n                    <div class="mr_10 w_70 ta_r ml_10" data-i18n="form-designer:dialog.options.pushButton.icon"></div>\r\n                    <div class="w_100 h_100 b_1s bc_ddd b_fff wrap-icon">\r\n                        <img class="icon-img" />\r\n                    </div>\r\n                    <div class="d_f fd_c jc_c ai_c f_1">\r\n                        <label for="chooseIconFile" class="fv__ui-dialog-button small w_120 plpr_0" name="chooseIcon">form-designer:dialog.options.pushButton.chooseIcon</label>\r\n                        <input id="chooseIconFile" type="file" accept="image/jpg,image/jpeg,image/bmp,image/png" style="display: none;">\r\n                        <div class="fv__ui-dialog-button small w_120 mt_20" name="clearIcon">form-designer:dialog.options.pushButton.clear</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- Advanced弹窗 --\x3e\r\n            <div class="fv__ui-form-properties-dialog fv__ui-layer fv__advanced-dialog">\r\n                <div class="fv_ui_dialog_title">\r\n                    <div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.title"></div>\r\n                    <i class="fv__icon-layer-close"></i>\r\n                </div>\r\n                <div class="fv__advanced-body">\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScaleType"></div>\r\n                        <select class="f_1 h_24" name="scaleType">\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionAlways" value="e_ScaleWayAlways"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNever" value="e_ScaleWayNever"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionBig" value="e_ScaleWayBigger"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionSmall" value="e_ScaleWaySmaller"></option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScale"></div>\r\n                        <select class="f_1 h_24" name="scale">\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionProportionally" value="true"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNonProportionally" value="false"></option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_150 ta_r">\r\n                            <label class="d_f ai_c jc_fe">\r\n                                <input type="checkbox" name="fit"/>\r\n                                <div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.checkFit"></div>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_90 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelButton"></div>\r\n                        <div class="wrap-icon w_100 h_100 b_1s bc_ddd">\r\n                            <div class="icon w_60 h_60 b_1s bc_ddd d_f ai_c jc_c" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.icon"></div>\r\n                        </div>\r\n                        <div class="p_r w_14 h_100 ml_10">\r\n                            <input class="slider-y" type="range" step="1" min="0" max="100">\r\n                        </div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_90 ta_r"></div>\r\n                        <div class="p_r w_100 h_14">\r\n                            <input class="slider-x" type="range" step="1" min="0" max="100">\r\n                        </div>\r\n                        <div class="fraction ml_5">(0,0)</div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.tip"></div>\r\n                </div>\r\n                <div class="d_f ai_c jc_sb">\r\n                    <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button reset-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonReset"></div>\r\n                    <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button confirm-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonOk"></div>\r\n                    <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button cancel-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonCancel"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div show-in-types="combobox,listbox">\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.comboListBox.item"></div>\r\n                <input type="text" class="f_1 h_24" name="itemLabel">\r\n                <div class="fv__ui-dialog-button small w_100 mlmr_20" name="addItemBtn">form-designer:dialog.options.comboListBox.add</div>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.comboListBox.exportValue"></div>\r\n                <input type="text" class="f_1 h_24" name="itemValue">\r\n                <div class="w_100 mlmr_20"></div>\r\n            </div>\r\n            <div class="d_f mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.comboListBox.itemList"></div>\r\n                <select class="f_1 h_200" multiple name="items"></select>\r\n                <div class="d_f fd_c">\r\n                    <div class="fv__ui-dialog-button small w_100 mlmr_20" name="deleteItemBtn">form-designer:dialog.options.comboListBox.delete</div>\r\n                    <div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="upItemBtn">form-designer:dialog.options.comboListBox.up</div>\r\n                    <div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="downItemBtn">form-designer:dialog.options.comboListBox.down</div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- GSDK未提供支持，暂时隐藏\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="xxx"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.sortItems"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n            <div hide-in-types="listbox" class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="allowUserEnter"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.allowUserEnter"></div>\r\n                </label>\r\n            </div>\r\n            <div hide-in-types="combobox" class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="multiSelect"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.multipleSelection"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- GSDK未提供支持，暂时隐藏\r\n            <div class="d_f ai_c h_24">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="xxx"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.commitSelectedValue"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n        </div>\r\n        <div show-in-types="checkbox,radiobutton">\r\n            <div class="d_f ai_c mb_10">\r\n                <div show-in-types="checkbox" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.checkboxStyle"></div>\r\n                <div show-in-types="radiobutton" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.buttonStyle"></div>\r\n                <select class="f_1 h_24" name="buttonStyle">\r\n                    <option data-i18n="form-designer:dialog.options.choice.check" value="4"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.circle" value="l"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.cross" value="8"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.diamond" value="u"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.square" value="n"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.star" value="H"></option>\r\n                </select>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.exportValue"></div>\r\n                <input type="text" class="f_1 h_24" name="exportValue">\r\n            </div>\r\n            <div class="d_f ai_c h_24">\r\n                <div class="w_130 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="selectedByDefault"/>\r\n                    <div data-i18n="form-designer:dialog.options.choice.checkedByDefault"></div>\r\n                </label>\r\n            </div>\r\n            <div hide-in-types="checkbox" class="d_f ai_c h_24 mt_10">\r\n                <div class="w_130 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="radioButtonsValue"/>\r\n                    <div data-i18n="form-designer:dialog.options.choice.radioSameNameValueUnison"></div>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div show-in-types="text">\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.alignment"></div>\r\n                <select class="f_1 h_24" name="alignment">\r\n                    <option data-i18n="form-designer:dialog.options.textField.left" value="0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.center" value="1"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.right" value="2"></option>\r\n                </select>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.defaultValue"></div>\r\n                <textarea class="h_60 f_1" name="defaultValue"></textarea>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="scrollLongText"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.scrollLongText"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- 暂时隐藏，等待GSDK提供支持\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="richText"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.allowRichTextFormatting"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="textLimit"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.limitOf"></div>\r\n                </label>\r\n                <input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextLimit">\r\n                <div data-i18n="form-designer:dialog.options.textField.characters"></div>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="textPassword"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.password"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- 暂时隐藏，等待GSDK提供支持 \r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="fileSelect"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.fieldIsUsedForFileSelection"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="checkSpell"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.checkSpelling"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="textComb"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.combOf"></div>\r\n                </label>\r\n                <input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextComb">\r\n                <div data-i18n="form-designer:dialog.options.textField.characters"></div>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_5">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="multiLine"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.multiLine"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- 暂时隐藏，等待GSDK提供支持\r\n            <div class="d_f ai_c h_24 mb_5">\r\n                <div class="w_120 fs_0"></div>\r\n                <div data-i18n="form-designer:dialog.options.textField.lineSpacing" class="pr_10 w_120 ta_r"></div>\r\n                <select class="w_120 h_24" name="lineSpace">\r\n                    <option data-i18n="form-designer:dialog.options.textField.single" value="0,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.lines1_5" value="1,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.doubleLines" value="2,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.exactly" value="3,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.auto" value="auto"></option>\r\n                </select>\r\n            </div>\r\n            --\x3e\r\n            <div class="d_f ai_c h_24">\r\n                <div class="w_120 fs_0"></div>\r\n                <div class="pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.at"></div>\r\n                <input type="text" class="w_90 h_24" name="lineSpaceExactlyValue"/>\r\n                <div class="w_30 ta_c" data-i18n="form-designer:dialog.options.textField.pt"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n','<div>\r\n    <div hide-in-types="sign">\r\n        <div show-in-types="pushbutton">\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.layout"></div>\r\n                <select class="f_1 h_24" name="layout">\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelOnly" value="e_MKRelationNoIcon"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.iconOnly" value="e_MKRelationNoCaption"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.iconTopLabelBottom" value="e_MKRelationCaptionBelowIcon"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelTopIconBottom" value="e_MKRelationCaptionAboveIcon"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.iconLeftLabelRight" value="e_MKRelationCaptionRight"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelLeftIconRight" value="e_MKRelationCaptionLeft"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.labelOverIcon" value="e_MKRelationCaptionOvrlayOnIcon"></option>\r\n                </select>\r\n                <div class="pl_20 pr_10">\r\n                    <div class="fv__ui-dialog-button small w_100" name="advanced">form-designer:dialog.options.pushButton.advanced</div>\r\n                </div>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.behavior"></div>\r\n                <select class="f_1 h_24" name="behavior">\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.none" value="e_HighlightingNone"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.push" value="e_HighlightingPush"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.outline" value="e_HighlightingOutline"></option>\r\n                    <option data-i18n="form-designer:dialog.options.pushButton.invert" value="e_HighlightingInvert"></option>\r\n                </select>\r\n                <div class="pl_20 pr_10"><div class="w_100"></div></div>\r\n            </div>\r\n            <div class="d_f ai_c mb_10 mt_22">\r\n                <div class="d_f ai_c" data-i18n="form-designer:dialog.options.pushButton.iconAndLabel"></div>\r\n            </div>\r\n            <div class="bg-wrap">\r\n                <div class="d_f ai_c mb_10">\r\n                    <div class="ml_20 w_160" data-i18n="form-designer:dialog.options.pushButton.state"></div>\r\n                    <div class="mr_10 w_50 ta_r" data-i18n="form-designer:dialog.options.pushButton.label"></div>\r\n                    <input type="text" class="f_1 h_24 mr_20 b_1s bc_ddd" name="stateLabel">\r\n                </div>\r\n                <div class="d_f">\r\n                    <select class="ml_20 h_100 w_130 state-position" name="position" multiple>\r\n                        <option data-i18n="form-designer:dialog.options.pushButton.up" value="up"></option>\r\n                        \x3c!-- <option data-i18n="form-designer:dialog.options.pushButton.down" value="down"></option>\r\n                        <option data-i18n="form-designer:dialog.options.pushButton.rollover" value="rollover"></option> --\x3e\r\n                    </select>\r\n                    <div class="mr_10 w_70 ta_r ml_10" data-i18n="form-designer:dialog.options.pushButton.icon"></div>\r\n                    <div class="w_100 h_100 b_1s bc_ddd b_fff wrap-icon">\r\n                        <img class="icon-img" />\r\n                    </div>\r\n                    <div class="d_f fd_c jc_c ai_c f_1">\r\n                        <label for="chooseIconFile" class="fv__ui-dialog-button small w_120 plpr_0" name="chooseIcon">form-designer:dialog.options.pushButton.chooseIcon</label>\r\n                        <input id="chooseIconFile" type="file" accept="image/jpg,image/jpeg,image/bmp,image/png" style="display: none;">\r\n                        <div class="fv__ui-dialog-button small w_120 mt_20" name="clearIcon">form-designer:dialog.options.pushButton.clear</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- Advanced弹窗 --\x3e\r\n            <div class="fv__ui-form-properties-dialog fv__ui-layer fv__advanced-dialog">\r\n                <div class="fv_ui_dialog_title">\r\n                    <div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.title"></div>\r\n                    <i class="fv__icon-layer-close"></i>\r\n                </div>\r\n                <div class="fv__advanced-body">\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScaleType"></div>\r\n                        <select class="f_1 h_24" name="scaleType">\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionAlways" value="e_ScaleWayAlways"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNever" value="e_ScaleWayNever"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionBig" value="e_ScaleWayBigger"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionSmall" value="e_ScaleWaySmaller"></option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelScale"></div>\r\n                        <select class="f_1 h_24" name="scale">\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionProportionally" value="true"></option>\r\n                            <option data-i18n="form-designer:dialog.options.pushButton.advancedDialog.optionNonProportionally" value="false"></option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_150 ta_r">\r\n                            <label class="d_f ai_c jc_fe">\r\n                                <input type="checkbox" name="fit"/>\r\n                                <div data-i18n="form-designer:dialog.options.pushButton.advancedDialog.checkFit"></div>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_90 ta_r" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.labelButton"></div>\r\n                        <div class="wrap-icon w_100 h_100 b_1s bc_ddd">\r\n                            <div class="icon w_60 h_60 b_1s bc_ddd d_f ai_c jc_c" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.icon"></div>\r\n                        </div>\r\n                        <div class="p_r w_14 h_100 ml_10">\r\n                            <input class="slider-y" type="range" step="1" min="0" max="100">\r\n                        </div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_90 ta_r"></div>\r\n                        <div class="p_r w_100 h_14">\r\n                            <input class="slider-x" type="range" step="1" min="0" max="100">\r\n                        </div>\r\n                        <div class="fraction ml_5">(0,0)</div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.tip"></div>\r\n                </div>\r\n                <div class="d_f ai_c jc_sb">\r\n                    <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button reset-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonReset"></div>\r\n                    <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button confirm-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonOk"></div>\r\n                    <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button cancel-button" data-i18n="form-designer:dialog.options.pushButton.advancedDialog.buttonCancel"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div show-in-types="combobox,listbox">\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.comboListBox.item"></div>\r\n                <input type="text" class="f_1 h_24" name="itemLabel">\r\n                <div class="fv__ui-dialog-button small w_100 mlmr_20" name="addItemBtn">form-designer:dialog.options.comboListBox.add</div>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.comboListBox.exportValue"></div>\r\n                <input type="text" class="f_1 h_24" name="itemValue">\r\n                <div class="w_100 mlmr_20"></div>\r\n            </div>\r\n            <div class="d_f mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.comboListBox.itemList"></div>\r\n                <select class="f_1 h_200" multiple name="items"></select>\r\n                <div class="d_f fd_c">\r\n                    <div class="fv__ui-dialog-button small w_100 mlmr_20" name="deleteItemBtn">form-designer:dialog.options.comboListBox.delete</div>\r\n                    <div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="upItemBtn">form-designer:dialog.options.comboListBox.up</div>\r\n                    <div class="fv__ui-dialog-button small w_100 mlmr_20 mt_20" name="downItemBtn">form-designer:dialog.options.comboListBox.down</div>\r\n                </div>\r\n            </div>\r\n            \x3c!-- GSDK未提供支持，暂时隐藏\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="xxx"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.sortItems"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n            <div hide-in-types="listbox" class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="allowUserEnter"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.allowUserEnter"></div>\r\n                </label>\r\n            </div>\r\n            <div hide-in-types="combobox" class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="multiSelect"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.multipleSelection"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- GSDK未提供支持，暂时隐藏\r\n            <div class="d_f ai_c h_24">\r\n                <div class="w_120"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="xxx"/>\r\n                    <div data-i18n="form-designer:dialog.options.comboListBox.commitSelectedValue"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n        </div>\r\n        <div show-in-types="checkbox,radiobutton">\r\n            <div class="d_f ai_c mb_10">\r\n                <div show-in-types="checkbox" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.checkboxStyle"></div>\r\n                <div show-in-types="radiobutton" class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.buttonStyle"></div>\r\n                <select class="f_1 h_24" name="buttonStyle">\r\n                    <option data-i18n="form-designer:dialog.options.choice.check" value="4"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.circle" value="l"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.cross" value="8"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.diamond" value="u"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.square" value="n"></option>\r\n                    <option data-i18n="form-designer:dialog.options.choice.star" value="H"></option>\r\n                </select>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_130 ta_r" data-i18n="form-designer:dialog.options.choice.exportValue"></div>\r\n                <input type="text" class="f_1 h_24" name="exportValue">\r\n            </div>\r\n            <div class="d_f ai_c h_24">\r\n                <div class="w_130 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="selectedByDefault"/>\r\n                    <div data-i18n="form-designer:dialog.options.choice.checkedByDefault"></div>\r\n                </label>\r\n            </div>\r\n            <div hide-in-types="checkbox" class="d_f ai_c h_24 mt_10">\r\n                <div class="w_130 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="radioButtonsValue"/>\r\n                    <div data-i18n="form-designer:dialog.options.choice.radioSameNameValueUnison"></div>\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div show-in-types="text">\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.alignment"></div>\r\n                <select class="f_1 h_24" name="alignment">\r\n                    <option data-i18n="form-designer:dialog.options.textField.left" value="0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.center" value="1"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.right" value="2"></option>\r\n                </select>\r\n            </div>\r\n            <div class="d_f ai_c mb_10">\r\n                <div class="lh_24 pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.defaultValue"></div>\r\n                <textarea class="h_60 f_1" name="defaultValue"></textarea>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="scrollLongText"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.scrollLongText"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- 暂时隐藏，等待GSDK提供支持\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="richText"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.allowRichTextFormatting"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="textLimit"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.limitOf"></div>\r\n                </label>\r\n                <input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextLimit">\r\n                <div data-i18n="form-designer:dialog.options.textField.characters"></div>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="textPassword"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.password"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- 暂时隐藏，等待GSDK提供支持 \r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="fileSelect"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.fieldIsUsedForFileSelection"></div>\r\n                </label>\r\n            </div>\r\n            --\x3e\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="checkSpell"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.checkSpelling"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_10">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="textComb"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.combOf"></div>\r\n                </label>\r\n                <input type="text" class="w_60 h_24 mlmr_10" name="maxLengthTextComb">\r\n                <div data-i18n="form-designer:dialog.options.textField.characters"></div>\r\n            </div>\r\n            <div class="d_f ai_c h_24 mb_5">\r\n                <div class="w_120 fs_0"></div>\r\n                <label class="d_f ai_c">\r\n                    <input type="checkbox" name="multiLine"/>\r\n                    <div data-i18n="form-designer:dialog.options.textField.multiLine"></div>\r\n                </label>\r\n            </div>\r\n            \x3c!-- 暂时隐藏，等待GSDK提供支持\r\n            <div class="d_f ai_c h_24 mb_5">\r\n                <div class="w_120 fs_0"></div>\r\n                <div data-i18n="form-designer:dialog.options.textField.lineSpacing" class="pr_10 w_120 ta_r"></div>\r\n                <select class="w_120 h_24" name="lineSpace">\r\n                    <option data-i18n="form-designer:dialog.options.textField.single" value="0,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.lines1_5" value="1,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.doubleLines" value="2,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.exactly" value="3,0"></option>\r\n                    <option data-i18n="form-designer:dialog.options.textField.auto" value="auto"></option>\r\n                </select>\r\n            </div>\r\n            --\x3e\r\n            <div class="d_f ai_c h_24">\r\n                <div class="w_120 fs_0"></div>\r\n                <div class="pr_10 w_120 ta_r" data-i18n="form-designer:dialog.options.textField.at"></div>\r\n                <input type="text" class="w_90 h_24" name="lineSpaceExactlyValue"/>\r\n                <div class="w_30 ta_c" data-i18n="form-designer:dialog.options.textField.pt"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}},function(e,t,i){var n=i(0);e.exports=function(e){"use strict";var t="",i=(e=e||{}).i,a=n.$escape,o=n.$each,r=e.currencySymbol,s=(e.item,e.index,e.dateOptions),l=e.timeOptions;t+='<div>\r\n    <div show-in-types="combobox,text">\r\n        <div class="d_f ai_c">\r\n            <div data-i18n="form-designer:dialog.format.selectFormatCategory"></div>\r\n            <select class="w_180 h_24 ml_10" name="category">\r\n                <option data-i18n="form-designer:dialog.format.none" value="none"></option>\r\n                <option data-i18n="form-designer:dialog.format.number" value="number"></option>\r\n                <option data-i18n="form-designer:dialog.format.percentage" value="percentage"></option>\r\n                <option data-i18n="form-designer:dialog.format.date" value="date"></option>\r\n                <option data-i18n="form-designer:dialog.format.time" value="time"></option>\r\n                <option data-i18n="form-designer:dialog.format.special" value="special"></option>\r\n                <option data-i18n="form-designer:dialog.format.custom" value="custom"></option>\r\n            </select>\r\n        </div>\r\n        <div class="d_f ai_c mb_10 mt_22 h_17">\r\n            <div class="d_f ai_c" name="categoryOptionTitle"></div>\r\n        </div>\r\n        <div class="bg-wrap h_250 d_f fd_c jc_sb">\r\n            <div>\r\n                <div categoryValue="number">\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.decimalPlaces"></div>\r\n                        <select class="f_1 h_24" name="decimalPlaces">\r\n                            ';for(i=0;i<=10;i++)t+='\r\n                            <option value="',t+=a(i),t+='">',t+=a(i),t+="</option>\r\n                            ";t+='\r\n                        </select>\r\n                        <div class="w_120"></div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.separatorStyle"></div>\r\n                        <select class="f_1 h_24" name="separatorStyle">\r\n                            <option value="0">1,234.56</option>\r\n                            <option value="1">1234.56</option>\r\n                            <option value="2">1.234,56</option>\r\n                            <option value="3">1234,56</option>\r\n                            <option value="4">1 234,56</option>\r\n                        </select>\r\n                        <div class="w_120"></div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.currencySymbol"></div>\r\n                        <select class="f_1 h_24" name="currencySymbol">\r\n                            <option value="0" data-i18n="form-designer:dialog.format.none"></option>\r\n                            ',o(r,(function(e,i){t+='\r\n                            <option value="',t+=a(e.value),t+='">',t+=a(e.name),t+="</option>\r\n                            "})),t+='\r\n                        </select>\r\n                        <div class="w_120"></div>\r\n                    </div>\r\n                    <div class="d_f">\r\n                        <div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.negativeNumberStyle"></div>\r\n                        <div>\r\n                            <label class="lh_24 d_f ai_c">\r\n                                <input type="checkbox" name="showParentheses"/>\r\n                                <div data-i18n="form-designer:dialog.format.showParentheses"></div>\r\n                            </label>\r\n                            <label class="lh_24 d_f ai_c">\r\n                                <input type="checkbox" name="useRedText"/>\r\n                                <div data-i18n="form-designer:dialog.format.useRedText"></div>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div categoryValue="percentage">\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.decimalPlaces"></div>\r\n                        <select class="f_1 h_24" name="percentDecimalPlaces">\r\n                            ';for(i=0;i<=10;i++)t+='\r\n                            <option value="',t+=a(i),t+='">',t+=a(i),t+="</option>\r\n                            ";return t+='\r\n                        </select>\r\n                        <div class="w_120"></div>\r\n                    </div>\r\n                    <div class="d_f ai_c mb_10">\r\n                        <div class="lh_24 pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.separatorStyle"></div>\r\n                        <select class="f_1 h_24" name="percentSeparatorStyle">\r\n                            <option value="0">1,234.56</option>\r\n                            <option value="1">1234.56</option>\r\n                            <option value="2">1.234,56</option>\r\n                            <option value="3">1234,56</option>\r\n                            <option value="4">1 234,56</option>\r\n                        </select>\r\n                        <div class="w_120"></div>\r\n                    </div>\r\n                </div>\r\n                <div categoryValue="date">\r\n                    <div class="d_f jc_c ai_c mb_10">\r\n                        <select class="w_300 h_150" multiple name="dateFormatOptions">\r\n                            ',o(s,(function(e,i){t+='\r\n                            <option value="',t+=a(e.value),t+='">',t+=a(e.name),t+="</option>\r\n                            "})),t+='\r\n                            <option value="Custom" data-i18n="form-designer:dialog.format.custom"></option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="d_f jc_c ai_c" name="dateCustomFormat">\r\n                        <input type="text" class="w_300 h_24" name="dateCustomFormatText">\r\n                    </div>\r\n                </div>\r\n                <div categoryValue="time">\r\n                    <div class="d_f jc_c ai_c mb_10">\r\n                        <select class="w_300 h_150" multiple name="timeFormatOptions">\r\n                            ',o(l,(function(e,i){t+='\r\n                            <option value="',t+=a(e.value),t+='">',t+=a(e.name),t+="</option>\r\n                            "})),t+='\r\n                            <option value="Custom" data-i18n="form-designer:dialog.format.custom"></option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="d_f jc_c ai_c" name="timeCustomFormat">\r\n                        <input type="text" class="w_300 h_24" name="timeCustomFormatText">\r\n                    </div>\r\n                </div>\r\n                <div categoryValue="special">\r\n                    <div class="d_f jc_c ai_c mb_10">\r\n                        <select class="w_300 h_150" multiple name="specialFormatOptions">\r\n                            <option value="zipCode" data-i18n="form-designer:dialog.format.zipCode"></option>\r\n                            <option value="zipCode4" data-i18n="form-designer:dialog.format.zipCode4"></option>\r\n                            <option value="phoneNumber" data-i18n="form-designer:dialog.format.phoneNumber"></option>\r\n                            <option value="socialSecurityNumber" data-i18n="form-designer:dialog.format.socialSecurityNumber"></option>\r\n                            <option value="arbitraryMask" data-i18n="form-designer:dialog.format.arbitraryMask"></option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="d_f jc_c ai_c" name="specialArbitraryFormat">\r\n                        <input type="text" class="w_300 h_24" name="specialArbitraryFormatText">\r\n                    </div>\r\n                </div>\r\n                <div categoryValue="custom" class="plpr_20">\r\n                    <div class="mtmb_10" data-i18n="form-designer:dialog.format.customFormatScript"></div>\r\n                    <div class="d_f">\r\n                        <textarea class="f_1 mr_20 h_70" name="editFormat"></textarea>\r\n                        <div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditFormat">form-designer:dialog.format.edit</div>\r\n                    </div>\r\n                    <div class="mtmb_10" data-i18n="form-designer:dialog.format.customKeystrokeScript"></div>\r\n                    <div class="d_f">\r\n                        <textarea class="f_1 mr_20 h_70" name="editKeystroke"></textarea>\r\n                        <div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditKeystroke">form-designer:dialog.format.edit</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="d_f ai_c h_30" name="categoryExample">\r\n                <div class="pr_10 w_200 ta_r" data-i18n="form-designer:dialog.format.exampleOfCurrentFormat"></div>\r\n                <div name="exampleText"></div>\r\n            </div>\r\n        </div>\r\n        <div class="mt_10" name="categoryInfo"></div>\r\n    </div>\r\n</div>'}},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div>\r\n    <div show-in-types="combobox,text">\r\n        <label class="d_f ai_c h_24 mb_10" >\r\n            <input type="radio" value="0" name="validateRadio"/>\r\n            <div data-i18n="form-designer:dialog.validate.fieldValueIsNotValidated" class="ml_5"></div>\r\n        </label>\r\n        <label class="d_f ai_c h_24 mb_10" name="validate-child-1">\r\n            <input type="radio" value="1" name="validateRadio"/>\r\n            <div data-i18n="form-designer:dialog.validate.fieldValueIsInRange" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f ai_c mb_10 pl_30 disabled" name="validate-child-2">\r\n            <div data-i18n="form-designer:dialog.validate.from"></div>\r\n            <input type="text" name="editFrom" class="w_120 h_24 ml_10"/>\r\n            <div class="w_80"></div>\r\n            <div data-i18n="form-designer:dialog.validate.to"></div>\r\n            <input type="text" name="editTo" class="w_120 h_24 ml_10"/>\r\n        </div>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" value="2" name="validateRadio"/>\r\n            <div data-i18n="form-designer:dialog.validate.runCustomValidationScript" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f pl_30 disabled" name="validate-child-3">\r\n            <textarea class="f_1 mr_20 h_70" disabled name="textScript"></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditScript">form-designer:dialog.validate.edit</div>\r\n        </div>\r\n    </div>\r\n</div>','<div>\r\n    <div show-in-types="combobox,text">\r\n        <label class="d_f ai_c h_24 mb_10" >\r\n            <input type="radio" value="0" name="validateRadio"/>\r\n            <div data-i18n="form-designer:dialog.validate.fieldValueIsNotValidated" class="ml_5"></div>\r\n        </label>\r\n        <label class="d_f ai_c h_24 mb_10" name="validate-child-1">\r\n            <input type="radio" value="1" name="validateRadio"/>\r\n            <div data-i18n="form-designer:dialog.validate.fieldValueIsInRange" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f ai_c mb_10 pl_30 disabled" name="validate-child-2">\r\n            <div data-i18n="form-designer:dialog.validate.from"></div>\r\n            <input type="text" name="editFrom" class="w_120 h_24 ml_10"/>\r\n            <div class="w_80"></div>\r\n            <div data-i18n="form-designer:dialog.validate.to"></div>\r\n            <input type="text" name="editTo" class="w_120 h_24 ml_10"/>\r\n        </div>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" value="2" name="validateRadio"/>\r\n            <div data-i18n="form-designer:dialog.validate.runCustomValidationScript" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f pl_30 disabled" name="validate-child-3">\r\n            <textarea class="f_1 mr_20 h_70" disabled name="textScript"></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0" name="btnEditScript">form-designer:dialog.validate.edit</div>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div>\r\n    <div show-in-types="combobox,text" class="fv__calculate-tab">\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input id="noCalc" type="radio" value="0" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.valueIsNotCalculated" class="ml_5"></div>\r\n        </label>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" id="simpleCalc" value="1" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.valueIsThe" class="ml_5"></div>\r\n            <select id="simpleOp" class="w_100 mlmr_5 h_24">\r\n                <option value="SUM" data-i18n="form-designer:dialog.calculate.sum"></option>\r\n                <option value="PRD" data-i18n="form-designer:dialog.calculate.product"></option>\r\n                <option value="AVG" data-i18n="form-designer:dialog.calculate.average"></option>\r\n                <option value="MIN" data-i18n="form-designer:dialog.calculate.minimum"></option>\r\n                <option value="MAX" data-i18n="form-designer:dialog.calculate.maximum"></option>\r\n            </select>\r\n            <div data-i18n="form-designer:dialog.calculate.ofTheFollowFields"></div>\r\n        </label>\r\n        <div class="d_f pl_30 mb_10 disabled" name="calculate-child-2">\r\n            <textarea id="simpleFields" class="f_1 mr_20 h_70" disabled></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0 disabled" id="pickFields">form-designer:dialog.calculate.pick</div>\r\n        </div>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" id="notationInput" value="2" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.simplifiedFieldNotation" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f pl_30 mb_10 disabled" name="calculate-child-3">\r\n            <textarea id="notations" class="f_1 mr_20 h_70" disabled></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0 disabled" id="editNotations">form-designer:dialog.calculate.edit</div>\r\n        </div>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" id="customInput" value="3" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.customCalculateScript" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f pl_30 disabled" name="calculate-child-4">\r\n            <textarea id="COCustomScript" class="f_1 mr_20 h_70" disabled></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0 disabled"  id="editCustomScript">form-designer:dialog.calculate.edit</div>\r\n        </div>\r\n    </div>\r\n</div>','<div>\r\n    <div show-in-types="combobox,text" class="fv__calculate-tab">\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input id="noCalc" type="radio" value="0" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.valueIsNotCalculated" class="ml_5"></div>\r\n        </label>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" id="simpleCalc" value="1" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.valueIsThe" class="ml_5"></div>\r\n            <select id="simpleOp" class="w_100 mlmr_5 h_24">\r\n                <option value="SUM" data-i18n="form-designer:dialog.calculate.sum"></option>\r\n                <option value="PRD" data-i18n="form-designer:dialog.calculate.product"></option>\r\n                <option value="AVG" data-i18n="form-designer:dialog.calculate.average"></option>\r\n                <option value="MIN" data-i18n="form-designer:dialog.calculate.minimum"></option>\r\n                <option value="MAX" data-i18n="form-designer:dialog.calculate.maximum"></option>\r\n            </select>\r\n            <div data-i18n="form-designer:dialog.calculate.ofTheFollowFields"></div>\r\n        </label>\r\n        <div class="d_f pl_30 mb_10 disabled" name="calculate-child-2">\r\n            <textarea id="simpleFields" class="f_1 mr_20 h_70" disabled></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0 disabled" id="pickFields">form-designer:dialog.calculate.pick</div>\r\n        </div>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" id="notationInput" value="2" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.simplifiedFieldNotation" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f pl_30 mb_10 disabled" name="calculate-child-3">\r\n            <textarea id="notations" class="f_1 mr_20 h_70" disabled></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0 disabled" id="editNotations">form-designer:dialog.calculate.edit</div>\r\n        </div>\r\n        <label class="d_f ai_c h_24 mb_10">\r\n            <input type="radio" id="customInput" value="3" name="calculateRadio"/>\r\n            <div data-i18n="form-designer:dialog.calculate.customCalculateScript" class="ml_5"></div>\r\n        </label>\r\n        <div class="d_f pl_30 disabled" name="calculate-child-4">\r\n            <textarea id="COCustomScript" class="f_1 mr_20 h_70" disabled></textarea>\r\n            <div class="fv__ui-dialog-button small w_80 plpr_0 disabled"  id="editCustomScript">form-designer:dialog.calculate.edit</div>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div>\r\n    <div show-in-types="listbox" class="fv_list-action">\r\n        <div class="d_f ai-c mb-10">\r\n            <div class="d_f ai-c" data-i18n="form-designer:dialog.selection.title"></div>\r\n        </div>\r\n        <div class="fv_list-action-options">\r\n            <div class="d_f ai-c h-24">\r\n                <div class="w-20"></div>\r\n                <label class="d_f ai-c">\r\n                    <input type="radio" value="no" name="selectAction" data-id="0"/>\r\n                    <div data-i18n="form-designer:dialog.selection.noSelection"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai-c h-24">\r\n                <div class="w-20"></div>\r\n                <label class="d_f ai-c">\r\n                    <input type="radio" value="customJS"  name="selectAction" data-id="1"/>\r\n                    <div data-i18n="form-designer:dialog.selection.selectAction"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai-c customJS">\r\n                    <textarea id="keyStrokeJS" cols="30" rows="5" readOnly></textarea>\r\n                    <button class="btn-edit">form-designer:dialog.validate.edit</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>','<div>\r\n    <div show-in-types="listbox" class="fv_list-action">\r\n        <div class="d_f ai-c mb-10">\r\n            <div class="d_f ai-c" data-i18n="form-designer:dialog.selection.title"></div>\r\n        </div>\r\n        <div class="fv_list-action-options">\r\n            <div class="d_f ai-c h-24">\r\n                <div class="w-20"></div>\r\n                <label class="d_f ai-c">\r\n                    <input type="radio" value="no" name="selectAction" data-id="0"/>\r\n                    <div data-i18n="form-designer:dialog.selection.noSelection"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai-c h-24">\r\n                <div class="w-20"></div>\r\n                <label class="d_f ai-c">\r\n                    <input type="radio" value="customJS"  name="selectAction" data-id="1"/>\r\n                    <div data-i18n="form-designer:dialog.selection.selectAction"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai-c customJS">\r\n                    <textarea id="keyStrokeJS" cols="30" rows="5" readOnly></textarea>\r\n                    <button class="btn-edit">form-designer:dialog.validate.edit</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div>\r\n    <div class="fv__action_tab">\r\n        <div class="fv__action_title" data-i18n="form-designer:dialog.actionTab.add"></div>\r\n        <div class="fv__action_upper">\r\n            <div class="d_f ai_c fv__action_line">\r\n                <div class="fv__action_label"  data-i18n="form-designer:dialog.actionTab.trigger"></div>\r\n                <select class="w_180 h_24 ml_10" name="actionTrigger">\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseUp" value="14"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseDown" value="13"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseEnter" value="11"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseExit" value="12"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.focus" value="15"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.blur" value="16"></option>\r\n                </select>\r\n            </div>\r\n            <div class="d_f ai_c fv__action_line">\r\n                <div class="fv__action_label"  data-i18n="form-designer:dialog.actionTab.action"></div>\r\n                <select class="w_180 h_24 ml_10" name="actionType">\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.goto" value="TypeGoto"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.file" value="TypeLaunch"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.webLink" value="TypeURI"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.submit" value="TypeSubmitForm"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.reset" value="TypeResetForm"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.run" value="TypeJavaScript"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.import" value="TypeImportData"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.field" value="TypeHide"></option>\r\n                </select>\r\n\r\n                <div id="actionAddButton" class="fv__ui-dialog-ok-button fv__action_add ml-20" data-i18n="ui_:stamp.dialog.add"></div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__action_lower">\r\n            <div class="fv__action_title" data-i18n="ui_:contextmenu.annot.actions"></div>\r\n            <div class="fv__action_list">\r\n\r\n            </div>\r\n            <div class="d_f fv__action_buttons">\r\n                <div class="fv__ui-dialog-ok-button fv__action-up disabled" data-i18n="form-designer:dialog.actionTab.buttonUP"></div>\r\n                <div class="fv__ui-dialog-ok-button fv__action-down disabled" data-i18n="form-designer:dialog.actionTab.buttonDown"></div>\r\n                <div class="fv__ui-dialog-ok-button fv__action-edit disabled" id="editAction" data-i18n="ui_:toolbar.tabs.edit.title"></div>\r\n                <div class="fv__ui-dialog-ok-button fv__action-delete disabled" id="deleteAction" data-i18n="ui_:stamp.dialog.delete"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>','<div>\r\n    <div class="fv__action_tab">\r\n        <div class="fv__action_title" data-i18n="form-designer:dialog.actionTab.add"></div>\r\n        <div class="fv__action_upper">\r\n            <div class="d_f ai_c fv__action_line">\r\n                <div class="fv__action_label"  data-i18n="form-designer:dialog.actionTab.trigger"></div>\r\n                <select class="w_180 h_24 ml_10" name="actionTrigger">\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseUp" value="14"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseDown" value="13"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseEnter" value="11"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.mouseExit" value="12"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.focus" value="15"></option>\r\n                    <option data-i18n="form-designer:dialog.actionTab.blur" value="16"></option>\r\n                </select>\r\n            </div>\r\n            <div class="d_f ai_c fv__action_line">\r\n                <div class="fv__action_label"  data-i18n="form-designer:dialog.actionTab.action"></div>\r\n                <select class="w_180 h_24 ml_10" name="actionType">\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.goto" value="TypeGoto"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.file" value="TypeLaunch"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.webLink" value="TypeURI"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.submit" value="TypeSubmitForm"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.reset" value="TypeResetForm"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.run" value="TypeJavaScript"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.import" value="TypeImportData"></option>\r\n                    <option data-i18n="ui_:dialog.actionDialog.selectAction.field" value="TypeHide"></option>\r\n                </select>\r\n\r\n                <div id="actionAddButton" class="fv__ui-dialog-ok-button fv__action_add ml-20" data-i18n="ui_:stamp.dialog.add"></div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__action_lower">\r\n            <div class="fv__action_title" data-i18n="ui_:contextmenu.annot.actions"></div>\r\n            <div class="fv__action_list">\r\n\r\n            </div>\r\n            <div class="d_f fv__action_buttons">\r\n                <div class="fv__ui-dialog-ok-button fv__action-up disabled" data-i18n="form-designer:dialog.actionTab.buttonUP"></div>\r\n                <div class="fv__ui-dialog-ok-button fv__action-down disabled" data-i18n="form-designer:dialog.actionTab.buttonDown"></div>\r\n                <div class="fv__ui-dialog-ok-button fv__action-edit disabled" id="editAction" data-i18n="ui_:toolbar.tabs.edit.title"></div>\r\n                <div class="fv__ui-dialog-ok-button fv__action-delete disabled" id="deleteAction" data-i18n="ui_:stamp.dialog.delete"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<div class="fv_sign-tab">\r\n    <label class="d_f ai_c fv_signed-label">\r\n        <input type="radio" id="noAction" name="signAction" value="noAction"/>\r\n        <div data-i18n="form-designer:dialog.signed.nothing"></div>\r\n    </label>\r\n    <div class="d_f ai_c fv_signed-label fv_sign_fieldAction">\r\n        <label class="d_f">\r\n            <input type="radio" id="fieldsFlag" name="signAction" class="fv_input-pickfield"  value="fieldsFlag"/>\r\n            <div data-i18n="form-designer:dialog.signed.mark"></div>\r\n        </label>\r\n        <select class="fv_sign-fields-category">\r\n            <option  data-i18n="form-designer:dialog.signed.all" value="all"></option>\r\n            <option  data-i18n="form-designer:dialog.signed.exclude" value="exclude"></option>\r\n            <option  data-i18n="form-designer:dialog.signed.include" value="include"></option>\r\n        </select>\r\n        <div class="fv_sign-fields">\r\n            <input readOnly="1" class="fv_-fields-list"></input>\r\n            <div class="fv__ui-dialog-ok-button" id="pickField" data-i18n="form-designer:dialog.signed.pick"></div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="d_f ai_c fv_signed-label fv_sign-script">\r\n        <label class="d_f">\r\n            <input type="radio" id="customScript" name="signAction" value="customScript"/>\r\n            <div data-i18n="form-designer:dialog.signed.custom"></div>\r\n        </label>\r\n        <div class="fv__ui-dialog-ok-button" id="editScript" data-i18n="form-designer:dialog.signed.edit"></div>\r\n        <textarea resizeable=false readOnly="1" class=\'fv_sign-script-input\'></textarea>\r\n    </div>\r\n</div>','<div class="fv_sign-tab">\r\n    <label class="d_f ai_c fv_signed-label">\r\n        <input type="radio" id="noAction" name="signAction" value="noAction"/>\r\n        <div data-i18n="form-designer:dialog.signed.nothing"></div>\r\n    </label>\r\n    <div class="d_f ai_c fv_signed-label fv_sign_fieldAction">\r\n        <label class="d_f">\r\n            <input type="radio" id="fieldsFlag" name="signAction" class="fv_input-pickfield"  value="fieldsFlag"/>\r\n            <div data-i18n="form-designer:dialog.signed.mark"></div>\r\n        </label>\r\n        <select class="fv_sign-fields-category">\r\n            <option  data-i18n="form-designer:dialog.signed.all" value="all"></option>\r\n            <option  data-i18n="form-designer:dialog.signed.exclude" value="exclude"></option>\r\n            <option  data-i18n="form-designer:dialog.signed.include" value="include"></option>\r\n        </select>\r\n        <div class="fv_sign-fields">\r\n            <input readOnly="1" class="fv_-fields-list"></input>\r\n            <div class="fv__ui-dialog-ok-button" id="pickField" data-i18n="form-designer:dialog.signed.pick"></div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="d_f ai_c fv_signed-label fv_sign-script">\r\n        <label class="d_f">\r\n            <input type="radio" id="customScript" name="signAction" value="customScript"/>\r\n            <div data-i18n="form-designer:dialog.signed.custom"></div>\r\n        </label>\r\n        <div class="fv__ui-dialog-ok-button" id="editScript" data-i18n="form-designer:dialog.signed.edit"></div>\r\n        <textarea resizeable=false readOnly="1" class=\'fv_sign-script-input\'></textarea>\r\n    </div>\r\n</div>'}},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(33);var n=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dialog=t,this.pdfUI=i,this.addon=n}return e.prototype.setAnnot=function(e){this.annot=e,this.show()},e.prototype.resetTab=function(){var e=this.$dialog;e.find(".interactive").removeClass("interactive"),e.find(".fv_-fields-list").val(""),e.find(".fv_sign-fields-category").val("all"),e.find(".fv_sign-script-input").val("")},e.prototype.onEvent=function(){var e=this,t=this.$dialog;t.find("input:radio").on("change",(function(i){var n=e.annot.getField();switch(e.resetTab(),i.target.value){case"noAction":n.setLockAction(0);break;case"fieldsFlag":t.find(".fv_sign-fields-category,.fv_-fields-list").addClass("interactive"),e.fillFieldNames().then((function(t){e.annot.getField().setLockAction(1,t).then((function(t){return e.annot.removeAction(8)}))}));break;case"customScript":n.setLockAction(0),t.find("#editScript,.fv_sign-script-input").addClass("interactive")}})),t.find(".fv_sign-fields-category").on("change",(function(i){var n=t.find("#pickField");switch(i.target.value){case"all":e.fillFieldNames(),n.removeClass("interactive");break;case"exclude":n.addClass("interactive"),t.find(".fv_-fields-list").val(""),t.find("#pickField").trigger("click");break;case"include":n.addClass("interactive"),e.fillFieldNames(".fv_-fields-list",2),t.find("#pickField").trigger("click")}e.annot.removeAction(8)})),t.find("#pickField").on("click",(function(i){var n=e.addon.getDialog("PickField");e.pdfUI.getCurrentPDFDoc().then((function(i){var a=t.find(".fv_-fields-list").val().split(","),o=Object.keys(i.getPDFForm().fieldsNameMap);n.show({type:3,params:[o,a]},(function(i){if(i){t.find(".fv_-fields-list").val(i.join(","));var a=e.annot.getField(),o=0;switch(t.find(".fv_sign-fields-category").val()){case"all":o=1;break;case"exclude":o=3;break;case"include":o=2}a.setLockAction(o,i).then((function(t){e.annot.removeAction(8)})),n.callback=null}}))}))})),t.find("#editScript").on("click",(function(i){var n=e.addon.getDialog("JSInput"),a=e.annot.getAdditionalAction(8);n.show(a&&a.getScript(),(function(i){t.find(".fv_sign-script-input").val(i);var n=new PDFViewCtrl.PDF.actions.JavaScriptAction;n.setScript(i.replace("\n","\r\n")),e.annot.getField().setAction(8,n)}))}))},e.prototype.show=function(){var e=this.annot,t=e.getField();if(7==t.getType()){var i=e.getAdditionalAction(8),n=this.$dialog;if(n.find("#noAction")[0].checked=!0,this.resetTab(),i&&"TypeJavaScript"==i.getType()){setTimeout((function(){n.find("#customScript")[0].checked=!0}),0),n.find("#editScript,.fv_sign-script-input").addClass("interactive");var a=i.getScript();n.find(".fv_sign-script-input").val(a)}else{var o=t.getLockAction();if(o.type>0){n.find(".fv_sign-fields-category,.fv_-fields-list").addClass("interactive"),n.find("#fieldsFlag")[0].checked=!0;var r=n.find(".fv_sign-fields-category");switch(o.type){case 1:r.val("all"),this.fillFieldNames();break;case 2:r.val("include");case 3:2!=o.type&&r.val("exclude"),n.find("#pickField").addClass("interactive"),n.find(".fv_-fields-list").val(o.fields.join(","))}}}}},e.prototype.offEvent=function(){var e=this.$dialog;e.find("input:radio").off("change"),e.find(".fv_sign-fields-category").off("change")},e.prototype.fillFieldNames=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".fv_-fields-list";return this.pdfUI.getCurrentPDFDoc().then((function(i){var n="";return i.getPDFForm().enumFields([],0,(function(e,t){n+=t+","}),!1,!0),e.$dialog.find(t).val(n),n}))},e}();t.default=n},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),a=i(1),o=i(36),r=d(i(37)),s=d(i(7)),l=i(6);function d(e){return e&&e.__esModule?e:{default:e}}var c=UIExtension.vendors.jQuery,u=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dialog=t,this.PDFUI=i,this.$category=c("select[name=category]",this.$dialog),this.$categoryOptionTitle=c("[name=categoryOptionTitle]",this.$dialog),this.$categoryValue=c("[categoryValue]",this.$dialog),this.$categoryExample=c("[name=categoryExample]",this.$dialog),this.$categoryInfo=c("[name=categoryInfo]",this.$dialog),this.$dateFormatOptions=c("[name=dateFormatOptions]",this.$dialog),this.$dateCustomFormat=c("[name=dateCustomFormat]",this.$dialog),this.$dateCustomFormatText=c("[name=dateCustomFormatText]",this.$dialog),this.$timeFormatOptions=c("[name=timeFormatOptions]",this.$dialog),this.$timeCustomFormat=c("[name=timeCustomFormat]",this.$dialog),this.$timeCustomFormatText=c("[name=timeCustomFormatText]",this.$dialog),this.$specialFormatOptions=c("[name=specialFormatOptions]",this.$dialog),this.$specialArbitraryFormat=c("[name=specialArbitraryFormat]",this.$dialog),this.$specialArbitraryFormatText=c("[name=specialArbitraryFormatText]",this.$dialog),this.$editKeystroke=c("[name=editKeystroke]",this.$dialog),this.$editKeystroke.attr("disabled",!0),this.$editFormat=c("[name=editFormat]",this.$dialog),this.$editFormat.attr("disabled",!0),this.$decimalPlaces=c("[name=decimalPlaces]",this.$dialog),this.$separatorStyle=c("[name=separatorStyle]",this.$dialog),this.$currencySymbol=c("[name=currencySymbol]",this.$dialog),this.$showParentheses=c("[name=showParentheses]",this.$dialog),this.$useRedText=c("[name=useRedText]",this.$dialog),this.$percentDecimalPlaces=c("[name=percentDecimalPlaces]",this.$dialog),this.$percentSeparatorStyle=c("[name=percentSeparatorStyle]",this.$dialog),this.$exampleText=c("[name=exampleText]",this.$dialog),this.addon=n}return e.prototype.setAnnot=function(e){this.annot=e,this.initTab()},e.prototype.updateSampleText=function(e){var t=this.annot.getField().getValue();if(isNaN(t)&&e>=1&&e<=5)this.lastCategoryVal="none";else switch(this.$exampleText.css("color",""),e){case 1:var i=this.$decimalPlaces.val(),n=this.$separatorStyle.val(),r=this.$currencySymbol.val(),s=this.$showParentheses.prop("checked"),l=this.$useRedText.prop("checked"),d=(s?2:0)|(l?1:0),c=this.$currencySymbol.prop("selectedIndex"),u=0==c||2==c||5==c||6==c||8==c||12==c?0:1,f=a.CFD_Utils.GetSampNumberFormat(4123.0345,i,n,d,r-1,u);l&&this.$exampleText.css("color","red"),this.$exampleText.html(f);break;case 2:var g=this.$percentDecimalPlaces.val(),v=this.$percentSeparatorStyle.val(),h=a.CFD_Utils.GetSampPercentFormat(4123.0345,g,v);this.$exampleText.html(h);break;case 3:var m=this.$dateFormatOptions.val()[0];"Custom"==m&&(m=this.$dateCustomFormatText.val());var _=o.CFR_Utils.FormatDateTimeString(t,m,p(this.annot));this.$exampleText.html(_);break;case 4:var b=this.$timeFormatOptions.val(),y=b[0];"Custom"==b[0]&&(y=this.$timeCustomFormatText.val());var F=o.CFR_Utils.FormatDateTimeString(t,y,p(this.annot));this.$exampleText.html(F);break;default:this.$exampleText.html("")}},e.prototype.onUpdateCategoryUI=function(){var e=this.$category.val();this.$categoryOptionTitle.text("none"===e?"":this.PDFUI.i18n.t("form-designer:dialog.optionTitle."+e)),this.$categoryInfo.text(this.PDFUI.i18n.t("form-designer:dialog.format."+e+"Info")),this.$categoryValue.each((function(t,i){c(i).toggle(c(i).attr("categoryValue").indexOf(e)>-1)})),this.$categoryExample.toggle("none"!==e&&"special"!==e&&"custom"!==e)},e.prototype.initTab=function(){this.$category.val("none"),this.$decimalPlaces.val(2),this.$percentDecimalPlaces.val(2),this.$dateFormatOptions.val(a.g_csDateFormat[0]),this.$timeFormatOptions.val(a.g_csTimeFormat[0]),this.$specialFormatOptions.val(a.g_csSpecialFormat[0]),this.$dateCustomFormat.toggle(!1),this.$dateCustomFormatText.val(""),this.$timeCustomFormat.toggle(!1),this.$timeCustomFormatText.val(""),this.$specialArbitraryFormat.toggle(!1),this.$showParentheses.prop("checked",!1),this.$useRedText.prop("checked",!1);var e=this.annot.getField(),t=void 0,i=void 0,o=e.getAction(n.Action_Trigger.keyStroke);o&&"TypeJavaScript"==o.info.type&&(t=o.info.javascript),(o=e.getAction(n.Action_Trigger.format))&&"TypeJavaScript"==o.info.type&&(i=o.info.javascript);var r;switch(r=i?a.CFD_Utils.GetFormatStringType(i):t?a.CFD_Utils.GetKeystrokeStringType(t):0){case 1:if(this.$category.val("number"),!i)break;var s=a.CFD_Utils.GetNumberValues(i),l=s.iDec,d=s.iSep,u=s.iNeg,p=(s.iDef,s.iMoney);s.iPre;this.$decimalPlaces.val(l),this.$separatorStyle.val(d),this.$currencySymbol.val(p+1);var f=2&u?1:0,g=1&u?1:0;this.$showParentheses.prop("checked",f),this.$useRedText.prop("checked",g);break;case 2:if(this.$category.val("percentage"),!i)break;var v=a.CFD_Utils.GetPercentageValues(i),h=v.iDec,m=v.iSep;this.$percentDecimalPlaces.val(h),this.$percentSeparatorStyle.val(m);break;case 3:if(this.$category.val("date"),!i)break;var _=i.length,b=i.indexOf("("),y=_-b-5,F=-1;if(y>0){for(var C=i.substr(b+2,y),w=0;w<a.g_csDateFormat.length;w++)if(C==a.g_csDateFormat[w]){this.$dateFormatOptions.val(C),F=w;break}-1==F&&(this.$dateFormatOptions.val("Custom"),this.$dateCustomFormatText.val(C))}this.$dateCustomFormat.toggle(-1==F);break;case 4:if(this.$category.val("time"),!i)break;var T=-1,x=i.length,A=i.indexOf("(");if(i.indexOf("AFTime_FormatEx")>=0){var D=x-A-5;if(D>0){for(var E=i.substr(A+2,D),S=0;S<a.g_csTimeFormat.length;S++)if(E==a.g_csTimeFormat[S]){this.$timeFormatOptions.val(E),T=S;break}-1==T&&(this.$timeFormatOptions.val("Custom"),this.$timeCustomFormatText.val(E))}}else{var R=x-A-3;if(R>0){var k=i.substr(A+1,R),P=parseInt(k);P>=0&&P<a.g_csTimeFormat.length?(T=P,this.$timeFormatOptions.val(a.g_csTimeFormat[P])):(this.$timeFormatOptions.val("Custom"),this.$timeCustomFormatText.val(k))}}this.$timeCustomFormat.toggle(-1==T);break;case 5:if(this.$category.val("special"),!t)break;if(t.indexOf("AFSpecial_KeystrokeEx")>=0){var $=t.length,I=t.indexOf("("),O=$-I-5;if(O>0){var N=t.substr(I+2,O);this.$specialArbitraryFormatText.val(N)}this.$specialFormatOptions.val("arbitraryMask"),this.$specialArbitraryFormat.toggle(!0)}else{var L=t.length,M=t.indexOf("("),U=L-M-3;if(U>0){var B=t.substr(M+1,U),H=parseInt(B);H>-1&&this.$specialFormatOptions.prop("selectedIndex",H)}this.$specialArbitraryFormat.toggle(!1)}break;case-1:this.$category.val("custom"),i||(i=""),c("[name=editFormat]",this.$dialog).val(i),t||(t=""),c("[name=editKeystroke]",this.$dialog).val(t);break;default:this.$category.val("none")}this.updateSampleText(r),this.onUpdateCategoryUI()},e.prototype.resetTab=function(){},e.prototype.resetFieldColor=function(){var e=this.annot.getField(),t=e.getAction(n.Action_Trigger.format);if(t&&"TypeJavaScript"==t.info.type){var i=t.info.javascript;if(1==a.CFD_Utils.GetFormatStringType(i)){var o=a.CFD_Utils.GetNumberValues(i),r=(o.wcJS,o.iDec,o.iSep,o.iNeg);o.iDef,o.iMoney,o.iPre;if(1&r)return e.setDAFontColorAsync(["RGB",0,0,0])}}return Promise.resolve()},e.prototype.onEvent=function(){var e=this;this.$dialog;this.lastCategoryVal=this.$category.val(),this.$category.on("change",(function(t){e.isChangeCategory=!0,e.onUpdateCategoryUI(),e.resetFieldColor().then((function(){return e.changeCurrentCatgory(),Promise.resolve()})).then((function(){e.lastCategoryVal=e.$category.val()}))})),this.$decimalPlaces.on("change",(function(t){return e.changeCurrentCatgory()})),this.$separatorStyle.on("change",(function(t){return e.changeCurrentCatgory()})),this.$currencySymbol.on("change",(function(t){return e.changeCurrentCatgory()})),this.$showParentheses.on("change",(function(t){return e.changeCurrentCatgory()})),this.$useRedText.on("change",(function(t){e.changeCurrentCatgory();var i=e.annot.getField(),n=i.getDefaultValue(),a=i.getValue(),o=e.$useRedText.prop("checked"),r="#000";(n&&0!=n.length||a&&0!=a.length)&&(r=o&&(n<0||a<0)?"#FF0000":"#000");var s=(0,l.colorConvertor)(r,"int");e.annot.setDefaultAppearance({textColor:s}).then((function(){e.annot.updateUI({value:s,type:"textColor"})}))})),this.$percentDecimalPlaces.on("change",(function(t){return e.changeCurrentCatgory()})),this.$percentSeparatorStyle.on("change",(function(t){return e.changeCurrentCatgory()})),this.$dateCustomFormatText.on("blur",(function(t){return e.changeCustomFormat(0)})),this.$timeCustomFormatText.on("blur",(function(t){return e.changeCustomFormat(1)})),this.$specialArbitraryFormatText.on("blur",(function(t){return e.changeCustomFormat(2)})),this.$dateFormatOptions.on("change",(function(t){var i=e.$dateFormatOptions.val();i&&i.length>1&&e.$dateFormatOptions.val([i.slice(-1)]),e.$dateCustomFormat.toggle(i.indexOf("Custom")>-1),e.changeCurrentCatgory()})),this.$timeFormatOptions.on("change",(function(t){var i=e.$timeFormatOptions.val();i&&i.length>1&&e.$timeFormatOptions.val([i.slice(-1)]),e.$timeCustomFormat.toggle(i.indexOf("Custom")>-1),e.changeCurrentCatgory()})),this.$specialFormatOptions.on("change",(function(t){var i=e.$specialFormatOptions.val();i&&i.length>1&&e.$specialFormatOptions.val([i.slice(-1)]),e.$specialArbitraryFormat.toggle(i.indexOf("arbitraryMask")>-1),e.changeCurrentCatgory()})),this.$dialog.find("[name=btnEditFormat]").on("click",(function(t){var i=e.annot.getField(),a=i.getAction(8);e.addon.getDialog("JSInput").show(a&&a.getScript(),(function(t){t&&""!=t&&(i.setAction(n.Action_Trigger.format,t).then((function(){e.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[e.annot],e.annot.getPDFPage())})),c("[name=editFormat]",e.$dialog).val(t))}))})),this.$dialog.find("[name=btnEditKeystroke]").on("click",(function(t){var i=e.annot.getField(),a=i.getAction(7);e.addon.getDialog("JSInput").show(a&&a.getScript(),(function(t){t&&""!=t&&(i.setAction(n.Action_Trigger.keyStroke,t).then((function(){e.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[e.annot],e.annot.getPDFPage())})),c("[name=editKeystroke]",e.$dialog).val(t))}))}))},e.prototype.show=function(){},e.prototype.offEvent=function(){this.$category.off("change"),this.$dateFormatOptions.off("change"),this.$timeFormatOptions.off("change"),this.$specialFormatOptions.off("change"),this.$decimalPlaces.off("change"),this.$separatorStyle.off("change"),this.$currencySymbol.off("change"),this.$showParentheses.off("change"),this.$useRedText.off("change"),this.$percentDecimalPlaces.off("change"),this.$percentSeparatorStyle.off("change"),this.$dateCustomFormatText.off("blur"),this.$timeCustomFormatText.off("blur"),this.$specialArbitraryFormatText.off("blur")},e.prototype.updateActions=function(e,t){var i=this,n=this.annot.getField(),a=n.info.defaultValue,o=n.getAction(s.default.FieldWillFormat),l=this.lastCategoryVal;return a&&0!=a.length&&o?new Promise((function(e){return setTimeout(e,0)})).then((function(){return i.PDFUI.getPDFDocRender()})).then((function(a){var o=new r.default;if(o.setScript(e),a.getFormRender().execAction("Field",o,null,n,s.default.FieldWillFormat).rc)return i.isChangeCategory&&(i.resetCategorySelections(l),i.isChangeCategory=!1),i.updateActionsEx(n,e,t);i.isChangeCategory&&(i.isChangeCategory=!1),i.$category.val(l),i.$category.trigger("change")})):(this.isChangeCategory&&(this.isChangeCategory=!1,this.resetCategorySelections(l)),this.updateActionsEx(n,e,t))},e.prototype.updateActionsEx=function(e,t,i){return Promise.resolve().then((function(){return t&&""!=t?e.setAction(n.Action_Trigger.format,t):e.removeAction(n.Action_Trigger.format)})).then((function(){return i&&""!=i?e.setAction(n.Action_Trigger.keyStroke,i):e.removeAction(n.Action_Trigger.keyStroke)})).then((function(){if(""!==e.info.value){var t=e.info.value;e.info.value="",e.setValue(t)}}))},e.prototype.selectNone=function(){var e=this.annot.getField();return this.annot.resetAppearanceStream().then((function(){return e.removeAction(n.Action_Trigger.format)})).then((function(){return e.removeAction(n.Action_Trigger.keyStroke)})).then((function(){return e.removeAction(n.Action_Trigger.validate)}))},e.prototype.selectNumber=function(e){var t=e?this.$percentDecimalPlaces.prop("selectedIndex"):this.$decimalPlaces.prop("selectedIndex"),i=e?this.$percentSeparatorStyle.prop("selectedIndex"):this.$separatorStyle.prop("selectedIndex"),o=this.$currencySymbol.prop("selectedIndex"),r=this.$showParentheses.is(":checked"),s=(this.$useRedText.is(":checked")?1:0)|(r?2:0),l=o>0?a.g_csMoneyFormat[o-1]:"",d=0==o||2==o||5==o||6==o||8==o||12==o?"false":"true",c=void 0,u=void 0;e?(c="AFPercent_Format("+t+","+i+");",u="AFPercent_Keystroke("+t+","+i+");"):(c="AFNumber_Format("+t+","+i+","+s+',0,"'+l+'",'+d+");",u="AFNumber_Keystroke("+t+","+i+","+s+',0,"'+l+'",'+d+");");var p=this.annot.getField();return this.updateActions(c,u).then((function(){return p.removeAction(n.Action_Trigger.validate)}))},e.prototype.changeCustomFormat=function(e){var t="",i="";if(0==e){var a=this.$dateCustomFormatText.val();t='AFDate_KeystrokeEx("'+a+'");',i='AFDate_FormatEx("'+a+'");',this.updateSampleText(3)}else if(1==e){var o=this.$timeCustomFormatText.val();t='AFTime_Keystroke("'+o+'");',i='AFTime_FormatEx("'+o+'");',this.updateSampleText(4)}else if(2==e){t='AFSpecial_KeystrokeEx("'+this.$specialArbitraryFormatText.val()+'");',i="",this.updateSampleText(5)}var r=this.annot.getField();return this.updateActions(i,t).then((function(){return r.removeAction(n.Action_Trigger.validate)}))},e.prototype.selectDate=function(e){var t=e?this.$dateFormatOptions.prop("selectedIndex"):this.$timeFormatOptions.prop("selectedIndex"),i=this.annot.getField(),o=void 0,r=void 0;if(e){if(t==a.g_csDateFormat.length-1)return;var s=a.g_csDateFormat[t];o='AFDate_KeystrokeEx("'+s+'");',r='AFDate_FormatEx("'+s+'");'}else{if(t==a.g_csTimeFormat.length-1)return;o='AFTime_Keystroke("'+a.g_csTimeFormat[t]+'");',r="AFTime_Format("+t+");"}return this.updateActions(r,o).then((function(){return i.removeAction(n.Action_Trigger.validate)}))},e.prototype.selectSpecial=function(){var e=this.$specialFormatOptions.prop("selectedIndex");if(4==e)return this.changeCustomFormat(2);var t="AFSpecial_Format("+e+");",i="AFSpecial_Keystroke("+e+");",a=this.annot.getField();return this.updateActions(t,i).then((function(){return a.removeAction(n.Action_Trigger.validate)}))},e.prototype.resetCategorySelections=function(e){var t=this;switch(e){case"none":break;case"number":this.$decimalPlaces.val(2),this.$separatorStyle.val(0),this.$currencySymbol.val(0),this.$showParentheses.prop("checked",!1),this.$useRedText.prop("checked")&&this.annot.setDefaultAppearance({textColor:0}).then((function(){t.annot.updateUI({value:0,type:"textColor"})})),this.$useRedText.prop("checked",!1);break;case"percentage":this.$percentDecimalPlaces.val(2),this.$percentSeparatorStyle.val(0);break;case"date":this.$dateFormatOptions.val(a.g_csDateFormat[0]);break;case"time":this.$timeFormatOptions.val(a.g_csTimeFormat[0]);break;case"special":this.$specialFormatOptions.val(a.g_csSpecialFormat[0]);break;case"custom":this.$editFormat.val(""),this.$editKeystroke.val("")}},e.prototype.changeCurrentCatgory=function(){switch(this.$category.val()){case"none":this.selectNone(),this.updateSampleText(0);break;case"number":this.updateSampleText(1),this.selectNumber(!1);break;case"percentage":this.updateSampleText(2),this.selectNumber(!0);break;case"date":this.updateSampleText(3),this.selectDate(!0);break;case"time":this.updateSampleText(4),this.selectDate(!1);break;case"special":this.selectSpecial(),this.updateSampleText(0)}},e}(),p=function(e){var t=e.getField().getAction(n.Action_Trigger.format);if(t){var i=t.getScript(),o=void 0;if(-1!==i.indexOf("AFDate_Format")){o=/AFDate_Format(?:Ex)?\("([\s\S]*?)"\)/;var r=i.match(o);if(r&&2==r.length)return r[1].trim()}else if(-1!==i.indexOf("AFTime_Format")){o=/AFTime_Format(?:Ex)?\(([\s\S]*?)\)/;var s=i.match(o);if(s&&2==s.length)return a.g_csTimeFormat[s[1]]||s[1].replace(/"/g,"")}}};t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={success:0,file:1,format:2,password:3,handle:4,certificate:5,unknown:6,invalidLicense:7,param:8,unsupported:9,outOfMemory:10,securityHandler:11,notParsed:12,notFound:13,invalidType:14,conflict:15,unknownState:16,dataNotReady:17,invalidData:18,xFALoadError:19,notLoaded:20,invalidState:21,notCDRM:22,canNotConnectToServer:23,invalidUserToken:24,noRights:25,rightsExpired:26,deviceLimitation:27,canNotRemoveSecurityFromServer:28,canNotGetACL:29,canNotSetACL:30,isAlreadyCPDF:31,isAlreadyCDRM:32,canNotUploadDocInfo:33,canNotUploadCDRMInfo:34,invalidWrapper:35,canNotGetClientID:36,canNotGetUserToken:37,invalidACL:38,invalidClientID:39,OCREngineNotInit:40,diskFull:41,OCRTrialIsEnd:42,filePathNotExist:43,complianceEngineNotInit:44,complianceEngineInvalidUnlockCode:45,complianceEngineInitFailed:46,timeStampServerMgrNotInit:47,LTVVerifyModeNotSet:48,LTVRevocationCallbackNotSet:49,LTVCannotSwitchVersion:50,LTVCannotCheckDTS:51,LTVCannotLoadDSS:52,LTVCannotLoadDTS:53,needSigned:54,complianceResourceFile:55,timeStampServerMgrNoDefaltServer:56,defaultTimeStampServer:57,noConnectedPDFModuleRight:58,noXFAModuleRight:59,noRedactionModuleRight:60,noRMSModuleRight:61,noOCRModuleRight:62,noComparisonModuleRight:63,noComplianceModuleRight:64,noOptimizerModuleRight:65,noConversionModuleRight:66,collaborationSession:1400}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Jan","Feb","Mar","Apr","May","Jun","Ju","Aug","Sep","Oct","Nov","Dec"],a=["January","February","March","April","May","June","July","August","September","October","November","December"];t.CFR_Utils=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.MakeFixed=function(e,t){return(Array(t).join("0")+e).slice(-t)},e.FormatDateTimeString=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,r=e.GetDate(t,o);i&&""!=i||(r=new Date),"Invalid Date"==r.toString()&&(r=new Date);for(var s="",l="",d=r.getFullYear(),c=r.getMonth()+1,u=r.getDate(),p=r.getHours(),f=r.getMinutes(),g=r.getSeconds(),v=0,h=0;v<i.length;){switch(l="",h=i[v]){case"y":case"m":case"d":case"H":case"h":case"M":case"s":case"t":if(i[v+1]!=h){switch(h){case"y":l+=h;break;case"m":l=c;break;case"d":l=u;break;case"H":l=p;break;case"h":l=p>12?p-12:p;break;case"M":l=f;break;case"s":l=g;break;case"t":l+=p>=12?"p":"a"}v++}else if(i[v+1]==h&&i[v+2]!=h){switch(h){case"y":l=this.MakeFixed(d-100*parseInt(d/100),2);break;case"m":l=this.MakeFixed(c,2);break;case"d":l=this.MakeFixed(u,2);break;case"H":l=this.MakeFixed(p,2);break;case"h":l=this.MakeFixed(p>12?p-12:p,2);break;case"M":l=this.MakeFixed(f,2);break;case"s":l=this.MakeFixed(g,2);break;case"t":l=p>=12?"pm":"am"}v+=2}else if(i[v+1]==h&&i[v+2]==h&&i[v+3]!=h)switch(h){case"m":v+=3,l+=n[c-1];break;default:v+=3,l+=h,l+=h,l+=h}else if(i[v+1]==h&&i[v+2]==h&&i[v+3]==h&&i[v+4]!=h)switch(h){case"y":l=d,v+=4;break;case"m":v+=4,l+=a[c-1];break;default:v+=4,l+=h,l+=h,l+=h,l+=h}else v++,l+=h;break;default:v++,l+=h}s+=l}return s},e.GetDate=function(e,t,i){t=(t=(t=t.replace("MM","ii")).replace("M","i")).toLowerCase();for(var o=new Date(e),r=new Date,s=r.getFullYear(),l=r.getMonth(),d=r.getDate(),c=0,u=0;u<t.length&&c<e.length;){switch(t[u]){case"y":for(var p="";"0"<=e[c]&&e[c]<="9";)p+=e[c],c++;for(;"y"==t[u];)u++;switch(p.length){case 2:p="20"+p}s=parseInt(p);break;case"m":var f="";if("A"<=e[c]&&e[c]<="Z")for(;c<e.length&&e[c].match(/[a-zA-Z]/);)f+=e[c],c++;else for(;"0"<=e[c]&&e[c]<="9";)f+=e[c],c++;for(;"m"==t[u];)u++;switch(f.length){case 1:case 2:l=parseInt(f)-1;break;case 3:l=n.indexOf(f);break;case 4:l=a.indexOf(f)}break;case"d":for(var g="";"0"<=e[c]&&e[c]<="9";)g+=e[c],c++;for(;"d"==t[u];)u++;d=parseInt(g);break;case"i":for(var v="";"0"<=e[c]&&e[c]<="9";)v+=e[c],c++;for(;"i"==t[u];)u++;r.setMinutes(parseInt(v));break;case"h":for(var h="";"0"<=e[c]&&e[c]<="9";)h+=e[c],c++;for(;"h"==t[u];)u++;r.setHours(parseInt(h));break;case"s":for(var m="";"0"<=e[c]&&e[c]<="9";)m+=e[c],c++;for(;"s"==t[u];)u++;r.setSeconds(parseInt(m));break;case"t":for(var _="";e[c]&&e[c].match(/[AaPpMm]/);)_+=e[c],c++;for(;"t"==t[u];)u++;if("pm"==_.toLowerCase()){var b=r.getHours();b<12&&(b+=12),r.setHours(b)}else{12==r.getHours()&&r.setHours(0)}break;default:c++,u++}}1==l&&29==d&&s%4!=0&&(s&=4294967292),r.setFullYear(s),r.setMonth(l),r.setDate(d);var y=new Date;return Math.abs(o.getFullYear()-y.getFullYear())<Math.abs(r.getFullYear()-y.getFullYear)||Math.abs(o.getMonth()-y.getMonth())<Math.abs(r.getMonth()-y.getMonth)||Math.abs(o.getDate()-y.getDate())<Math.abs(r.getDate()-y.getDate)?o:r},e.getMonth=function(e,t){switch(t){case"m":return e;case"F":return a[e];case"M":return n[e]}},e.switchFormat=function(e,t){return"toLib"==t?e.replace("yyyy","Y").replace("yy","y").replace("dd","d").replace("HH","H").replace("hh","h").replace("MM","i").replace("M","i").replace("mmmm","F").replace("mmm","M").replace("mm","m").replace("ss","S").replace("tt","K"):e.replace("Y","yyyy").replace("y","yy").replace("d","dd").replace("H","HH").replace("h","hh").replace("i","MM").replace("F","mmmm").replace("M","mmm").replace("m","mm").replace("S","ss").replace("K","tt")},e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(i(38)),a=(o(i(8)),o(i(5)),i(3));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var d=function(e){function t(i,n,o,l,d,c){if(r(this,t),0==arguments.length){var u=s(this,e.call(this,a.Action_Type.javaScript));return s(u)}return(u=s(this,e.call(this,i,n,o,l,d,c))).info.script&&(u.info.javascript=u.info.script),s(u)}return l(t,e),t.prototype.getScript=function(){return this.info.javascript},t.prototype.checkOutData=function(e){return e&&e.javascript},t.prototype.setScript=function(e){var t=this;return this.doc?this.doc.api.setActionScript(this.doc.getId(),this.info.objNumber,e).then((function(e){return t.updateAction(e),e})):(this.info.javascript=e,Promise.resolve())},t.prototype.exportToJson=function(){var t=e.prototype.exportToJson.call(this);return Object.assign(t,{script:this.getScript()})},t}(n.default);t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i(8)),a=r(i(5)),o=r(i(9));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){s(this,e),this.init.apply(this,arguments)}return e.prototype.init=function(){if(1==arguments.length)this.info={type:arguments[0]};else{var e=Array.prototype.slice.call(arguments),t=e[0],i=e[1],n=e[2],a=(e[3],e[4]),o=e[5];this.info=t,this.factory=i,this.doc=n,this.host=o,this.eventEmitter=a}this.initSubAction()},e.prototype.checkInserted=function(){if(!this.doc.api)throw new Error("Please insert this action to a host first.")},e.prototype.initSubAction=function(){var e=this;this.subAction=[],this.info.subAction&&this.info.subAction.forEach((function(t){e.subAction.push(e.factory.createAction(t,e.doc,e.doc.api,e.eventEmitter,e.host))}))},e.prototype.appendSubAction=function(e){this.subAction.push(e),this.info.subAction=this.info.subAction||[],this.info.subAction.push(e.info)},e.prototype.getType=function(){return this.info.type},e.prototype.getSubActionCount=function(){return this.info.subAction.length||0},e.prototype.getSubAction=function(e){return this.subAction[e]},e.prototype.insertSubAction=function(t,i){var n=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");return t=Math.max(0,Math.min(t,this.getSubActionCount())),i instanceof e&&(i=i.getType()),this.doc.api.insertSubAction(this.doc.getId(),this.info.objNumber,t,i).then((function(e){return n.updateAction(e),e}))},e.prototype.setSubAction=function(t,i){var n=this;if(this.checkInserted(),"number"!=typeof t)throw new Error("param error. Only number is available.");var a=this.getSubActionCount();if(0===a)throw new Error("Cannot be set without sub action.");return t=Math.max(0,Math.min(t,a-1)),i instanceof e&&(i=i.getType()),this.doc.api.setSubAction(this.doc.getId(),this.info.objNumber,t,i).then((function(e){return n.updateAction(e),e}))},e.prototype.removeAllSubActions=function(){var e=this;if(this.doc.api)return this.doc.api.removeAllSubActions(this.doc.getId(),this.info.objNumber).then((function(t){e.updateAction(t)}))},e.prototype.removeSubAction=function(e){var t=this;if(this.doc.api){if("number"!=typeof e)throw new Error("param error. Only number is available.");var i=this.getSubActionCount();if(0===i)throw new Error("Cannot be remove without sub action.");return e=Math.max(0,Math.min(e,i-1)),this.doc.api.removeSubAction(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))}},e.prototype.setActionData=function(e){var t=this;return this.doc.api.setActionData(this.doc.getId(),this.info.objNumber,e).then((function(e){t.updateAction(e)}))},e.prototype.updateAction=function(e){Object.assign(this.info,e),this.initSubAction(),this.host&&(this.eventEmitter.emit(a.default.actionUpdated,this.host),this.host instanceof n.default&&this.eventEmitter.emit(a.default.annotationUpdated,[this.host],this.host.getPDFPage(),o.default.actionDataUpdated))},e.prototype.checkOutData=function(e){return!0},e.prototype.exportToJson=function(){return{type:this.getType()}},e}();t.default=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MARKED:"marked",UNMARKED:"unmarked",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled",COMPLETED:"completed",DEFERRED:"deferred",FUTURE:"future",NONE:"none"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,i){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};if(/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(TZ)/.test(t)){var a=-parseInt(e.getTimezoneOffset()/60);a=a>9?"+"+a:"+0"+a,a+=i+"00"+i,t=t.replace("TZ",a)}for(var o in n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNameEncode=t.xfdfJsonToAddJson=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=i(4),o=i(3);function r(e){return{unknowntype:"UnKnownType",text:"Text",link:"Link",freetext:"FreeText",line:"Line",square:"Square",circle:"Circle",polygon:"Polygon",polyline:"PolyLine",highlight:"Highlight",underline:"Underline",squiggly:"Squiggly",strikeout:"StrikeOut",stamp:"Stamp",caret:"Caret",ink:"Ink",psink:"PsInk",fileattachment:"FileAttachment",sound:"Sound",movie:"Movie",widget:"Widget",screen:"Screen",printermark:"PrinterMark",trapnet:"TrapNet",watermark:"Watermark","3d":"3D",popup:"Popup",redact:"Redact"}[e.toString().toLowerCase()]}var s="WRRRRRRRRWWRWWRRRRRRRRRRRRRRRRRRWRRRRDRRDDRNRNNDNNNNNNNNNNRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRRRRRRRRRRRRRRRRRRRRRRRRRRRRDRDRRWRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRW";function l(e){var t=e.length,i=0,n=void 0;for(n=0;n<t;n++){var a=e.charCodeAt(n);a>=128||"W"==s[a]||"#"==e[n]||"D"==s[a]?i+=3:i++}if(i==t)return e;var o="";for(n=0;n<t;n++){var r=e.charCodeAt(n);if(r>=128||"W"==s[r]||"#"==e[n]||"D"==s[r]){if("W"==s[r]&&0==r)continue;o+="#",o+="0123456789ABCDEF"[parseInt(r/16)],o+="0123456789ABCDEF"[r%16]}else o+=e[n]}return o}function d(e){var t=void 0;for(t=0;t<e.length&&!(e.charCodeAt(t)>255);t++);if(t===e.length)return"("+e.replace(/([\(|\)])/g,"\\$1")+")";var i="<FEFF";for(t=0;t<e.length;t++){for(var n=e.charCodeAt(t).toString(16);n.length<4;)n="0"+n;i+=n}return i+">"}function c(e){for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));return new Uint8Array(t)}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.JSONToFDF=function(t){for(var i={next:2,annotRef:[],file:"%FDF-1.2\n1 0 obj<</FDF<</Annots[{annotsRefArray}]>>/Type/Catalog>>endobj\n"},n=[],a=0,o=t.length;a<o;a++){var r=t[a];r.type&&(r.deleted?n.push({name:r.name,page:r.page}):e.singleAnnotJSONToFDF(i,r,!1))}return new Blob([c(i.file.replace(/\{annotsRefArray\}/,i.annotRef.join(" "))+"trailer\n<</Root 1 0 R>>\n%%EOF")],{type:"application/fdf"})},e.singleAnnotJSONToFDF=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0,s=t.next;if(n?o="Popup":n="popup"==(o=r(i&&i.type&&i.type.toLowerCase()||"")).toLowerCase(),!o||"link"==o.toLowerCase()||"screen"==o.toLowerCase()||"sound"==o.toLowerCase())return 0;var c=i.style||"S";c=c.toUpperCase()[0];var u=i.width,f=i.color||"",v="C"==c?"C":"S",h=i.intensity,m=0===i.opacity?0:i.opacity||1,_=d(i.contents||""),b=i.flags||"print",y=b.split(",");for(var F in b=0,a.AnnotFlagsName)-1!=y.indexOf(a.AnnotFlagsName[F])&&(b|=1<<parseInt(F));var C=i.creationdate,w=i.date,T=i.name||"",x=i.page,A=(i.rect||"").replace(/,/g," "),D=d(i.subject||"subject"),E=d(i.title||"title"),S=i["interior-color"]||i.interiorColor,R=s+" 0 obj\n<</Rect ["+A+"]/Subtype /"+o+"/NM ("+T+")";for(var k in i.customEntries)R+="/"+k+" "+d(i.customEntries[k])+"\n";if(t.annotRef.push(s+" 0 R "),t.next++,!n){if(R+="/M ("+w+")/CA "+m+"/Contents "+_+"/CreationDate ("+C+")/F "+b+"/Page "+x+"/Subj "+D+"/T "+E+"/Type /Annot",i.replyType){var P=void 0;R+="/RT /"+((P="string"==typeof i.replyType&&i.replyType||"Group")[0].toUpperCase()+P.substr(1))}i.inreplyto&&(R+="/IRT ("+i.inreplyto+")")}if(c||u){c=c||"S",u=u||"0",h=h||"0",v=v||"S";var $=(i.dashes||"").replace(/,/g," ");R+="/BS <</S /"+c+" /W "+u+" /D ["+$+"]>>/BE <</S /"+v+" /I "+h+">>"}"FreeText"!=o?(f&&(R+="/C "+g(f)),S&&(R+="/IC "+g(S))):(S&&(R+="/C "+g(S)),f&&(R+="/IC "+g(f),R+="/DS (color:"+i.fontColor+")")),void 0!==i.rotation&&(R+="/Rotate "+i.rotation);var I="";switch(o){case"Text":case"Note":R=R.replace(/\/Subtype\s?\/Note/,"/Subtype /Text"),i.icon&&(R+="/Name/"+l(i.icon));var O=void 0;(O=i.state)&&(R+="/State("+O+")/StateModel("+i.statemodel+")");break;case"Link":return"";case"FreeText":R=R.replace(/\/C\s?\[[\s\S]*?\]/,""),S&&(R+="/C "+g(S));var N=i.defaultappearance,L=i.justification,M=i.intent||i.IT,U="/DA ("+N+")/Q "+L;if(M&&(U+="/IT /"+M),i.callout){var B=i.callout.replace(/,/g," ");U+="/CL  ["+B+"]",U+="/LE/"+i.head}if(i.fringe){var H=i.fringe.replace(/,/g," ");U+="/RD ["+H+"]"}I=U;break;case"Line":var V="yes"===i.caption,j=i.head,W=i.tail,z="[/"+j+"/"+W+"]",G=i.leaderLength,Y=i.start.replace(/,/g," "),q=i.end.replace(/,/g," "),K=Y+" "+q,X=i.leaderExtend,J=i.leaderOffset,Q=i.captionOffset?i.captionOffset.x+" "+i.captionOffset.y:"",Z=i.intent,ee="/Cap "+V+"/LE "+z+"/LL "+G+"/L ["+K+"]/LLE "+X+"/LLO "+J;Q&&(ee+="/CO ["+Q+"]"),Z&&(ee+="/IT /"+Z),I=ee;break;case"Square":case"Circle":var te=i.intent,ie=i.fringe.replace(/,/g," "),ne="/RD ["+ie+"]";te&&(ne+="/IT /"+te),i.measureRatio&&i.measureUnit&&void 0!==i.measureConversionFactor&&(ne+="/Measure<</R("+i.measureRatio+")/X[<</C "+i.measureConversionFactor+"/U("+i.measureUnit+")>>]/Type/Measure/Subtype/RL>>"),I=ne;break;case"Polygon":case"PolyLine":var ae=i.vertices.replace(/[,|;]/g," "),oe=i.intent,re="/Vertices ["+ae+"]";if(oe&&(re+="/IT /"+oe),"PolygonDimension"===oe&&i.measureRatio&&i.measureUnit&&void 0!==i.measureConversionFactor&&(re+="/Measure<</R("+i.measureRatio+")/X[<</C "+i.measureConversionFactor+"/U("+i.measureUnit+")>>]/Type/Measure/Subtype/RL>>"),"PolyLine"==o){var se=i.head,le=i.tail,de="[/"+se+"/"+le+"]";re+="/LE "+de}I=re;break;case"Redact":if(I+="/OC "+g(f),"Redact"==o){I+="/OverlayText"+d(i["overlay-text"]||i.overlaText||"");var ce=i.defaultappearance;I+="/DA ("+ce+")",I+="/Q "+(i.justification||0)}case"StrikeOut":case"Highlight":case"Squiggly":case"Underline":if(i.coords){var ue=i.coords.replace(/,/g," ");I+="/QuadPoints ["+ue+"]"}break;case"Caret":var pe=i.fringe.replace(/,/g," "),fe="/RD ["+pe+"]";I=fe;break;case"Stamp":if(i.icon&&(I="/Name/"+l(i.icon)),i.raw&&i.raw.N){var ge=p(t,i.raw,i.raw.N);I+="/AP<</N "+ge+" 0 R>>\n"}break;case"Ink":if("["===i.inklist[0]){var ve=i.inklist.substr(1,i.inklist.length-2).split("],["),he="";ve.map((function(e){he+="["+e.replace(/[,|;]/g," ")+"]"}));var me="/InkList ["+he+"]";I=me}else I="/InkList [["+i.inklist.replace(/[,|;]/g," ")+"]]";break;case"Popup":I="/Open "+("yes"==i.open?"true":"false");break;case"Sound":var _e=p(t,i,{Filter:"/ASCIIHexDecode",R:i.rate,Type:"/Sound",stream:i.soundStream});I+="/Sound "+_e+" 0 R";case"FileAttachment":if(i.icon&&(I+="/Name/"+l(i.icon)),i.raw){var be=p(t,i.raw,i.raw.FS);I+="/FS "+be+" 0 R "}}if(i.popup){var ye=e.singleAnnotJSONToFDF(t,i.popup,!0);I+="/Popup "+ye+" 0 R"}return t.file+=R+I+">>\nendobj\n",s},e}(),p=function(e,t,i){var n=e.next;e.next++;var a="";if(a+=n+" 0 obj\n","string"==typeof i)a+=i;else if(i instanceof Array)a+="["+i.map((function(i){return f(e,t,i)})).join(" ")+"]";else{a+="<<\n";for(var o in i)"stream"!=o&&(a+="/"+o+" "+f(e,t,i[o]));if(a+=">>",i.stream){for(var r="",s=0;s<i.stream.length;s+=2){var l=parseInt(i.stream[s],16),d=parseInt(i.stream[s+1],16);r+=String.fromCharCode((l<<4)+d)}a+="stream\n"+r+"\nendstream"}}return a+="\nendobj\n",e.file+=a,n},f=function e(t,i,a){if(null===a)return"null";var o=void 0===a?"undefined":n(a);if("number"==o)return a;if("string"==o){if("/"==a[0])return"/"+l(a.replace("/",""));if("<"==a[0])return a;var r;return(r=a.match(/^(\d*)R$/))?p(t,i,i[r[1]])+" 0 R":"("+a+")"}if("boolean"==o)return a?"true":"false";if(a instanceof Array)return"["+a.map((function(n){return e(t,i,n)})).join(" ")+"]";var s="<<";for(var d in a)s+="/"+d+" "+e(t,i,a[d]);return s+">>"},g=function(e){var t=e.match(/\#?(\w{2})(\w{2})(\w{2})/),i=parseInt(t[1],16)/255,n=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255;return"["+i.toFixed(2)+" "+n.toFixed(2)+" "+a.toFixed(2)+"]"},v=function(e){for(var t in a.LineEndingName)if(a.LineEndingName[t]==e)return+t;return 0};t.default=u,t.xfdfJsonToAddJson=function(e){var t={type:e.type,opacity:e.opacity,name:e.name,contents:e.contents,subject:e.subject,title:e.title,icon:e.icon,intent:e.intent||e.IT,DA:e.defaultappearance,alignment:e.justification,enableCaption:"yes"==e.caption},i=e.fontColor;i&&(t.fontColor=parseInt(i.replace("#",""),16));var n=void 0;(n=e.color)&&(t.color=parseInt(n.replace("#",""),16));var r=e["interior-color"]||e.interiorColor;r&&(t.styleFillColor=t.fillColor=parseInt(r.replace("#",""),16));var s=e.flags||"print",l=s.split(",");for(var d in s=0,a.AnnotFlagsName)-1!=l.indexOf(a.AnnotFlagsName[d])&&(s|=1<<parseInt(d));t.flag=s;var c=(e.rect||"").split(",");c.length&&(t.rect={left:+c[0],top:+c[3],right:+c[2],bottom:+c[1]});var u=(e.fringe||"").split(",");4===u.length&&(t.innerRect={left:t.rect.left+ +u[0],top:t.rect.top-+u[3],right:t.rect.right-+u[2],bottom:t.rect.bottom+ +u[1]});var p=e.coords;if(p){p=p.split(","),t.coords=[];for(var f=0,g=p.length;f<g;f+=8){var h=Math.min(+p[0],+p[2],+p[4],+p[6]),m=Math.max(+p[0],+p[2],+p[4],+p[6]),_=Math.max(+p[1],+p[3],+p[5],+p[7]),b=Math.min(+p[1],+p[3],+p[5],+p[7]);t.coords.push({left:h,right:m,top:_,bottom:b})}}var y=e.callout;if(y){y=y.split(","),t.calloutLinePoints=[];for(var F=0,C=y.length;F<C;F+=2)t.calloutLinePoints.push({x:+y[F],y:+y[F+1]})}var w=e.head;w&&(t.startStyle=v(w));var T=e.tail;T&&(t.endStyle=v(T));var x=e.vertices;if(x){t.vertexes=[],x=x.split(";");for(var A=0;A<x.length;A++){var D=x[A].split(",");t.vertexes.push({x:+D[0],y:+D[1]})}}var E=e.inklist;if(E){t.inkList=[],E=JSON.parse("["+E.replace(/;/g,",")+"]");for(var S=0;S<E.length;S++)for(var R=E[S],k=0;k<R.length;k+=2){var P=R[k],$=0==k?1:2;t.inkList.push({x:P,y:R[k+1],type:$})}}var I=o.Border_Style[e.style||"solid"];t.borderInfo={style:I,width:e.width||1};var O=e.dashes;O&&(t.borderInfo.dashes=JSON.parse("["+O+"]"));var N=e.intensity;N&&(t.borderInfo.cloudIntensity=N);var L=e.start;L&&(L=L.split(","),t.startPoint={x:+L[0],y:+L[1]});var M=e.end;return M&&(M=M.split(","),t.endPoint={x:+M[0],y:+M[1]}),t},t.PDFNameEncode=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.T=function(){return!0},t.F=function(){return!1},t.identity=function(e){return e},t.prop=function(e,t){return t[e]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,i,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=t,this.bottom=i,this.right=n,this.top=a}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={print:4,modify:8,extract:16,annotForm:32,fillForm:256,extractAccess:512,assemble:1024,printHigh:2048}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={invisible:1,hidden:2,print:4,noZoom:8,noRotate:16,noView:32,readOnly:64,locked:128,toggleNoView:256,lockedContents:512}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),a=i(1);i(10);var o=UIExtension.vendors.jQuery,r=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dialog=t,this.PDFUI=i,this.addon=n,this.$validateRadio=o("[name=validateRadio]",this.$dialog),this.$editFrom=o("[name=editFrom]",this.$dialog),this.$editTo=o("[name=editTo]",this.$dialog),this.$textScript=o("[name=textScript]",this.$dialog),this.$btnEditScript=o("[name=btnEditScript]",this.$dialog),this.$child1=o("[name=validate-child-1]",this.$dialog),this.$child2=o("[name=validate-child-2]",this.$dialog),this.$child3=o("[name=validate-child-3]",this.$dialog)}return e.prototype.setAnnot=function(e){this.annot=e,this.initTab()},e.prototype.initTab=function(){this.$editFrom.attr("disabled",!0),this.$editFrom.val(""),this.$editTo.attr("disabled",!0),this.$editTo.val(""),this.$textScript.attr("disabled",!0),this.$textScript.val(""),this.$btnEditScript.attr("disabled",!0),this.$btnEditScript.off("click"),this.$validateRadio.filter("[value=0]").prop("checked",!0),this.$validateRadio.filter("[value=1]").attr("disabled",!0),this.$child2.addClass("disabled"),this.$child3.addClass("disabled"),this.$child1.addClass("disabled");var e,t=this.annot.getField(),i=void 0,o=t.getAction(n.Action_Trigger.format);if(o&&"TypeJavaScript"==o.info.type&&(i=o.info.javascript),1!=(e=i?a.CFD_Utils.GetFormatStringType(i):0)&&2!=e||(this.$validateRadio.filter("[value=1]").attr("disabled",!1),this.$child1.removeClass("disabled")),(o=t.getAction(n.Action_Trigger.validate))&&"TypeJavaScript"==o.info.type){var r=o.info.javascript;if(r&&""!=r)if(-1!=r.indexOf("AFRange_Validate")){var s=a.CFD_Utils.GetRangeValues(r),l=(s.bFrom,s.bTo,s.csiFrom),d=s.csiTo;this.$editFrom.val(l),this.$editFrom.attr("disabled",!1),this.$editTo.val(d),this.$editTo.attr("disabled",!1),this.$child2.removeClass("disabled"),this.$child1.removeClass("disabled"),this.$validateRadio.filter("[value=1]").prop("checked",!0)}else this.$child3.removeClass("disabled"),this.$validateRadio.filter("[value=2]").prop("checked",!0),this.$btnEditScript.attr("disabled",!1),this.editScriptEvent&&this.$btnEditScript.on("click",this.editScriptEvent),this.$textScript.val(r);else this.$validateRadio.filter("[value=0]").prop("checked",!0)}else this.$validateRadio.filter("[value=0]").prop("checked",!0)},e.prototype.resetTab=function(){},e.prototype.isNumber=function(e){return!(!/^-?[0-9]+\.([0-9]+)$/.test(e)&&!/^-?([0-9]+)\.?$/.test(e))},e.prototype.onSetRange=function(){var e=this.$editFrom.val();e=e.trim();var t=this.$editTo.val();if(t=t.trim(),""!=e||""!=t)if(""!=e&&""!=t){var i=void 0,o=void 0,r=this.annot.getField(),s=r.getAction(n.Action_Trigger.validate);if(s&&"TypeJavaScript"==s.info.type){var l=s.info.javascript;if(-1!=l.indexOf("AFRange_Validate")){var d=a.CFD_Utils.GetRangeValues(l),c=(d.bFrom,d.bTo,d.csiFrom),u=d.csiTo;i=Number(c),o=Number(u)}}if(!this.isNumber(e))return this.$editFrom.val(i||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});if(!this.isNumber(t))return this.$editTo.val(e||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});if(Number(e)>Number(t))return this.$editFrom.val(i||"0.0"),this.$editTo.val(o||"0.0"),void this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"});var p="AFRange_Validate(true,"+e+",true,"+t+")";r.setAction(n.Action_Trigger.validate,p)}else{var f=""==e?t:e;this.isNumber(f)||(this.PDFUI.alert({message:"dialog.error.validateRange",level:"error"}),""==e?this.$editTo.val("0.0"):this.$editFrom.val("0.0"))}},e.prototype.onEvent=function(){var e=this;this.$dialog;this.$editFrom.on("blur",(function(t){return e.onSetRange()})),this.$editTo.on("blur",(function(t){return e.onSetRange()})),this.$validateRadio.on("change",(function(t){var i=o(t.target).val();switch(e.$editFrom.attr("disabled",!0),e.$editTo.attr("disabled",!0),e.$textScript.attr("disabled",!0),e.$btnEditScript.attr("disabled",!0),e.$btnEditScript.off("click"),e.$child2.addClass("disabled"),e.$child3.addClass("disabled"),Number(i)){case 0:break;case 1:e.$child2.removeClass("disabled"),e.$child1.removeClass("disabled"),e.$editFrom.attr("disabled",!1),e.$editTo.attr("disabled",!1);break;case 2:e.$child3.removeClass("disabled"),e.$btnEditScript.attr("disabled",!1),e.editScriptEvent&&e.$btnEditScript.on("click",e.editScriptEvent)}e.$editFrom.val(""),e.$editTo.val(""),e.$textScript.val("");var a=e.annot.getField();a.getAction(n.Action_Trigger.validate)&&a.removeAction(n.Action_Trigger.validate)})),this.editScriptEvent=function(t){e.formatJSDlg||(e.formatJSDlg=e.addon.getDialog("JSInput"));var i=e.annot.getField(),a=i.getAction(n.Action_Trigger.validate);e.formatJSDlg.show(a&&a.getScript(),(function(t){t&&""!=t&&(i.setAction(n.Action_Trigger.validate,t).then((function(){e.PDFUI.eventEmitter.emit(PDFViewCtrl.ViewerEvents.annotationAppearanceUpdated,[e.annot],e.annot.getPDFPage())})),e.$textScript.val(t))}))},this.$btnEditScript.on("click",this.editScriptEvent)},e.prototype.active=function(){this.initTab()},e.prototype.show=function(){},e.prototype.offEvent=function(){this.$validateRadio.off("change"),this.$editFrom.off("blur"),this.$editTo.off("blur"),this.$btnEditScript.off("click")},e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(i(48)),o=r(i(49));function r(e){return e&&e.__esModule?e:{default:e}}var s=UIExtension.vendors.jQuery,l=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dialog=t,this.pdfUI=i,i.pdfViewerPromise.then((function(e){n.pdfViewer=e})),this.$layout=s("select[name=layout]",this.$dialog),this.$advanced=s(".fv__ui-dialog-button[name=advanced]",this.$dialog),this.$behavior=s("select[name=behavior]",this.$dialog),this.$stateLabel=s("input[name=stateLabel]",this.$dialog),this.$statePosition=s(".state-position",this.$dialog),this.$iconImg=s(".icon-img",this.$dialog),this.$chooseIcon=s(".fv__ui-dialog-button[name=chooseIcon]",this.$dialog),this.$clearIcon=s(".fv__ui-dialog-button[name=clearIcon]",this.$dialog),this.$chooseIconFile=s("#chooseIconFile",this.$dialog),this.$advancedDialog=s(".fv__advanced-dialog",this.$dialog),this.$advancedDialogClose=s(".fv__icon-layer-close",this.$advancedDialog),this.$scaleType=s("select[name=scaleType]",this.$advancedDialog),this.$scale=s("select[name=scale]",this.$advancedDialog),this.$checkFit=s("input[name=fit]",this.$advancedDialog),this.$checkFit=s("input[name=fit]",this.$advancedDialog),this.$icon=s(".icon",this.$advancedDialog),this.$sliderX=s(".slider-x",this.$advancedDialog),this.$sliderY=s(".slider-y",this.$advancedDialog),this.$fraction=s(".fraction",this.$advancedDialog),this.$reset=s(".reset-button",this.$advancedDialog),this.$confirm=s(".confirm-button",this.$advancedDialog),this.$cancel=s(".cancel-button",this.$advancedDialog)}return e.prototype.setAnnot=function(e){this.annot=e,this.isOpened()&&this.show()},e.prototype.onEvent=function(){var e=this;this.$layout.on("change",(function(t){var i=s(t.target).val();e.setOptionProperty({layout:i}),e.annot.setWidgetIconCaptionRelation(i)})),this.$advanced.on("click",(function(t){s(t.target).hasClass("disabled")||e.annot.getWidgetIconFitOption().then((function(t){e.setAdvancedProperty({scale_way_type:t.scale_way_type,is_proportional_scaling:t.is_proportional_scaling,fit_bounds:t.fit_bounds,horizontal_fraction:t.horizontal_fraction,vertical_fraction:t.vertical_fraction}),e.$advancedDialog.show()}))})),this.$behavior.on("change",(function(t){var i=s(t.target).val();e.setOptionProperty({behavior:i}),e.annot.setWidgetHighlighting(i)})),this.$statePosition.on("change",(function(t){var i=s(t.target).val().pop();e.setOptionProperty({statePosition:i})})),this.$stateLabel.on("blur",(function(t){var i=s(t.target).val(),n=e.$statePosition.val()[0],a=e.$stateLabel.data("labelIcon");a[n].label=i,e.$stateLabel.data("labelIcon",a),e.annot.setWidgetMkCaption(n,i)})),this.$chooseIconFile.on("change",(function(t){var i=t.target.files[0];if(i){var n=e.pdfViewer.resourceGenerator(a.default.PDF_DOCUMENT_CLOSING,o.default.OBJECT_URL).expose().URL.createObjectURL(i),r=new FileReader;r.readAsArrayBuffer(i),r.onload=function(t){var i=r.result,a=e.$statePosition.val()[0];e.annot.setWidgetMkIcon(a,i).then((function(){var t=e.$stateLabel.data("labelIcon");t[a].icon=n,e.$stateLabel.data("labelIcon",t),e.$iconImg.attr("src",n),e.$clearIcon.removeClass("disabled")}))}}})),this.$chooseIcon.on("click",(function(t){e.$chooseIconFile.val(""),s(t.target).hasClass("disabled")&&t.preventDefault()})),this.$clearIcon.on("click",(function(t){if(!s(t.target).hasClass("disabled")){var i=e.$statePosition.val()[0],n=e.$stateLabel.data("labelIcon");n[i].icon="",e.$stateLabel.data("labelIcon",n),e.$iconImg.attr("src",""),e.annot.setWidgetMkIcon(i,null),s(t.target).addClass("disabled"),e.$chooseIconFile.val("")}})),this.$advancedDialogClose.on("click",(function(t){e.$advancedDialog.hide()})),this.$scaleType.on("change",(function(t){var i=s(t.target).val();e.setAdvancedProperty({scale_way_type:i})})),this.$scale.on("change",(function(t){var i=s(t.target).val();e.setAdvancedProperty({is_proportional_scaling:i})})),this.$checkFit.on("change",(function(t){var i=s(t.target).prop("checked");e.setAdvancedProperty({fit_bounds:i})})),this.$sliderX.on("input",(function(t){var i=s(t.target).val();e.setAdvancedProperty({horizontal_fraction:i})})),this.$sliderY.on("input",(function(t){var i=s(t.target).val();e.setAdvancedProperty({vertical_fraction:i})})),this.$reset.on("click",(function(t){e.setAdvancedProperty({horizontal_fraction:50,vertical_fraction:50})})),this.$confirm.on("click",(function(t){e.annot.setWidgetIconFitOption({scale_way_type:e.$scaleType.val(),is_proportional_scaling:e.$scale.val(),fit_bounds:e.$checkFit.prop("checked"),horizontal_fraction:e.$sliderX.val(),vertical_fraction:e.$sliderY.val()}).then((function(t){e.$advancedDialog.hide()}))})),this.$cancel.on("click",(function(t){e.$advancedDialog.hide()}))},e.prototype.show=function(){var e=this;this.$advancedDialog.hide(),this.annot.getWidgetMkOption().then((function(t){e.$stateLabel.data("labelIcon",t.labelIcon),e.setOptionProperty({layout:t.layout,behavior:t.behavior})}))},e.prototype.offEvent=function(){this.$layout.off("change"),this.$behavior.off("change"),this.$advanced.off("click"),this.$statePosition.off("change"),this.$stateLabel.off("blur"),this.$chooseIcon.off("click"),this.$clearIcon.off("click"),this.$chooseIconFile.off("change")},e.prototype.setOptionProperty=function(e){if(e.hasOwnProperty("layout")){var t=e.layout;this.$layout.val(t),"e_MKRelationNoIcon"===t?(this.$advanced.addClass("disabled"),this.$chooseIcon.addClass("disabled"),this.$iconImg.attr("src","")):"e_MKRelationNoIcon"!==t&&(this.$advanced.removeClass("disabled"),this.$chooseIcon.removeClass("disabled")),"e_MKRelationNoCaption"===t?this.$stateLabel.attr("disabled",!0).val(""):"e_MKRelationNoCaption"!==t&&this.$stateLabel.removeAttr("disabled")}if(e.hasOwnProperty("behavior")){var i=e.behavior;this.$behavior.val(i),"e_HighlightingPush"===i?this.$statePosition.find("option").show():(this.$statePosition.find("option").hide(),this.$statePosition.find('option[value="up"]').show());var a=this.$statePosition.val();this.setOptionProperty({statePosition:a[0]||"up"})}if(e.hasOwnProperty("statePosition")){var o=e.statePosition;this.$statePosition.val([o]);var r=this.$stateLabel.data("labelIcon")[o],s=r.icon;if(this.$stateLabel.val(r.label),"object"===(void 0===s?"undefined":n(s))){var l=document.createElement("canvas");l.width=s.width,l.height=s.height;var d=l.getContext("2d"),c=new(Uint8ClampedArray||Uint8Array)(s.buffer),u=d.createImageData(s.width,s.height);u.data.set(c),d.putImageData(u,0,0),s=l.toDataURL()}this.$iconImg.attr("src",s),s?this.$clearIcon.removeClass("disabled"):this.$clearIcon.addClass("disabled")}},e.prototype.setAdvancedProperty=function(e){if(e.hasOwnProperty("scale_way_type")){var t=e.scale_way_type;this.$scaleType.val(t),this.$scale.attr("disabled","e_ScaleWayNever"===t);var i="false"===this.$scale.val()&&"e_ScaleWayAlways"===t;this.$checkFit.attr("disabled",i),this.$sliderX.attr("disabled",i),this.$sliderY.attr("disabled",i)}if(e.hasOwnProperty("is_proportional_scaling")){var n=e.is_proportional_scaling;this.$scale.val(n);var a="false"===n&&"e_ScaleWayAlways"===this.$scaleType.val();this.$checkFit.attr("disabled",a),this.$sliderX.attr("disabled",a),this.$sliderY.attr("disabled",a)}if(e.hasOwnProperty("fit_bounds")){var o=e.fit_bounds;this.$checkFit.prop("checked",o)}if(e.hasOwnProperty("horizontal_fraction")){var r=e.horizontal_fraction;this.$sliderX.val(r),this.$fraction.text("("+r+","+this.$sliderY.val()+")");var s=(this.$icon.parent().width()-this.$icon.outerWidth())*r/100;this.$icon.css("left",s+"px")}if(e.hasOwnProperty("vertical_fraction")){var l=e.vertical_fraction;this.$sliderY.val(l),this.$fraction.text("("+this.$sliderX.val()+","+l+")");var d=(this.$icon.parent().height()-this.$icon.outerHeight())*l/100;this.$icon.css("bottom",d+"px")}},e.prototype.isOpened=function(){return this.$dialog.is(":visible")},e}();t.default=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PDF_VIEWER_ALIVE:"PDF-VIEWER-ALIVE",PDF_DOCUMENT_CLOSING:"PDF-DOCUMENT-CLOSING",BROWSER_RELOAD:"BROWSER-RELOAD"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={OBJECT_URL:"object-url-creation"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(11);var a=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dialog=t,this.pdfUI=i,i.pdfViewerPromise.then((function(e){n.pdfViewer=e}))}return e.prototype.setAnnot=function(e){this.annot=e,this.isOpened()&&this.show()},e.prototype.onEvent=function(){var e=this,t=this.$dialog;t.find("select[name=buttonStyle]").on("change",(function(t){var i=t.target.value;e.annot.setMKProperty("normalCaption",i).then((function(){e.annot.updateUI({type:"normalCaption",value:i})}))})),t.find("input[name=exportValue]").on("blur",(function(i){var n=i.target.value;n.trim()||(n="Yes");var a=e.annot.getField();e.annot.getField().setExportValue(e.annot.info.control,n).then((function(e){t.find("input[name=radioButtonsValue]").checked&&a.setValue(n).then((function(e){return a.setDefaultValue(n)}))}))})),t.find("input[name=selectedByDefault]").on("change",(function(t){var i=e.annot.getField(),n=t.target.checked?i.getExportValues()[0]:"Off";setTimeout((function(){i.setValue(n,e.annot).then((function(e){return i.setDefaultValue(n)}))}),100)})),t.find("input[name=radioButtonsValue]").on("change",(function(t){var i=t.target.checked;e.annot.getField().setInUnison(i,e.annot)}))},e.prototype.show=function(){if(2!=this.annot.getType()&&3!=this.annot.getType()){var e=this.annot.getControl().getWidget(),t=e.getMKProperty("normalCaption"),i=e.getControl().info.exportValue,a=this.annot.getField().getDefaultValue(),o=this.annot.getField().getFlags();this.$dialog.find("select[name=buttonStyle]")[0].value=""==t?"l":t,this.$dialog.find("input[name=exportValue]")[0].value=i,this.$dialog.find("input[name=selectedByDefault]")[0].checked="Off"!=a,this.$dialog.find("input[name=radioButtonsValue]")[0].checked=n.FieldFlag.inUnison(o)}},e.prototype.offEvent=function(){var e=this.$dialog;(!this.annot||2!=this.annot.getType()&&3!=this.annot.getType())&&(e.find("input:radio").off("change"),e.find("select[name=buttonStyle]").off("change"),e.find("input[name=exportValue]").off("blur"),e.find("input[name=selectedByDefault]").off("change"),e.find("input[name=radioButtonsValue]").off("change"))},e.prototype.isOpened=function(){return this.$dialog.is(":visible")},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(52);var n=PDFViewCtrl.shared.getUnitByName,a=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dialog=t,this.pdfUI=i,i.pdfViewerPromise.then((function(e){n.pdfViewer=e}))}return e.formatNum=function(e,t){return null==t&&(t=2),isNaN(e)?0:Number(parseFloat(e).toFixed(t))},e.getRadioButtonBoundary=function(e){var t=Object.assign({},e);return t.width=e.right-e.left,t.height=e.top-e.bottom,t},e.transformUnit=function(t,i){var a=0;if("pica"==t){var o=n("pt"),r=n("pica").convertTo(i,o),s=e.formatNum(r%12);a=parseInt(r/12)+"p"+s}else a=i;return a},e.reTransformUnit=function(e,t){return"pica"!==e?t:1==(t+="").split("p").length?t.split("p")[0]:t.split("p")[1]},e.validatePosition=function(t,i,a,o,r){var s={},l=e.transformUnit,d=e.formatNum,c=n("pt"),u=n(r),p="pt"!==r?c.convertTo(t.getWidth(),u):t.getWidth(),f="pt"!==r?c.convertTo(t.getHeight(),u):t.getHeight();switch(a){case"left":s.error=i>=0&&i<=o.right,s.info="the value must be between 0 and "+l(r,d(o.right));break;case"right":s.error=i>=o.left&&i<=p,s.info="the value must be between "+l(r,d(o.left))+" and "+l(r,d(p));break;case"top":s.error=i>=o.bottom&&i<=f,s.info="the value must be between "+l(r,d(o.bottom))+" and "+l(r,d(f));break;case"bottom":s.error=i>=0&&i<=o.top,s.info="the value must be between 0 and "+l(r,d(o.top));break;case"width":s.error=i>=0&&i<=p-o.left,s.info="the value must be between 0 and "+l(r,d(p-o.left));break;case"height":s.error=i>=0&&i<=f-o.bottom,s.info="the value must be between 0 and "+l(r,d(f-o.bottom))}return s},e.prototype.showTip=function(e,t){var i=document.createElement("div");i.classList.add("errorTip"),i.innerHTML=e,document.body.appendChild(i);var n=setTimeout((function(){document.getElementsByClassName("errorTip")[0].remove(),clearTimeout(n)}),t)},e.prototype.setAnnot=function(e){this.annot=e,this.lastRect=e.getRect(),this.isOpened()&&this.show()},e.prototype.onEvent=function(){var t=this,i=this.$dialog,a=i.find("select[name=units]"),o=i.find(".inputContainer").find("input"),r="pt",s={},l=n("pt"),d=n(r);this.$dialog.find("input[name=lockWidthHeight]").on("change",(function(e){var i=e.target.checked;t.locked=i,localStorage.setItem("lockWidthHeightFlag",i),t.$dialog.find(".inputContainer").find(".positionWidth,.positionHeight").attr("disabled",i)})),a.on("change",(function(i){t.lastRect=e.getRadioButtonBoundary(t.annot.getRect()),s=t.lastRect,r=i.target.value,d=n("picas"==r?"pica":r),"pt"==r?s=Object.assign({},s,t.lastRect):Object.keys(t.lastRect).map((function(e){s[e]=l.convertTo(t.lastRect[e],d)})),s.width=s.right-s.left,s.height=s.top-s.bottom,t.resetPosition(o,s,r)})),o.on("change",(function(i){var n=t.pdfViewer.getPDFPageRender(t.annot.getPage().getIndex()).annotsRender.getAnnotRender(t.annot.getId()),a=i.target||i.srcElement,c={},u=e.validatePosition(t.annot.getPage(),e.reTransformUnit(r,a.value),a.name,s,r);if(!u.error)return a.value=e.transformUnit(r,e.formatNum(s[a.name])),void t.showTip(u.info,2e3);n.rotate;var p=e.formatNum(e.reTransformUnit(r,a.value))-s[a.name];"width"==a.name?s.right=s.left+e.formatNum(e.reTransformUnit(r,a.value)):"height"==a.name&&(s.top=s.bottom+e.formatNum(e.reTransformUnit(r,a.value))),t.locked?s=t.keepBoundayNoChange(a.name,p,s):s[a.name]=e.formatNum(e.reTransformUnit(r,a.value)),"pt"==r?c=s:Object.keys(s).map((function(e){c[e]=d.convertTo(s[e],l)})),t.resetPosition(o,s,r),c.left==c.right&&(c.right+=.01),c.bottom==c.top&&(c.top+=.01),t.annot.getField().setRect(c),t.annot.setRect(c).then((function(){t.pdfUI.callAddonAPI("FormDesignerUIXAddon","activeWidget",{id:t.annot.getId(),pageIndex:t.annot.getPage().getIndex()})}))}))},e.prototype.resetPosition=function(t,i,n){i.width=e.formatNum(i.right-i.left),i.height=e.formatNum(i.top-i.bottom),t.each((function(t,a){var o=isNaN(i[a.name])?0:e.formatNum(i[a.name]);"pica"==n&&(o=e.transformUnit(n,i[a.name])),a.value=o,a.parentNode.setAttribute("text-content-after","pica"==n?"":n)}))},e.prototype.show=function(){this.annot;this.$dialog.find("select[name=units]").trigger("change"),this.$dialog.find("input[name=lockWidthHeight]")[0].checked=!1;var e=localStorage.getItem("lockWidthHeightFlag");e=null!=e&&"false"!=e,this.$dialog.find("input[name=lockWidthHeight]")[0].checked=e,this.$dialog.find(".inputContainer").find(".positionWidth,.positionHeight").attr("disabled",e)},e.prototype.offEvent=function(){var e=this.$dialog;e.find("select[name=units]").off("change"),e.find(".inputContainer").find("input").off("change")},e.prototype.keepBoundayNoChange=function(t,i,n){var a=Object.assign({},n);return"left"==t||"right"==t?(a.left=n.left+i,a.right=n.right+i):"bottom"!=t&&"top"!=t||(a.bottom=n.bottom+i,a.top=n.top+i),this.$dialog.find(".inputContainer").find("input").each((function(i,n){"width"!=n.name&&"height"!=n.name&&n.name!=t&&(n.value=""+e.formatNum(a[n.name]))})),a},e.prototype.isOpened=function(){return this.$dialog.is(":visible")},e}();t.default=a},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=i(54),o=i(7),r=(n=o)&&n.__esModule?n:{default:n};var s=UIExtension.vendors.jQuery,l=PDFViewCtrl.PDF.form.constant.Field_Flag,d=(PDFViewCtrl.PDF.form.constant.Field_Type,PDFViewCtrl.PDF.annots.constant.Annot_Flags,PDFViewCtrl.ViewerEvents,PDFViewCtrl.PDF.constant.AnnotUpdatedType,function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$dialog=t.$dialog,this.pdfUI=i,this.$addItemBtn=s("[name=addItemBtn]",this.$dialog),this.$deleteItemBtn=s("[name=deleteItemBtn]",this.$dialog),this.$upItemBtn=s("[name=upItemBtn]",this.$dialog),this.$downItemBtn=s("[name=downItemBtn]",this.$dialog),this.$itemLabel=s("[name=itemLabel]",this.$dialog),this.$itemValue=s("[name=itemValue]",this.$dialog),this.$items=s("[name=items]",this.$dialog),this.$allowUserEnter=s("[name=allowUserEnter]",this.$dialog),this.$multiSelect=s("[name=multiSelect]",this.$dialog)}return e.prototype.setAnnot=function(e){this.annot=e},e.prototype.setValue=function(){var e=this.annot.getField(),t=e.getFlags();this.optionsReRender();var i=e.getOptions()||[];this.$addItemBtn.toggleClass("disabled",!0),this.$deleteItemBtn.toggleClass("disabled",!i.length),this.$allowUserEnter.prop("checked",!!l.isComboEdit(t)),this.$multiSelect.prop("checked",!!l.isChoiceMultiSelect(t))},e.prototype.onEvent=function(){var e=this;this.$addItemBtn.on("click",(function(t){s(t.target).hasClass("disabled")||(e.$itemLabel.focus(),e.pdfUI.getPDFViewer().then((function(i){var n=e.$itemLabel.val().trim(),a=e.$itemValue.val().trim(),o=i.getPDFDocRender().formRender,l=e.annot.getField(),d=l.getValue()||"",c=l.getAction(r.default.FieldWillFormat);if(0==n.length&&0==a.length||!c)o.setValue(e.annot,n).then((function(i){e.modifyOptions("add",n,a),s(t.target).addClass("disabled"),e.$deleteItemBtn.removeClass("disabled")}));else{var u=void 0,p=!1;0!=a.length&&(u=o.execAction("Field",c,null,l,r.default.FieldWillFormat,{value:a})),(!u||u&&u.rc)&&0!=n.length&&(p=!0,u=o.execAction("Field",c,null,l,r.default.FieldWillFormat,{value:n})),u&&u.rc?(p=!1,o.setValue(e.annot,n).then((function(i){e.modifyOptions("add",n,a),s(t.target).addClass("disabled"),e.$deleteItemBtn.removeClass("disabled")}))):(p&&l.showDisplayValue(""),e.$itemLabel.val(d),e.$itemValue.val(d))}})))})),this.$deleteItemBtn.on("click",(function(t){s(t.target).hasClass("disabled")||e.modifyOptions("delete")})),this.$upItemBtn.on("click",(function(t){s(t.target).hasClass("disabled")||e.modifyOptions("up")})),this.$downItemBtn.on("click",(function(t){s(t.target).hasClass("disabled")||e.modifyOptions("down")})),this.$itemValue.on("blur",(function(t){e.modifyOptions("modify-value")})),this.$itemLabel.on("keyup",(function(t){var i=s(t.target).val().trim(),n=e.annot.getField().getOptions()||[],a=e.$itemValue.val().trim();!!n.find((function(e){return e.value===a}))&&e.$itemValue.val("");var o=!!n.find((function(e){return e.label===i})),r=""===i||o;e.$addItemBtn.toggleClass("disabled",r)})),this.$items.on("change",(function(t){var i=s(t.target).val();i&&i.length>1&&s(t.target).val([i.slice(-1)]),e.modifyOptions("selected-change")})),this.$allowUserEnter.on("change",(function(t){var i=s(t.target).prop("checked");e.annot.getField().setComboEdit(i)})),this.$multiSelect.on("change",(function(t){var i=s(t.target).prop("checked");e.annot.getField().setChoiceMultiSelect(i)}))},e.prototype.offEvent=function(){},e.prototype.optionsReRender=function(){var e=this.annot.getField().getOptions()||[],t=[],i=void 0,n=void 0;e.forEach((function(e,o){t.push('<option value="'+e.value+'">'+(0,a.html2Escape)(e.label)+"</option>"),void 0===i&&void 0===n&&e.selected&&(i=o,n=e)})),this.$items.html(t.join("")),void 0!==i&&this.$items.find("option").eq(i).prop("selected",!0),this.$itemLabel.val(n?n.label:""),this.$itemValue.val(n?n.value:""),this.$upItemBtn.toggleClass("disabled",void 0===i||0===i),this.$downItemBtn.toggleClass("disabled",void 0===i||i===e.length-1)},e.prototype.modifyOptions=function(e,t,i){var n=this.annot.getField(),a=n.getOptions()||[],o=void 0===t?this.$itemLabel.val().trim():t,r=void 0===i?this.$itemValue.val().trim():i,s=this.$items.find("option:selected").index();if("add"===e)(a=a.map((function(e){return{label:e.label,value:e.value,selected:!1,defaultSelected:!1}}))).push({label:o,value:r||o,selected:!0,defaultSelected:!0});else if("delete"===e)a.splice(s,1),a.length&&(a[0].selected=!0,a[0].defaultSelected=!0);else if("modify-value"===e){if(!r||!a.find((function(e){return e.label===o})))return;a[s].value=r}else if("up"===e){var l=[a[s-1],a[s]];a[s]=l[0],a[s-1]=l[1]}else if("down"===e){var d=[a[s+1],a[s]];a[s]=d[0],a[s+1]=d[1]}else if("selected-change"===e){var c=a[s];this.$itemLabel.val(c.label),this.$itemValue.val(c.value),this.$upItemBtn.toggleClass("disabled",0===s),this.$downItemBtn.toggleClass("disabled",s===a.length-1),a=a.map((function(e,t){return{label:e.label,value:e.value,selected:t===s,defaultSelected:t===s}}))}(a=a.map((function(e){return[e.label,e.value,e.selected,e.defaultSelected]}))).length?n.setItems(a):(n.clearItems(),this.$deleteItemBtn.addClass("disabled")),this.optionsReRender()},e}());t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.html2Escape=function(e){return e.toString().replace(/[<>&"]/g,(function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(6),a=r(i(7)),o=r(i(1));function r(e){return e&&e.__esModule?e:{default:e}}var s=UIExtension.vendors.jQuery,l=PDFViewCtrl.PDF.form.constant.Field_Flag,d=(PDFViewCtrl.PDF.form.constant.Field_Type,PDFViewCtrl.PDF.annots.constant.Annot_Flags,PDFViewCtrl.PDF.constant.AnnotUpdatedType),c=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=t,this.$dialog=t.$dialog,this.pdfUI=i,this.$alignment=s("[name=alignment]",this.$dialog),this.$defaultValue=s("[name=defaultValue]",this.$dialog),this.$scrollLongText=s("input[name=scrollLongText]",this.$dialog),this.$richText=s("input[name=richText]",this.$dialog),this.$textLimit=s("input[name=textLimit]",this.$dialog),this.$maxLengthTextLimit=s("input[name=maxLengthTextLimit]",this.$dialog),this.$textPassword=s("input[name=textPassword]",this.$dialog),this.$fileSelect=s("input[name=fileSelect]",this.$dialog),this.$checkSpell=s("input[name=checkSpell]",this.$dialog),this.$textComb=s("input[name=textComb]",this.$dialog),this.$maxLengthTextComb=s("input[name=maxLengthTextComb]",this.$dialog),this.$multiLine=s("input[name=multiLine]",this.$dialog),this.$lineSpace=s("select[name=lineSpace]",this.$dialog),this.$lineSpaceExactlyValue=s("[name=lineSpaceExactlyValue]",this.$dialog),this.pdfUI.addViewerEventListener(o.default.fieldFontSizeChanged,(function(e){n.noScrollLongTextAdjustHandler()}))}return e.prototype.setAnnot=function(e){this.annot=e},e.prototype.active=function(){this.annot&&this.$alignment.val(this.annot.getField().getAlignment()||0)},e.prototype.setValue=function(){var e=this.annot.getField(),t=e.getFlags();this.$alignment.val(e.getAlignment()||0),this.$defaultValue.val(e.getDefaultValue()||""),this.$scrollLongText.prop("checked",!l.isNoScroll(t)),this.$textPassword.prop("checked",!!l.isPassword(t)),this.$checkSpell.prop("checked",!l.isNoSpellCheck(t));var i=!!l.isComb(t),n=e.getMaxLength(),a=!i&&n>0;this.$textLimit.prop("checked",a),this.$maxLengthTextLimit.prop("disabled",!a).val(a&&n||0),this.$textComb.prop("checked",i),this.$maxLengthTextComb.prop("disabled",!i).val(i&&n||0);var o=!!l.isMultiline(t),r=this.annot.getLineSpace()||[];this.$multiLine.prop("checked",o),this.$lineSpace.prop("disabled",!o).val(o?2!==r.length?"auto":[r[0],0].join(","):"auto"),this.$lineSpaceExactlyValue.val(r[1]||"0.0").parent().toggle("3,0"===[r[0],0].join(",")),this.disabledCheckBoxHandler()},e.prototype.onEvent=function(){var e=this;this.$alignment.on("change",(function(t){e.annot.getField().setAlignment(s(t.target).val()).then((function(){e.main.emitAnnotUpdateEvent(d.alignmentUpdated,!0)}))})),this.$defaultValue.on("blur",(function(t){var i=s(t.target).val().trim(),o=e.annot.getField(),r=o.getValue()||"",l=o.getAction(a.default.FieldWillFormat);if(0!=i.length&&l)return new Promise((function(e){return setTimeout(e,0)})).then((function(){return e.pdfUI.getPDFDocRender()})).then((function(d){if(d.getFormRender().execAction("Field",l,null,o,a.default.FieldWillFormat,{value:i}).rc){var c=e.$dialog.find("select[name=category]");if(e.$useRedText=e.$dialog.find("[name=useRedText]"),e.$useRedText.prop("checked")&&"number"==c.val()){var u=parseInt(i)>0?"#000":"#FF0000",p=(0,n.colorConvertor)(u,"int");e.annot.setDefaultAppearance({textColor:p}).then((function(){e.annot.updateUI({value:p,type:"textColor"})}))}o.setDefaultValue(""===i?void 0:i);var f=o.getDefaultValue()||"";r&&r===f||o.setValue(i).then((function(){o.form.calculate(),e.noScrollLongTextAdjustHandler()}))}else s(t.target).val(r)}));o.setDefaultValue(""===i?void 0:i);var d=o.getDefaultValue()||"";r&&r===d||o.setValue(i).then((function(){o.form.calculate(),e.noScrollLongTextAdjustHandler()}))})),this.$scrollLongText.on("change",(function(t){var i=s(t.target).prop("checked");e.annot.getField().setNoScroll(!i),e.main.emitAnnotUpdateEvent(d.flagsUpdated,!0),e.disabledCheckBoxHandler(),e.noScrollLongTextAdjustHandler()})),this.$richText.on("change",(function(t){e.disabledCheckBoxHandler()})),this.$textPassword.on("change",(function(t){e.annot.getField().setPassword(s(t.target).prop("checked")),e.main.emitAnnotUpdateEvent(d.flagsUpdated,!0),e.disabledCheckBoxHandler()})),this.$fileSelect.on("change",(function(t){e.disabledCheckBoxHandler()})),this.$checkSpell.on("change",(function(t){var i=s(t.target).prop("checked");e.annot.getField().setNoSpellCheck(!i),e.main.emitAnnotUpdateEvent(d.flagsUpdated,!0),e.disabledCheckBoxHandler()})),this.$textLimit.on("change",(function(t){var i=s(t.target).prop("checked"),n=e.annot.getField(),a=String(n.getValue()).length||10;n.setMaxLength(i?a:void 0),e.$maxLengthTextLimit.prop("disabled",!i).val(i?a:1),e.disabledCheckBoxHandler()})),this.$textComb.on("change",(function(t){var i=s(t.target).prop("checked"),n=e.annot.getField();n.setComb(i);var a=String(n.getValue()).length||10;n.setMaxLength(i?a:void 0),e.$maxLengthTextComb.prop("disabled",!i).val(i?a:1),e.main.emitAnnotUpdateEvent(d.flagsUpdated,!0),e.disabledCheckBoxHandler()})),this.$maxLengthTextLimit.add(this.$maxLengthTextComb).on("blur",(function(t){var i=Math.floor(s(t.target).val().trim()),n=e.annot.getField();if(i>0){n.setMaxLength(i),s(t.target).val(i);var a=String(n.getValue());i<a.length&&n.setValue(a.substr(0,i))}else s(t.target).val(n.getMaxLength()||10)})),this.$multiLine.on("change",(function(t){var i=s(t.target).prop("checked");e.annot.getField().setMultiline(i),e.annot.setLineSpace(void 0).then((function(){return e.annot.updateUI({type:"lineSpace",value:void 0})})),e.$lineSpace.prop("disabled",!i).val("auto"),e.$lineSpaceExactlyValue.val("0.0").parent().hide(),e.disabledCheckBoxHandler()})),this.$lineSpace.on("change",(function(t){var i=s(t.target).val(),n=i.split(","),a="auto"===i?void 0:[Number(n[0]),Number(n[1])];e.annot.setLineSpace(a).then((function(){return e.annot.updateUI({type:"lineSpace",value:a})})),e.$lineSpaceExactlyValue.val("0.0").parent().toggle("3,0"===i)})),this.$lineSpaceExactlyValue.on("blur",(function(t){var i=Number(s(t.target).val().trim());if(i>=0){var n=[3,i];e.annot.setLineSpace(n).then((function(){return e.annot.updateUI({type:"lineSpace",value:n})})),s(t.target).val(i)}else s(t.target).val((e.annot.getLineSpace()||[])[1])}))},e.prototype.offEvent=function(){},e.prototype.disabledCheckBoxHandler=function(){var e=this,t=[this.$scrollLongText,this.$richText,this.$textLimit,this.$textPassword,this.$fileSelect,this.$checkSpell,this.$textComb,this.$multiLine],i=[];t.forEach((function(t){!function(t){t.prop("checked")&&(e.$scrollLongText.is(t)?i.push(e.$textComb):e.$richText.is(t)?i.push(e.$textPassword,e.$fileSelect,e.$textComb):e.$textLimit.is(t)?i.push(e.$fileSelect,e.$textComb):e.$textPassword.is(t)?i.push(e.$richText,e.$fileSelect,e.$checkSpell,e.$textComb,e.$multiLine):e.$fileSelect.is(t)?i.push(e.$scrollLongText,e.$richText,e.$textLimit,e.$textPassword,e.$checkSpell,e.$textComb,e.$multiLine):e.$checkSpell.is(t)?i.push(e.$textPassword,e.$fileSelect,e.$textComb):e.$textComb.is(t)?i.push(e.$scrollLongText,e.$richText,e.$textLimit,e.$textPassword,e.$fileSelect,e.$checkSpell,e.$multiLine):e.$multiLine.is(t)&&i.push(e.$textPassword,e.$fileSelect,e.$textComb))}(t),t.prop("disabled",!1)})),i.forEach((function(e){return e.prop("disabled",!0)}))},e.prototype.noScrollLongTextAdjustHandler=function(){var e=this,t=this.annot.getField();l.isNoScroll(t.getFlags())&&0!==this.annot.getDAFontSize()&&this.pdfUI.getPDFViewer().then((function(i){var n=i.getAnnotRender(e.annot.getPDFPage().getIndex(),e.annot.getId()).component;if(n)for(;;){var a=n.$textInput[0],o=a.scrollWidth,r=a.clientWidth,s=a.scrollHeight,l=a.clientHeight,d=n.$textInput.val();if(n.$textInput.is("textarea")){if(!(s>l)){t.setValue(d);break}n.$textInput.val(d.substr(0,d.length-1))}else{if(!(o>r)){t.setValue(d);break}n.$textInput.val(d.substr(0,d.length-1))}}}))},e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(57);UIExtension.vendors.jQuery;var n=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$dialog=t,this.pdfUI=i,this.addon=n,this.$dialog=t}return e.prototype.setAnnot=function(e){var t=this;this.annot=e;var i=this.annot.getAdditionalAction(7),n="";i&&i.getScript&&(n=i.getScript());var a=this.$dialog.find("input[name=selectAction]").eq(i?1:0);setTimeout((function(){t.$dialog.find("#keyStrokeJS").val(n),a[0].checked=!0}),10),this.$dialog.find(".btn-edit").prop("disabled",!i)},e.prototype.onEvent=function(){var e=this,t=this.$dialog;t.find(".btn-edit").bind("click",(function(t){var i=e.addon.getDialog("JSInput"),n=e.$dialog.find("#keyStrokeJS"),a=e.annot.getAdditionalAction(7),o="";a&&"TypeJavaScript"===a.getType()?o=a.getScript():a=null,i.show(o,(function(t){if(!t||0==t.length)return n.val(""),void(a&&e.annot.removeAction(7,a));a?a.setScript(t):((a=new PDFViewCtrl.PDF.actions.JavaScriptAction).setScript(t),e.annot.getField().setAction(7,a)),n.val(t)}))})),t.find("input[name=selectAction]").on("change",(function(t){var i=e.$dialog.find("#keyStrokeJS"),n=e.$dialog.find(".btn-edit");switch(t.target.value){case"no":e.annot.removeAction(7),i.val(""),n.prop("disabled",!0);break;case"customJS":i.val(""),n.prop("disabled",!1)}}))},e.prototype.show=function(){},e.prototype.offEvent=function(){this.$dialog.find(".btn-edit").off("click"),this.$dialog.find("input[name=selectAction]").off("change")},e}();t.default=n},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=i(59),r=(n=o)&&n.__esModule?n:{default:n};i(60);var s=UIExtension.vendors.jQuery,l={13:"form-designer:dialog.actionTab.mouseDown",14:"form-designer:dialog.actionTab.mouseUp","-1":"form-designer:dialog.actionTab.click",11:"form-designer:dialog.actionTab.mouseEnter",12:"form-designer:dialog.actionTab.mouseExit",15:"form-designer:dialog.actionTab.focus",16:"form-designer:dialog.actionTab.blur"},d={TypeGoto:"ui_:dialog.actionDialog.selectAction.goto",TypeLaunch:"ui_:dialog.actionDialog.selectAction.file",TypeURI:"ui_:dialog.actionDialog.selectAction.webLink",TypeSubmitForm:"ui_:dialog.actionDialog.selectAction.submit",TypeResetForm:"ui_:dialog.actionDialog.selectAction.reset",TypeJavaScript:"ui_:dialog.actionDialog.selectAction.run",TypeImportData:"ui_:dialog.actionDialog.selectAction.import",TypeHide:"ui_:dialog.actionDialog.selectAction.field"},c=PDFViewCtrl.PDF.actions,u=c.HideAction,p=c.SubmitFormAction,f=c.ResetFormAction,g=c.JavaScriptAction,v=(c.LaunchAction,c.ImportDataAction,PDFViewCtrl.PDF.common.FileSpec,function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t.find(".fv__action_tab"),this.pdfUI=i,this.addon=n}return e.prototype.setAnnot=function(e){this.annot=e,this.buildActionsDom(e)},e.prototype.onEvent=function(){var e=this;this.$element.on("click",".fv_action-info-toggler",(function(e){e.target.classList.toggle("fv__minusonly_pc"),e.target.classList.toggle("fv__plugonly_pc"),e.stopPropagation()})),this.$element.on("click",".fv_action-category",(function(t){e.$element.find(".active").removeClass("active"),t.target.classList.add("active"),t.stopPropagation(),e.$element.find(".fv__action_buttons>div").addClass("disabled"),e.$element.find(".fv__action-delete").removeClass("disabled")})),this.$element.on("click",".fv_action-entry",(function(t){e.$element.find(".active").removeClass("active"),t.target.classList.add("active"),t.stopPropagation(),e.$element.find(".fv__action-down,.fv__action-up").addClass("disabled");var i=".fv__action-delete,.fv__action-edit,";i+=0==s(t.target).closest(".fv_action-body").index()?".fv__action-down":".fv__action-up",e.$element.find(i).removeClass("disabled")})),this.$element.find("#actionAddButton").on("click",(function(t){var i=s("[name=actionTrigger]",e.$element).val(),n=s("[name=actionType]",e.$element).val();e.showActionDialog(t,n,""._,(function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&e.setAction(i,t)}))})),this.$element.find("#editAction").on("click",(function(t){var i=e.$element.find(".fv_action-entry.active").closest("li");if(i.length){var n=i.attr("trigger"),o=i.attr("object"),r=m(null,e.annot.getAdditionalAction(n),o),s=a(r,2),l=(s[0],s[1]);e.showActionDialog(t,l.getType(),l,(function(t){l.setActionData(t.info).then((function(t){var n=void 0;switch(l.getType()){case"TypeGoto":var a=l.getDestination();n=a.pageIndex+1,i.find(".zoom").html(h(e.pdfUI,a));break;case"TypeLaunch":n=l.getFileSpec().getFileName();break;case"TypeURI":n=l.getURI();break;case"TypeImportData":n=l.getFileSpec().getFileName();break;case"TypeHide":n=l.getFieldNames().join(", ");var o=l.getHideState()?"form-designer:dialog.actionTab.fields":"form-designer:dialog.actionTab.showFields";i.find(".label").text(e.pdfUI.i18n.t(o))}i.find(".actionData").html(n)}))}))}})),this.$element.find("#deleteAction").on("click",(function(t){var i=e.$element.find(".fv__action_list .active");if(i.length){if(i.hasClass("fv_action-category"))e.annot.removeAction(i.attr("trigger")),i.parent().remove();else{var n=(i=i.closest("li")).attr("trigger"),o=i.attr("object"),r=m(null,e.annot.getAdditionalAction(n),o),s=a(r,2),l=s[0],d=s[1];e.annot.removeAction(n,l,d).then((function(t){e.buildActionsDom(e.annot)}))}e.$element.find(".fv__action-delete,.fv__action-edit").addClass("disabled")}}))},e.prototype.showActionDialog=function(e,t,i,n){var a=this,o=this.pdfUI;switch(t){case"TypeGoto":case"TypeURI":case"TypeLaunch":case"TypeImportData":var r=o.activeActionsDialog;o.formDesignDialog.hide(),r.setCallback((function(e){e&&n(e),o.formDesignDialog.show(),r.setCallback()})),r.showFixedType(e,t,i);break;case"TypeJavaScript":var s=i?i.getScript():"";this.addon.getDialog("JSInput").show(s,(function(e){var t=new g;t.setScript(e),n(t,e.length)}));break;case"TypeResetForm":this.pdfUI.getCurrentPDFDoc().then((function(e){var t=[],o=e.getPDFForm().fieldsNameMap;for(var r in o){var s=o[r];1!=s.getType()&&7!=s.getType()&&t.push(r)}var l=[];i&&((l=i.getFieldNames()).length||(l=t)),a.addon.getDialog("PickField").show({type:0,params:[t,l]},(function(e){if(e){var t=new f;t.setFieldNames(e),n(t)}}))}));break;case"TypeSubmitForm":this.pdfUI.getCurrentPDFDoc().then((function(e){var t=[],o=e.getPDFForm().fieldsNameMap;for(var r in o){var s=o[r];1!=s.getType()&&7!=s.getType()&&t.push(r)}var l=t;i&&((l=i.getFieldNames()).length||(l=t));var d=void 0;if(i){var c=i.getFlags(),u="fdf";4&c&&(u="html"),32&c&&(u="xfdf"),256&c&&(u="pdf");var f=i.getURL(),g="local";switch(f?f.substr(0,3):"htt"){case"ftp":g="ftp";break;case"htt":g="http";break;case"mai":g="email"}d={annot:128&c,format:u,method:g,url:f}}a.addon.getDialog("PickField").show({type:2,params:[t,l,d]},(function(e){if(e){var t=e.submitAnnots,i=e.address,a=e.fields,o=0;switch(t&&(o=128),e.fileFormat){case"html":o+=4;break;case"xfdf":o+=32;break;case"pdf":o+=256}var r=new p;r.setData(o,i,a),n(r)}}))}));break;case"TypeHide":this.pdfUI.getCurrentPDFDoc().then((function(e){var t=Object.keys(e.getPDFForm().fieldsNameMap),o=i?i.getFieldNames():[],r=!i||!i.getHideState();a.addon.getDialog("PickField").show({type:1,params:[t,o,r]},(function(e,t){if(t){var i=new u;i.setFieldNames(t),i.setHideState(e),n(i)}}))}))}},e.prototype.show=function(){},e.prototype.offEvent=function(){this.$element.off("click",".fv_action-info-toggler"),this.$element.off("click",".fv_action-category"),this.$element.off("click",".fv_action-entry"),this.$element.find("#actionAddButton,#editAction,#deleteAction").off("click")},e.prototype.setAction=function(e,t){var i=this;this.annot.setAction(e,t,!0).then((function(e){i.buildActionsDom(i.annot)}))},e.prototype.buildActionsDom=function(e){var t=this.$element.find(".fv__action_list");t.empty(),this.$element.find("#deleteAction,#editAction").addClass("disabled");var i="";for(var n in l){var a=void 0;(a="-1"==n?e.getAction(n):e.getAdditionalAction(n))&&(i+='<div><div class="fv_action-info-toggler fv__tree-icon fv__minusonly_pc"></div><div class="fv_action-category" data-i18n="'+l[n]+'" trigger='+n+" >"+this.pdfUI.i18n.t(l[n])+'</div><ul class="fv__subaction_list">',i+=this.buildActionDom(a,n),i+="</ul></div>")}t.append(i)},e.prototype.buildActionDom=function(e,t){var i=e.getType(),n={},a=!0,o=void 0,s=void 0;switch(i){case"TypeGoto":var l=e.getDestination();n.i18n="form-designer:dialog.actionTab.page",n.text=this.pdfUI.i18n.t(n.i18n),n.data=l.pageIndex+1;var c=n.factor="form-designer:dialog.actionTab.zoom";n.factorValue=h(this.pdfUI,l),n.factorText=this.pdfUI.i18n.t(c);break;case"TypeLaunch":s=(o=e.getFileSpec())&&o.getFileName(),n.i18n="ui_:stamp.dialog.file",n.data=s||"";break;case"TypeURI":n.i18n="ui_:toolbar.tooltip.link.title",n.data=e.getURI();break;case"TypeImportData":s=(o=e.getFileSpec())&&o.getFileName(),n.i18n="ui_:stamp.dialog.file",n.data=s||"";break;case"TypeHide":n.i18n=e.getHideState()?"form-designer:dialog.actionTab.fields":"form-designer:dialog.actionTab.showFields",n.data=e.getFieldNames().join(", ");break;default:a=!1}n.i18n?n.text=this.pdfUI.i18n.t(n.i18n):n=""._;for(var u=(0,r.default)({hasToggler:a,i18n:d[i],text:this.pdfUI.i18n.t(d[i]),trigger:t,object:e.info.objNumber,actionData:n}),p=0,f=e.getSubActionCount();p<f;p++){var g=e.getSubAction(p);u+=this.buildActionDom(g,t)}return u},e}());function h(e,t){var i=t.zoomFactor;if(0==t.zoomFactor)switch(i="contextmenu.page.fitVisible",t.zoomMode){case"ZoomFitBHorz":break;case"ZoomFitPage":i="contextmenu.page.fitPage";break;case"ZoomFitHorz":i="contextmenu.page.fitWidth"}else i="form-designer:dialog.format.custom";return i=e.i18n.t(i)}t.default=v;var m=function e(t,i,n){if(i.info.objNumber==+n)return[t,i];for(var a=0,o=i.getSubActionCount();a<o;a++){var r=i.getSubAction(a),s=e(i,r,n);if(s)return s}}},function(e,t,i){var n=i(0);e.exports=function(e){"use strict";e=e||{};var t="",i=n.$escape,a=e.trigger,o=e.object,r=e.hasToggler,s=e.i18n,l=e.text,d=e.actionData;return t+='<li class="fv_action-body" trigger="',t+=i(a),t+='" object="',t+=i(o),t+='">\r\n<div class="fv_action-info-toggler fv__tree-icon fv__minusonly_pc" style="',t+=i(r?"":"opacity:0"),t+='"></div>\r\n<div class="fv_action-entry" data-i18n="',t+=i(s),t+='">',t+=i(l),t+="</div>\r\n",d&&(t+='\r\n    <div class="fv_action-data">\r\n        <span data-i18n=\'',t+=i(d.i18n),t+='\' class="label">',t+=i(d.text),t+='</span>\r\n        <span class="actionData">',t+=i(d.data),t+="</span>\r\n",d.factor&&(t+="\r\n        <div>\r\n            <span data-i18n='",t+=i(d.factor),t+='\' class="label">',t+=i(d.factorText),t+='</span>\r\n            <span class="zoom">',t+=i(d.factorValue),t+="</span>\r\n        </div>\r\n"),t+="\r\n    </div>\r\n"),t+="\r\n </li>"}},function(e,t,i){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_Constants=__webpack_require__(3);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}__webpack_require__(10);var $=UIExtension.vendors.jQuery,getParam=function(e,t){return[e,t]},parseSimpleNotation=function e(t){var i="",n=t.length;if(0==n)return"";for(var a=0,o="";n>a;){var r=t[a];switch(r){case"[":case"]":case"(":case")":case"{":case"}":case":":case";":case"<":case">":case"?":case"=":case"|":case"&":case"!":case"~":case"^":case"%":case"*":case"/":case"+":case"-":return 0==o.length?(a++,(i+=r)+e(t=t.substr(a))):(isNaN(o)?(o.trim(),o.length>0&&(i+='AFMakeNumber(getField("'+o+'").value)')):i=o,o="",t=t.substr(a),a++,i+e(t));default:a++,o+=r}}return isNaN(o)?(o.trim(),o.length>0&&(i+='AFMakeNumber(getField("'+o+'").value)')):i=o,o="",i},JavaScriptAction=PDFViewCtrl.PDF.actions.JavaScriptAction,CalculateTab=function(){function CalculateTab(e,t,i){_classCallCheck(this,CalculateTab),this.$dialog=e,this.pdfUI=t,this.addon=i,this.$calculateRadio=$("[name=calculateRadio]",this.$dialog),this.$pickBtn=e.find("#pickFields"),this.$editNotations=e.find("#editNotations"),this.$editCustomScript=e.find("#editCustomScript"),this.$child2=$("[name=calculate-child-2]",this.$dialog),this.$child3=$("[name=calculate-child-3]",this.$dialog),this.$child4=$("[name=calculate-child-4]",this.$dialog)}return CalculateTab.prototype.setAnnot=function setAnnot(annot){var _this=this;this.annot=annot;var action=annot.getAdditionalAction(10),$dialog=this.$dialog;if($dialog.find(".fv__calculate-tab .fv__ui-dialog-cancel-button").addClass("disabled"),$dialog.find(".fv__calculate-tab textarea").val(""),this.$child2.addClass("disabled"),this.$child3.addClass("disabled"),this.$child4.addClass("disabled"),this.$pickBtn.addClass("disabled"),this.$editNotations.addClass("disabled"),this.$editCustomScript.addClass("disabled"),$dialog.find("#simpleOp").attr("disabled","disabled"),action&&action.getScript){var js=action.getScript();if(-1!=js.indexOf("BVCALC")){var notation=js.match(/BVCALC([\s\S]+?)EVCALC/)[1].trim();$dialog.find("#notations").val(notation),setTimeout((function(){_this.$child3.removeClass("disabled"),_this.$editNotations.removeClass("disabled"),$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find("#notationInput")[0].checked=!0}),20),$dialog.find(".fv__calculate-tab #notations + div").removeClass("disabled")}else if(-1!=js.indexOf("AFSimple_Calculate")){var params=eval(js.replace("AFSimple_Calculate","getParam"));$dialog.find(".fv__calculate-tab #simpleFields + div").removeClass("disabled"),setTimeout((function(){_this.$child2.removeClass("disabled"),_this.$pickBtn.removeClass("disabled"),$dialog.find("#simpleCalc")[0].checked=!0}),20),$dialog.find("#simpleOp").val(params[0]),$dialog.find("#simpleFields").val(params[1].join(", "))}else setTimeout((function(){_this.$child4.removeClass("disabled"),_this.$editCustomScript.removeClass("disabled"),$dialog.find("#customInput")[0].checked=!0}),20),$dialog.find("#COCustomScript").val(js),$dialog.find(".fv__calculate-tab #COCustomScript + div").removeClass("disabled")}else setTimeout((function(){$dialog.find("#noCalc")[0].checked=!0}),20)},CalculateTab.prototype.resetTab=function(){},CalculateTab.prototype.onEvent=function onEvent(){var _this2=this,$dialog=this.$dialog;this.$calculateRadio.on("change",(function(e){$dialog.find(".fv__calculate-tab textarea").val("");var t=_this2.annot.getField();switch(t.getAction(_Constants.Action_Trigger.calculate)&&t.removeAction(_Constants.Action_Trigger.calculate),$dialog.find(".fv__calculate-tab .fv__ui-dialog-cancel-button").addClass("disabled"),$dialog.find("#simpleOp").attr("disabled","disabled"),_this2.$child2.addClass("disabled"),_this2.$child3.addClass("disabled"),_this2.$child4.addClass("disabled"),_this2.$pickBtn.addClass("disabled"),_this2.$editNotations.addClass("disabled"),_this2.$editCustomScript.addClass("disabled"),e.target.value){case"0":$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled");break;case"1":$dialog.find("#simpleOp").removeAttr("disabled"),$dialog.find(".fv__calculate-tab #simpleFields + div").removeClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled"),_this2.$pickBtn.removeClass("disabled"),_this2.$child2.removeClass("disabled");break;case"2":$dialog.find(".fv__calculate-tab #notations + div").removeClass("disabled"),$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editCustomScript").addClass("disabled"),_this2.$editNotations.removeClass("disabled"),_this2.$child3.removeClass("disabled");break;case"3":$dialog.find("#pickFields").addClass("disabled"),$dialog.find("#editNotations").addClass("disabled"),$dialog.find(".fv__calculate-tab #COCustomScript + div").removeClass("disabled"),_this2.$editCustomScript.removeClass("disabled"),_this2.$child4.removeClass("disabled")}})),$dialog.find("#simpleOp").on("change",(function(e){var op=$dialog.find("#simpleOp").val(),action=_this2.annot.getAdditionalAction(10);if(action){var _eval=eval(action.getScript().replace("AFSimple_Calculate","getParam")),_eval2=_slicedToArray(_eval,2),_=_eval2[0],fields=_eval2[1],js='AFSimple_Calculate("'+op+'", new Array ("'+fields.join('", "')+'"));';action.setScript(js).then((function(e){return _this2.annot.getField().form.calculate()}))}})),$dialog.find("#pickFields").on("click",(function(e){var t=$dialog.find("#simpleFields").val().split(", ");_this2.pdfUI.getCurrentPDFDoc().then((function(e){var i=[];e.getPDFForm().enumFields([],0,(function(e,t){1!=e&&7!==e&&i.push(t)}),!1,!0);var n=_this2.addon.getDialog("PickField");n.show({type:-1,params:[i,t]},(function(e){if(e){var t='AFSimple_Calculate("'+$dialog.find("#simpleOp").val()+'", new Array ("'+e.join('", "')+'"));';n.callback=null,_this2.setCalcJS(t).then((function(t){$dialog.find("#simpleFields").val(e.join(", "))}))}}))}))})),$dialog.find("#editNotations").on("click",(function(e){_this2.addon.getDialog("JSInput").show($dialog.find("#notations").val(),(function(e){var t="/** BVCALC "+e+" EVCALC **/event.value="+parseSimpleNotation(e);_this2.setCalcJS(t).then((function(t){$dialog.find("#notations").val(e)}))}))})),$dialog.find("#editCustomScript").on("click",(function(e){_this2.addon.getDialog("JSInput").show($dialog.find("#COCustomScript").val(),(function(e){_this2.setCalcJS(e).then((function(t){$dialog.find("#COCustomScript").val(e)}))}))}))},CalculateTab.prototype.show=function(){},CalculateTab.prototype.offEvent=function(){var e=this.$dialog;e.find("#pickFields").off("click"),e.find("#editNotations").off("click"),e.find("#editCustomScript").off("click")},CalculateTab.prototype.fillFieldNames=function(){return this.pdfUI.getCurrentPDFDoc().then((function(e){var t="";return e.getPDFForm().enumFields([],0,(function(e,i){t+=i+","}),!1,!0),t}))},CalculateTab.prototype.setCalcJS=function(e){var t=this,i=new JavaScriptAction;return i.setScript(e),this.annot.getField().setAction(10,i).then((function(e){t.annot.getField().form.calculate()}))},CalculateTab}();exports.default=CalculateTab},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)),o=i(63),r=(n=o)&&n.__esModule?n:{default:n};i(64);var s=i(4);var l=a.vendors.jQuery,d=PDFViewCtrl.ViewerEvents,c=PDFViewCtrl.PDF.form.constant.Field_Flag,u=PDFViewCtrl.PDF.constant.AnnotUpdatedType,p=PDFViewCtrl.PDF.form.constant.Field_Type,f=a.PDFViewCtrl.shared.createDeferred,g=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t,this.isDestroyed=!1,this.addon=i;var a=(0,r.default)();this.dialog=this.PDFUI.parseTemplate(a),this.dialog.localize(),this.dialog.mounted(),this.$dialog=l(this.dialog.element),this.$name=l("input[name=Name]",this.$dialog),this.$label=l("input[name=Label]",this.$dialog),this.$exportValue=l("input[name=ExportValue]",this.$dialog),this.$required=l("input[name=Required]",this.$dialog),this.$allProperties=l("[name=AllProperties]",this.$dialog),this.bindEvent(),this.shortcuts=[["escape",{keydown:function(e){n.dialog.isVisible&&n.dialog.hide()}}]],this.PDFUI.getPDFViewer().then((function(e){n.shortcuts.forEach((function(t){e.onShortcutKey.apply(e,function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(t))}))}))}return e.prototype.show=function(e){var t=this;this.resetForm();var i=this.annot.getPage().getIndex();return this.$pageContainer=l('.fv__pdf-page-container[data-index="'+i+'"]').get(0),l(this.$pageContainer).on("mousedown",(function(e){return t.hide()})),this.dialog.open(this.$pageContainer),this.setDialogPosition(e).then((function(){t.$name.focus()})),this},e.prototype.setDialogPosition=function(e){var t=this,i=document.getElementsByClassName("fv__ui-simple-form-properties-dialog")[0],n=i.getBoundingClientRect().width,a=i.getBoundingClientRect().height,o=function(e){var i=t.$pageContainer.getBoundingClientRect(),o=i.width,r=i.height;if(!t.annot)return{top:0,left:0};var s=t.annot.getDeviceRect(e),l=s.left,d=s.bottom+10;return o-l<n&&(l=o-n),l<0&&(l=0),r-d<a&&(d=s.top-a-10),{top:d,left:l}};var r=f(),s=function(e){t.$dialog.css({top:e.top,left:e.left}),r.resolve()};return this.PDFUI.getPDFViewerRender().then((function(e){e.getScaleRatio().then((function(e){s(o(e))}))})),this.PDFUI.getPDFViewer().then((function(e){t.removeZoomToSuccessEvent=e.addEventListener(d.beforeOpenFile,(function(e){delete t.annot})),t.removeZoomToSuccessEvent=e.addEventListener(d.zoomToSuccess,(function(e){s(o(e))})),t.removeResizeEvent=window.addEventListener("resize",(function(){t.annot&&t.PDFUI.getPDFViewerRender().then((function(e){e.getScaleRatio().then((function(e){s(o(e))}))}))}))})),r.promise},e.prototype.resetForm=function(){this.$label.val(""),this.$exportValue.val("Yes"),this.$required.prop("checked",!1)},e.prototype.hide=function(){var e=document.activeElement;return this.dialog.element.contains(document.activeElement)&&e&&e.blur&&e.blur(),this.dialog.hide(),this},e.prototype.setAnnot=function(e){var t=this;this.annot=e;var i=(Object.keys(p).find((function(t){return p[t]===e.getField().getType()}))||"").toLowerCase();return Object.keys(p).forEach((function(e){return t.$dialog.removeClass("fv__ui-form-"+e.toLowerCase())})),this.$dialog.addClass("fv__ui--simple-form-"+i),this.$dialog.find("[show-in-types]").each((function(e,t){l(t).toggle(l(t).attr("show-in-types").indexOf(i)>-1)})),this.$dialog.find("[disabled-in-types]").each((function(e,t){l(t).prop("disabled",l(t).attr("disabled-in-types").indexOf(i)>-1),l(t).prop("disabled")?l(t).parent().addClass("disabled"):l(t).parent().removeClass("disabled")})),this.setValue(),this},e.prototype.setValue=function(){var e=this.annot.getField(),t=e.getFlags();this.$name.val(e.getName()),this.$required.prop("checked",!!c.isRequired(t))},e.prototype.bindEvent=function(){var e=this;l(this.$dialog).on("mousedown",(function(e){return e.stopPropagation()})),this.$name.on("blur",(function(t){var i=l(t.target).val().trim(),n=e.annot.getField().getName(),a=e.annot.objectNumber;i&&i!==n&&e.PDFUI.getPDFViewer().then((function(t){t.getCurrentPDFDoc().loadPDFForm().then((function(t){t.validateFieldName(i,e.annot.info.fieldType).then((function(o){o?t.moveControl(n,i,a).then((function(t){if(!t)throw e.$name.val(n),new Error("Rename field error.");e.setLabel(e.annot),e.emitAnnotUpdateEvent(u.titleUpdated,!1)})):(e.$name.val(n),e.PDFUI.alert("dialog.error.validateFieldNameError"))}))}))}))})),this.$exportValue.on("blur",(function(t){var i=e.annot.getField(),n=l(t.target).val().trim();e.annot.getField().setExportValue(e.annot.info.control,n).then((function(e){i.setValue(n).then((function(e){return i.setDefaultValue(n)}))}))})),this.$label.on("blur",(function(t){var i=l(t.target).val().trim();e.annot.setWidgetMkCaption("",i)})),this.$required.on("change",(function(t){e.annot.getField().setRequired(l(t.target).prop("checked")),e.emitAnnotUpdateEvent(u.flagsUpdated,!0)})),this.$allProperties.on("click",(function(t){e.hide();var i=e.PDFUI.editingMgr.getAllActiveWidgets();i&&0!==i.length&&e.PDFUI.editingMgr.setFocusWidget(i[0],!0)})),this.PDFUI.getStore().then((function(t){var i=t.subscribe(s.HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX,(function(t){e.hide()}));e.PDFUI.getPDFViewer().then((function(e){e.addDestroyHook((function(){i()}))}))}))},e.prototype.destroy=function(){this.isDestroyed||(this.removeZoomToSuccessEvent&&this.removeZoomToSuccessEvent(),this.removeResizeEvent&&this.removeResizeEvent(),l(this.$pageContainer).off("mousedown"),this.$dialog.off("mousedown"),this.$required.off("change"),this.$allProperties.off("click"),this.dialog.destroy(),this.isDestroyed=!0)},e.prototype.emitAnnotUpdateEvent=function(e,t){this.PDFUI.eventEmitter.emit(d.annotationUpdated,[this.annot],this.annot.getPDFPage(),e),t&&this.PDFUI.eventEmitter.emit(d.annotationAppearanceUpdated,[this.annot],this.annot.getPDFPage())},e}();t.default=g},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<layer name="simple-form-properties-dialog" class="fv__ui-simple-form-properties-dialog">\r\n    <div class="fv_ui_dialog_body">\r\n        <label class="d_f fw_w mb_15">\r\n            <div class="lh_14 pr_10 ta_r fv__ui-dialog_label" data-i18n="form-designer:simpleDialog.name"></div>\r\n            <input class="h_24" type="text" name="Name"/>\r\n        </label>\r\n        <label show-in-types="pushbutton" class="d_f fw_w mb_15">\r\n            <div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="labelText" data-i18n="form-designer:simpleDialog.label"></div>\r\n            <input class="h_24" type="text" name="Label"/>\r\n        </label>\r\n        <label show-in-types="radiobutton" class="d_f fw_w mb_15">\r\n            <div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="exportValueText" data-i18n="form-designer:simpleDialog.exportValue"></div>\r\n            <input class="h_24" type="text" name="ExportValue"/>\r\n        </label>\r\n    </div>\r\n    <div class="d_f ai_c jc_sb">\r\n        <label class="d_f ai_c mr_10 fv__ui-dialog-required">\r\n            <input type="checkbox" disabled-in-types="listbox pushbutton" name="Required"/>\r\n            <div data-i18n="form-designer:simpleDialog.footer.required"></div>\r\n        </label>\r\n        <div class="fv__ui-dialog-allProperties" name="AllProperties" data-i18n="form-designer:simpleDialog.footer.allProperties"></div>\r\n    </div>\r\n</layer>','<layer name="simple-form-properties-dialog" class="fv__ui-simple-form-properties-dialog">\r\n    <div class="fv_ui_dialog_body">\r\n        <label class="d_f fw_w mb_15">\r\n            <div class="lh_14 pr_10 ta_r fv__ui-dialog_label" data-i18n="form-designer:simpleDialog.name"></div>\r\n            <input class="h_24" type="text" name="Name"/>\r\n        </label>\r\n        <label show-in-types="pushbutton" class="d_f fw_w mb_15">\r\n            <div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="labelText" data-i18n="form-designer:simpleDialog.label"></div>\r\n            <input class="h_24" type="text" name="Label"/>\r\n        </label>\r\n        <label show-in-types="radiobutton" class="d_f fw_w mb_15">\r\n            <div class="lh_14 pr_10 ta_r fv__ui-dialog_label" name="exportValueText" data-i18n="form-designer:simpleDialog.exportValue"></div>\r\n            <input class="h_24" type="text" name="ExportValue"/>\r\n        </label>\r\n    </div>\r\n    <div class="d_f ai_c jc_sb">\r\n        <label class="d_f ai_c mr_10 fv__ui-dialog-required">\r\n            <input type="checkbox" disabled-in-types="listbox pushbutton" name="Required"/>\r\n            <div data-i18n="form-designer:simpleDialog.footer.required"></div>\r\n        </label>\r\n        <div class="fv__ui-dialog-allProperties" name="AllProperties" data-i18n="form-designer:simpleDialog.footer.allProperties"></div>\r\n    </div>\r\n</layer>'}},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=r(i(66));i(67);var o=r(i(68));function r(e){return e&&e.__esModule?e:{default:e}}var s=UIExtension.vendors.jQuery,l=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t;var n=(0,a.default)();this.dialog=t.parseTemplate(n),this.$element=s(this.dialog.element),this.PDFUI.getPDFViewer().then((function(e){i.PDFViewer=e,i.previewer=new o.default(e),i.onEvent()})),this.PDFUI.getRootComponent().then((function(e){e.append(i.dialog),i.dialog.localize(),i.dialog.mounted()})),this.destroyHooks=[]}return e.prototype.show=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e.getPage();return this.target=e,this.callback=i,this.PDFUI.getRootComponent().then((function(i){var a=t.updateSize(t.target),o=n(a,2),r=o[0],s=o[1],l=t.$element.find("#columnSize").attr("max",r);r<2?l.val("1"):r=2;var d=t.$element.find("#rowSize").attr("max",s);s<2?d.val("1"):s=2,t.dialog.open(i.element),t.previewer.setTarget(e).drawShape({columns:r,rows:s,marginLeft:10,marginTop:5})})),this},e.prototype.onEvent=function(){var e=this,t=this.$element.find("#rowSize");t.on("change",(function(i){var n=i.target.value;isNaN(n)&&(n=e.maxColum<2?1:0,t.val(n)),(n=+n)<=0&&(n=1,t.val(1)),n>e.maxColum&&(n=e.maxColum,t.val(n)),e.previewer.drawShape({columns:n})}));var i=this.$element.find("#columnSize");i.on("change",(function(t){var n=t.target.value;isNaN(n)&&(n=e.maxRow<2?1:0,i.val(n)),(n=+n)<=0&&(i.val(1),n=1),n>e.maxRow&&(n=e.maxRow,i.val(n)),e.previewer.drawShape({rows:n})}));var a=this.$element.find("#marginHorizon"),o=this.$element.find("#marginVertical");a.on("change",(function(r){var s=r.target.value;(isNaN(s)&&(s=10,a.val("10")),(s=+s)<0&&(s=0,a.val("0")),s)&&(s=e.getMaxSpace(!0)[0],a.val(s));var l=e.updateSize(e.target,s,+o.val()),d=n(l,2),c=d[0],u=d[1];t.attr("max",c),i.attr("max",u),e.previewer.drawShape({marginLeft:s})})),o.on("change",(function(r){var s=r.target.value;(isNaN(s)&&(s=5,o.val("5")),(s=+s)<0&&(s=0,o.val("0")),s)&&(s=e.getMaxSpace()[1],o.val(s));var l=e.updateSize(e.target,+a.val(),s),d=n(l,2),c=d[0],u=d[1];t.attr("max",c),i.attr("max",u),e.previewer.drawShape({marginTop:s})})),this.$element.find("#moveLeft").on("click",(function(t){e.previewer.move("Left")})),this.$element.find("#moveRight").on("click",(function(t){e.previewer.move("Right")})),this.$element.find("#moveUp").on("click",(function(t){e.previewer.move("Up")})),this.$element.find("#moveDown").on("click",(function(t){e.previewer.move("Down")}));var r=this.$element.find(".fv__ui-dialog-cancel-button");r.on("click",(function(t){e.hide(),e.reset()}));var s=this.$element.find("#MPSubmit");s.on("click",(function(t){var i=e.$element.find("#sameName").is(":checked"),n=e.$element.find("#columnSize").val(),a=e.$element.find("#rowSize").val();e.callback(e.target,i,n,a,e.previewer.getPositions()),e.hide(),e.reset()}));var l=this.$element.find("#preview");l.on("change",(function(t){l.is(":checked")?e.previewer.show():e.previewer.invisible()})),this.dialog.on("hidden",(function(t){e.hide(),e.reset(),e.callback()})),this.destroyHooks.push((function(e){columnSize.off("change"),rowSize.off("change"),a.off("change"),o.off("change"),l.off("change"),r.off("click"),s.off("click")}))},e.prototype.reset=function(){this.$element.find("#rowSize").val(2),this.$element.find("#columnSize").val(2),this.$element.find("#marginHorizon").val(10),this.$element.find("#marginVertical").val(5),this.$element.find("#preview").attr("checked","1"),this.$element.find("#sameName")[0].checked=!1},e.prototype.hide=function(){this.dialog.hide(),this.previewer.hide()},e.prototype.updateSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=e.getRect(),o=this.previewer.getMaxSize(e.getPage().getIndex(),a,t,i),r=n(o,2),s=r[0],l=r[1];return this.maxColum=s,this.maxRow=l,[s,l]},e.prototype.destroy=function(){delete this.PDFUI,this.dialog.destroy(),delete this.dialog,delete this.target,delete this.callback,this.shapes.destroy(),delete this.shapes,delete this.$element,delete this.PDFViewer,this.destroyHooks.forEach((function(e){return e()})),this.destroyHooks=[]},e.prototype.getMaxSpace=function(e){var t=this.target,i=t.getPage().getIndex(),n=this.PDFViewer.getPDFDocRender(),a=n.getPDFPageRender(i),o=n.getAnnotRender(i,t.getId()).component.getRect(),r=o.right-o.left,s=o.bottom-o.top,l=+this.$element.find("#columnSize").val(),d=+this.$element.find("#rowSize").val(),c=+this.$element.find("#marginHorizon").val(),u=+this.$element.find("#marginVertical").val();return e?o.left+r+(r+c)*(d-1)>a.getShowWidth()&&(c=Math.floor((a.getShowWidth()-r*d-o.left)/(d-1))):o.top+u*(l-1)+s*l>a.getShowHeight()&&(u=Math.floor((a.getShowHeight()-s*l-o.top)/(l-1))),[c,u]},e}();t.default=l},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<layer name=\'multiple-copy-dialog\' modal="true" class="center fv__ui-multiple-copy-dialog fv_form-design">\r\n    <layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.multipleCopyTitle"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n\r\n    <div class="fv__ui-multiple-copy-body">\r\n        <div class="fv__multiple-copy-catalog">form-designer:dialog.multipleCopy.number</div>\r\n        <div class="bg-wrap p22">\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.column</span>\r\n                <input min="1" type="number" id="columnSize" value="2">\r\n            </div>\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.row</span>\r\n                <input min="1" type="number" id="rowSize" value="2">\r\n            </div>\r\n        </div>\r\n\r\n        <div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.size</div>\r\n        <div class="bg-wrap p22">\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.width</span>\r\n                <input min="0" type="number" id="marginHorizon" value="10">\r\n            </div>\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.height</span>\r\n                <input min="0" type="number" id="marginVertical" value="5">\r\n            </div>\r\n        </div>\r\n        <div class="fv__multiple-copy-position">\r\n            <div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.position</div>\r\n            <div class="bg-wrap">\r\n                <div class="left fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveLeft">\r\n                    form-designer:dialog.multipleCopy.left</div>\r\n                <div class="up fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveUp">\r\n                    form-designer:dialog.multipleCopy.up</div>\r\n                <div class="right fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveRight">\r\n                    form-designer:dialog.multipleCopy.right</div>\r\n                <div class="down fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveDown">\r\n                    form-designer:dialog.multipleCopy.down</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\r\n        <div class="d_f ai_c jc_sb">\r\n            <label class="d_f ai_c">\r\n                <input type="checkbox" name="preview" id="preview" checked/>\r\n                <div data-i18n="form-designer:dialog.footer.preview"></div>\r\n            </label>\r\n            <label class="d_f ai_c fv__hidden">\r\n                <input type="checkbox" name="sameName"  id="sameName"/>\r\n                <div data-i18n="form-designer:dialog.footer.sameName"></div>\r\n            </label>\r\n        </div>\r\n        <div class="d_f">\r\n            <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog">dialog.cancel</div>\r\n            <div class="fv__ui-dialog-button fv__ui-dialog-ok-button" id="MPSubmit" name="confirm">dialog.ok</div>\r\n        </div>\r\n    </div>\r\n</layer>','<layer name=\'multiple-copy-dialog\' modal="true" class="center fv__ui-multiple-copy-dialog fv_form-design">\r\n    <layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.multipleCopyTitle"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n\r\n    <div class="fv__ui-multiple-copy-body">\r\n        <div class="fv__multiple-copy-catalog">form-designer:dialog.multipleCopy.number</div>\r\n        <div class="bg-wrap p22">\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.column</span>\r\n                <input min="1" type="number" id="columnSize" value="2">\r\n            </div>\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.row</span>\r\n                <input min="1" type="number" id="rowSize" value="2">\r\n            </div>\r\n        </div>\r\n\r\n        <div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.size</div>\r\n        <div class="bg-wrap p22">\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.width</span>\r\n                <input min="0" type="number" id="marginHorizon" value="10">\r\n            </div>\r\n            <div class="fv__multiple-copy-widget">\r\n                <span>form-designer:dialog.multipleCopy.height</span>\r\n                <input min="0" type="number" id="marginVertical" value="5">\r\n            </div>\r\n        </div>\r\n        <div class="fv__multiple-copy-position">\r\n            <div class="fv__multiple-copy-catalog m22">form-designer:dialog.multipleCopy.position</div>\r\n            <div class="bg-wrap">\r\n                <div class="left fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveLeft">\r\n                    form-designer:dialog.multipleCopy.left</div>\r\n                <div class="up fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveUp">\r\n                    form-designer:dialog.multipleCopy.up</div>\r\n                <div class="right fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveRight">\r\n                    form-designer:dialog.multipleCopy.right</div>\r\n                <div class="down fv__ui-dialog-button fv__ui-dialog-ok-button" id="moveDown">\r\n                    form-designer:dialog.multipleCopy.down</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\r\n        <div class="d_f ai_c jc_sb">\r\n            <label class="d_f ai_c">\r\n                <input type="checkbox" name="preview" id="preview" checked/>\r\n                <div data-i18n="form-designer:dialog.footer.preview"></div>\r\n            </label>\r\n            <label class="d_f ai_c fv__hidden">\r\n                <input type="checkbox" name="sameName"  id="sameName"/>\r\n                <div data-i18n="form-designer:dialog.footer.sameName"></div>\r\n            </label>\r\n        </div>\r\n        <div class="d_f">\r\n            <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog">dialog.cancel</div>\r\n            <div class="fv__ui-dialog-button fv__ui-dialog-ok-button" id="MPSubmit" name="confirm">dialog.ok</div>\r\n        </div>\r\n    </div>\r\n</layer>'}},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=UIExtension.vendors.jQuery,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=t,this.$ui=n('<canvas class="fv_shapes_ui"></canvas>')}return e.prototype.initPageShapes=function(e){if(!this.targetPage||this.targetPage.index!=e)return(this.targetPage=this.pdfViewer.getPDFDocRender().getPDFPageRender(e)).$ui.append(this.$ui.show()),this},e.prototype.setTarget=function(e){return this.target=e,this},e.prototype.getPositions=function(){var e=this.$ui.offset(),t=this.$ui.parent().offset(),i=this.pdfViewer.getPDFDocRender(),n=this.target.getPage(),a=i.getPDFPageRender(n.getIndex()),o=e.left+1-t.left,r=e.top+1-t.top;return this.rects.map((function(e){return n.reverseDeviceRect({left:e.left+o,top:e.top+r,right:e.right+o,bottom:e.bottom+r},a.scale,a.rotate)}))},e.prototype.drawShape=function(e){var t=e.columns,i=void 0===t?this.columns:t,n=e.rows,a=void 0===n?this.rows:n,o=e.marginLeft,r=void 0===o?this.marginLeft:o,s=e.marginTop,l=void 0===s?this.marginTop:s;this.$ui.show();var d=this.target.getPage().getIndex();this.initPageShapes(d),this.columns=i,this.rows=a,this.marginLeft=r,this.marginTop=l;var c=this.calculateRects(d,this.target,i,a,r,l);this.$ui.attr(c).css(c);var u=this.$ui[0],p=u.getContext("2d");p.clearRect(0,0,u.offsetWidth,u.offsetHeight),p.save(),p.beginPath(),p.strokeStyle="blue",p.lineWidth=2,this.rects.forEach((function(e){p.rect(e.left+1,e.top+1,e.width,e.height)})),p.stroke(),p.restore()},e.prototype.move=function(e){var t=this.$ui.offset(),i=this.$ui.width(),n=this.$ui.height(),a=this.$ui.parent().width(),o=this.$ui.parent().height(),r=this.$ui.parent().offset(),s=t.left-r.left,l=t.top-r.top;switch(e){case"Left":s-2<0?s=1:s-=2;break;case"Right":s+i+2>a?s=a-i-1:s+=2;break;case"Up":l-2<0?l=1:l-=2;break;case"Down":l+2+n>o?l=o-n-1:l+=2}this.$ui.css({left:s,top:l})},e.prototype.getMaxSize=function(e,t,i,n){var a=this.pdfViewer.getPDFDocRender().getPDFPageRender(e),o=(t=a.page.getDeviceRect(t,a.scale,a.rotate)).right-t.left,r=t.bottom-t.top;return[1+Math.floor((a.getShowWidth()-t.left-o)/(i+o)),1+Math.floor((a.getShowHeight()-t.top-r)/(n+r))]},e.prototype.calculateRects=function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments[4],o=arguments[5],r=this.pdfViewer.getPDFDocRender(),s=r.getAnnotRender(e,t.getId()).component,l=s.getRect(),d=l.right-l.left,c=l.bottom-l.top,u=this.rects=[],p=0;p<i;p++)for(var f=l.left+(a+d)*p,g=0;g<n;g++){var v=l.top+(o+c)*g;u.push({left:f-l.left,right:f+d-l.left,width:d,top:v-l.top,bottom:v+c-l.top,height:c})}return{left:l.left-1,top:l.top-1,width:d+(d+a)*(i-1)+2,height:c+(c+o)*(n-1)+2}},e.prototype.show=function(){this.$ui.css("opacity",1).show()},e.prototype.hide=function(){this.targetPage=null,this.$ui.hide()},e.prototype.invisible=function(){return this.$ui.css("opacity",0),!1},e.prototype.destroy=function(){delete this.pdfViewer,this.$ui.remove(),delete this.$ui},e}();t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=i(70),o=(n=a)&&n.__esModule?n:{default:n};i(71);var r=UIExtension.vendors.jQuery,s=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PDFUI=t;var n=(0,o.default)();this.dialog=t.parseTemplate(n),this.PDFUI.getRootComponent().then((function(e){e.append(i.dialog),i.dialog.localize(),i.dialog.mounted()})),this.onEvent()}return e.prototype.show=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return this.PDFUI.getRootComponent().then((function(e){i.dialog.open(e.element)})),this.target=e,this.callback=a,this.maxValue=t,this.except=n,this},e.prototype.onEvent=function(){var e=this,t=r(this.dialog.element);t.find(".duplicateChoice").on("change",(function(e){switch(e.target.value){case"range":t.find(".fv_range").removeAttr("disabled");break;default:t.find(".fv_range").attr("disabled","1").val(""),t.find(".fv_duplicate-msg").html(""),t.find(".error").removeClass("error")}})),t.find(".fv__ui-dialog-cancel-button").on("click",(function(t){e.hide()})),t.find(".fv__ui-dialog-ok-button").on("click",(function(i){var n=t.find(".duplicateChoice:checked").val(),a=+t.find(".fv_range-start").val(),o=+t.find(".fv_range-end").val();if("range"!=n||e.checkRange(t.find(".fv_range-start"),t.find(".fv_range-end"))){var r=[],s=e.maxValue,l=e.except;switch(n){case"all":for(var d=1;d<=s;d++)-1==l.indexOf(d)&&r.push(d-1);break;case"odd":for(var c=1;c<=s;c+=2)-1==l.indexOf(c)&&r.push(c-1);break;case"even":for(var u=2;u<=s;u+=2)-1==l.indexOf(u)&&r.push(u-1);break;case"range":for(var p=a;p<=o;p++)-1==l.indexOf(p)&&r.push(p-1)}e.hide(),e.callback(e.target,r)}})),t.find(".fv_range").on("change",(function(i){var n=t.find(".fv_range-start"),a=t.find(".fv_range-end");n.val().length&&a.val().length&&e.checkRange(n,a)})),this.dialog.on("hidden",(function(t){e.callback()}))},e.prototype.hide=function(){r(this.dialog.element).find(".defaultOpt").click(),this.dialog.hide()},e.prototype.checkRange=function(e,t){var i=r(this.dialog.element);if(i.find(".error").removeClass("error"),+e.val()>+t.val())return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRange")),e.addClass("error"),t.addClass("error"),!1;for(var n=0;n<2;n++){var a=0==n?e:t,o=+a.val();if(o-1<0)return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRangeStart")),a.addClass("error"),!1;if(this.maxValue-o<0)return i.find(".fv_duplicate-msg").html(this.PDFUI.i18n.t("form-designer:dialog.duplicate.errRangeEnd").replace("{max}",this.maxValue)),a.addClass("error"),!1;a.removeClass("error")}return i.find(".fv_duplicate-msg").html(""),!0},e.prototype.destroy=function(){var e=r(this.dialog.element);e.find(".duplicateChoice").off("change"),e.find(".fv__ui-dialog-cancel-button").off("click"),e.find(".fv__ui-dialog-ok-button").off("click"),e.find(".fv_range").off("change"),delete this.PDFUI,this.dialog.destroy(),delete this.dialog,delete this.target,delete this.maxValue,delete this.except},e}();t.default=s},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<layer name=\'duplicate-dialog\' modal="true" class="center fv__ui-duplicate-dialog fv_form-design">\r\n    <layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.duplicateTitle"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n\r\n    <div class="fv__ui-duplicate-body">\r\n        <div>form-designer:dialog.duplicate.question</div>\r\n        <div class="fv__ui-duplicate-options">\r\n            <div class="d_f ai_c"><label>\r\n                    <input type="radio" checked="1" name="duplicateOpts" value="all" class="duplicateChoice defaultOpt" />\r\n                    <div data-i18n="form-designer:dialog.duplicate.all"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c"><label>\r\n                    <input type="radio" name="duplicateOpts" value="odd" class="duplicateChoice" />\r\n                    <div data-i18n="form-designer:dialog.duplicate.odd"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c"><label>\r\n                    <input type="radio" name="duplicateOpts" value="even" class="duplicateChoice" />\r\n                    <div data-i18n="form-designer:dialog.duplicate.even"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c">\r\n                <label>\r\n                    <input type="radio" name="duplicateOpts" value="range" class="duplicateChoice" />\r\n\r\n                    <span data-i18n="dialog.printDialog.from"></span>\r\n                    <input class="fv_range fv_range-start" disabled></input>\r\n                    <span data-i18n="dialog.printDialog.to"></span>\r\n                    <input class="fv_range fv_range-end" disabled></input>\r\n                </label>\r\n            </div>\r\n            <div class="fv_duplicate-msg"></div>\r\n        </div>\r\n    </div>\r\n    <div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog">dialog.cancel</div>\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="confirm">dialog.ok</div>\r\n    </div>\r\n</layer>','<layer name=\'duplicate-dialog\' modal="true" class="center fv__ui-duplicate-dialog fv_form-design">\r\n    <layer-header class="fv__ui-multiple-copy-header" title="form-designer:dialog.duplicateTitle"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n\r\n    <div class="fv__ui-duplicate-body">\r\n        <div>form-designer:dialog.duplicate.question</div>\r\n        <div class="fv__ui-duplicate-options">\r\n            <div class="d_f ai_c"><label>\r\n                    <input type="radio" checked="1" name="duplicateOpts" value="all" class="duplicateChoice defaultOpt" />\r\n                    <div data-i18n="form-designer:dialog.duplicate.all"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c"><label>\r\n                    <input type="radio" name="duplicateOpts" value="odd" class="duplicateChoice" />\r\n                    <div data-i18n="form-designer:dialog.duplicate.odd"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c"><label>\r\n                    <input type="radio" name="duplicateOpts" value="even" class="duplicateChoice" />\r\n                    <div data-i18n="form-designer:dialog.duplicate.even"></div>\r\n                </label>\r\n            </div>\r\n            <div class="d_f ai_c">\r\n                <label>\r\n                    <input type="radio" name="duplicateOpts" value="range" class="duplicateChoice" />\r\n\r\n                    <span data-i18n="dialog.printDialog.from"></span>\r\n                    <input class="fv_range fv_range-start" disabled></input>\r\n                    <span data-i18n="dialog.printDialog.to"></span>\r\n                    <input class="fv_range fv_range-end" disabled></input>\r\n                </label>\r\n            </div>\r\n            <div class="fv_duplicate-msg"></div>\r\n        </div>\r\n    </div>\r\n    <div class="d_f ai_c jc_sb fv_ui_multiple-copy-footer">\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" name="closeDialog">dialog.cancel</div>\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-ok-button" name="confirm">dialog.ok</div>\r\n    </div>\r\n</layer>'}},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=i(73),r=(n=o)&&n.__esModule?n:{default:n};i(74);var s=UIExtension.vendors.jQuery,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfUI=t,this.dialog=t.parseTemplate((0,r.default)({fields:[]})),this.dialog.localize(),this.dialog.mounted(),this.$element=s(this.dialog.element),this.bindEvent()}return e.prototype.show=function(e,t,i){var n=e.type,o=e.params,r=this,s=this.$element,l=a(o,3),d=l[0],c=l[1],u=l[2],p=d.length==c.length;p?s.find("#allFieldsButton")[0].checked=!0:s.find("#selectedFieldsButton")[0].checked=!0,p&&2==n?s.find("#selectAll,#deselectAll").addClass("disabled"):s.find("#selectAll,#deselectAll").removeClass("disabled"),s.find(".fv__field-buttons .fv__ui-dialog-button").show();var f="";d.forEach((function(e){var t="";p&&2==n&&(t="disabled=1 "),-1!=c.indexOf(e)&&(t+="checked='checked'"),f+='<div class="fv_field-item"><input type=\'checkbox\' class="fv_field-checker" '+t+"></input><div>"+e+"</div></div>"})),s.find(".fv__field-container")[0].innerHTML=f,s.removeClass("submit"),s.find(".fv__fiels-top").hide();var g=s.find(".fv__ui-dialog-ok-button"),v="dialog.actionDialog.selectAction.reset",h=s.find(".fv__right-title"),m="form-designer:dialog.actionTab.rightTitle";switch(n){case-1:v="form-designer:dialog.actionTab.calculateTitle",m="form-designer:dialog.actionTab.calculateSubTitle",s.find(".fv__pick-left,.fv__hide-buttons").hide(),g.toggleClass("disabled",!1);break;case 0:s.find(".fv__pick-left,.fv__hide-buttons").hide(),v="form-designer:tips.ResetForm",g.toggleClass("disabled",!c.length);break;case 3:v="form-designer:dialog.signed.SignatureSelection",m="form-designer:dialog.signed.markFields",s.find(".fv__pick-left,.fv__hide-buttons").hide(),g.toggleClass("disabled",!1);break;case 1:s.find(".fv__field-container")[0].innerHTML=f,s.find(".fv__pick-left,.fv__field-buttons .fv__ui-dialog-button").hide(),s.find(".fv__hide-buttons").show(),u?s.find("#showButton")[0].checked=!0:s.find("#hideButton")[0].checked=!0,v="form-designer:dialog.actionTab.showHideTitle",g.toggleClass("disabled",!c.length);break;case 2:if(g.removeClass("disabled"),u){var _=u.format,b=u.annot,y=u.method,F=u.url;if(s.find(".fv__submit-format input[value="+_+"]")[0].checked=!0,b&&("fdf"==_&&(s.find(".fv__format-fdf #fdfAnnots")[0].checked=!0),"xfdf"==_&&(s.find(".fv__format-xfdf #xfdfAnnots")[0].checked=!0)),s.find("#submitType").val(y),"ftp"==y){if(-1!=F.indexOf("@")){var C=F.match(/ftp:\/\/(\w+?):(\w+?)@([\s\S]*)/);s.find("#ftpAddress").val(C[3]),s.find("#ftpUserName").val(C[1]),s.find("#ftpPassword").val(C[2]),s.find("#ftpAccount")[0].checked=!0}else{var w=F.match(/ftp:\/\/([\s\S]*)/);s.find("#ftpAddress").val(w[1]),s.find("#ftpAnonymous")[0].checked=!0,s.find("#ftpUserName").val(""),s.find("#ftpPassword").val("")}s.find(".fv__text-input").hide(),s.find(".fv__ftp-input").show()}else{s.find(".fv__text-input input").val(F);var T="form-designer:dialog.actionTab."+y+"Addr";s.find("#labelInput").text(this.pdfUI.i18n.t(T)).attr("data-i18n",T),s.find(".fv__text-input").show(),s.find(".fv__ftp-input").hide()}}s.addClass("submit"),v="dialog.actionDialog.selectAction.submit",s.find(".fv__fiels-top,.fv__pick-left").show(),s.find(".fv__hide-buttons").hide()}h.attr("data-i18n",m).text(this.pdfUI.i18n.t(m)),this.pdfUI.getRootComponent().then((function(e){r.dialog.open(e.element),!0===u?s.find("#showButton")[0].checked=!0:s.find("#hideButton")[0].checked=!0}));var x=this.pdfUI.i18n.t(v);return s.find("h6").attr("data-i18n",v).text(x),this.type=n,this.callback=t,this},e.prototype.hide=function(){this.dialog.hide()},e.prototype.bindEvent=function(){var e=this,t=this.$element,i=t.find(".fv__ui-dialog-ok-button");this.dialog.on("hidden",(function(t){e.$element.find("#labelInput + input").val(""),e.$element.find("#ftpAddress").val(""),e.callback&&e.callback()})),t.on("click",".fv_field-item",(function(n){3!=e.type&&-1!=e.type&&i.toggleClass("disabled",!t.find(".fv__field-container input:checked").length)})),t.on("change",".fv_field-checker",(function(i){1==e.type&&t.find(".fv__field-container input:checked").each((function(e,t){t!=i.target&&(t.checked=!1)}))})),t.find(".fv__field-footer .fv__ui-dialog-cancel-button").on("click",(function(t){return e.hide()})),i.on("click",(function(i){var n=[];switch(t.find(".fv__field-container input:checked + div").each((function(e,t){n.push(t.innerHTML)})),e.type){case 3:case-1:case 0:e.callback(n);break;case 1:var a=t.find("#hideButton")[0].checked;e.callback(a,n);break;case 2:var o={},r=o.fileFormat=t.find(".fv__submit-format input[type=radio]:checked").val();o.fields=n;var s=o.method=t.find("#submitType").val();if("ftp"==s){var l=t.find("#ftpAddress").val();if(!l.length)return void e.pdfUI.alert("form-designer:dialog.actionTab.wrongEmail");var d=t.find("#ftpUserName").val(),c=t.find("#ftpPassword").val();o.address="ftp://"+d+":"+c+"@"+l}else if("email"==s){var u=o.address=t.find(".fv__text-input>input").val();if(!/^(.+)@(.+)$/.test(u))return void e.pdfUI.alert("form-designer:dialog.actionTab.wrongEmail");0!==u.indexOf("mailto")&&(o.address="mailto:"+u)}else{if(!(o.address=t.find(".fv__text-input>input").val()).length)return void e.pdfUI.alert("form-designer:dialog.actionTab.wrongEmail")}"fdf"==r&&(o.submitAnnots=t.find(".fv__format-fdf #fdfAnnots").is(":checked")),"xfdf"==r&&(o.submitAnnots=t.find(".fv__format-xfdf #xfdfAnnots").is(":checked")),e.callback(o)}e.hide()})),t.find("#submitType").on("change",(function(i){var n=i.target.value;switch(n){case"ftp":t.find(".fv__text-input").hide(),t.find(".fv__ftp-input").show();break;default:t.find(".fv__text-input").show(),t.find(".fv__ftp-input").hide();var a="form-designer:dialog.actionTab."+n+"Addr";t.find(".fv__text-input>div").attr("data-i18n",a).text(e.pdfUI.i18n.t(a))}})),t.find("#deselectAll").on("click",(function(n){t.find(".fv__field-container :checked").prop("checked",!1),3!=e.type&&-1!=e.type&&i.addClass("disabled")})),t.find("#selectAll").on("click",(function(e){t.find(".fv__field-container input").prop("checked",!0),i.removeClass("disabled")})),t.find(".fv__selection-buttons").on("change",(function(e){switch(e.target.value){case"all":t.find(".fv__field-container input").each((function(e,t){t.disabled=!0,t.checked=!0})),t.find("#selectAll,#deselectAll").addClass("disabled");break;case"part":t.find(".fv__field-container input").each((function(e,t){t.disabled=!1,t.checked=!1})),t.find("#selectAll,#deselectAll").removeClass("disabled")}})),t.find(".fv_submit-format").on("change",(function(e){t.find(".fv_include_annot").each((function(e,t){t.checked=!1}))}))},e.prototype.destroy=function(){$element.find(".fv__field-footer .fv__ui-dialog-cancel-button,.fv__field-footer .fv__ui-dialog-ok-button,#deselectAll,#selectAll").off("click"),$element.find("#submitType,#labelInput + input, #ftpAddress,.fv__selection-buttons,.fv_submit-format").off("change")},e}();t.default=l},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<layer name="field-pick-dialog" modal="true" class="fv__ui-field-pick-dialog center" >\r\n    <layer-header class="fv__ui-multiple-copy-header" title="dialog.actionDialog.selectAction.submit"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n    <div class="fv_pick-body">\r\n        <div class="fv__pick-left">\r\n            <div>form-designer:dialog.actionTab.type</div>\r\n            <div class="fv__submit-format">\r\n                <div class="fv__format-fdf">\r\n                    <input type="radio" checked="1" value="fdf" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitFDF" class="">form-designer:dialog.actionTab.fdf</label>\r\n                    <div class="fv__submit-datas">\r\n                        <div>\r\n                            <input type="checkbox" disabled checked="1" id="fdfForm"></input>\r\n                            <label for="fdfForm" class="">form-designer:dialog.actionTab.field</label>\r\n                        </div>\r\n                        <div>\r\n                            <input type="checkbox" id="fdfAnnots" class="fv_include_annot"></input>\r\n                            <label for="fdfAnnots" class="">form-designer:dialog.actionTab.annot</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="fv__format-html">\r\n                    <input type="radio" value="html" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitHTML" class="">form-designer:dialog.actionTab.html</label>\r\n                </div>\r\n                <div class="fv__format-xfdf">\r\n                    <input type="radio" value="xfdf" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitXFDF" class="">form-designer:dialog.actionTab.xfdf</label>\r\n                    <div class="fv__submit-datas">\r\n                        <div>\r\n                            <input type="checkbox" disabled checked="1" id="xfdfForm"></input>\r\n                            <label for="xfdfForm" class="">form-designer:dialog.actionTab.field</label>\r\n                        </div>\r\n                        <div>\r\n                            <input type="checkbox" id="xfdfAnnots" class="fv_include_annot"></input>\r\n                            <label for="xfdfAnnots" class="">form-designer:dialog.actionTab.annot</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="fv__format-pdf">\r\n                    <input type="radio" value="pdf" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitPDF" class="">form-designer:dialog.actionTab.pdf</label>\r\n                </div>\r\n            </div>\r\n            <div class="fv__submit-url">\r\n                <div>form-designer:dialog.actionTab.submitType</div>\r\n                <div class="fv__submit-body">\r\n                    <div class="fv__submission-type">\r\n                        <span>form-designer:dialog.actionTab.submitTo</span>\r\n                        <select id="submitType">\r\n                            <option value="email">form-designer:dialog.actionTab.email</option>\r\n                            <option value="ftp">form-designer:dialog.actionTab.ftp</option>\r\n                            <option value="http">form-designer:dialog.actionTab.http</option>\r\n                            <option value="local">form-designer:dialog.actionTab.local</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="fv__text-input">\r\n                        <div id="labelInput">form-designer:dialog.actionTab.emailAddr</div>\r\n                        <input>\r\n                    </div>\r\n                    <div class="fv__ftp-input">\r\n                        <div>form-designer:dialog.actionTab.ftpAddr</div>\r\n                        <input id="ftpAddress">\r\n                        <div>\r\n                            <input type="radio" checked id="ftpAnonymous" name="ftpAccountType"></input>\r\n                            <label for="ftpAnonymous" class="">form-designer:dialog.actionTab.anonymous</label>\r\n                        </div>\r\n                        <div>\r\n                            <input type="radio" id="ftpAccount" name="ftpAccountType"></input>\r\n                            <label for="ftpAccount" class="">form-designer:dialog.actionTab.needUP</label>\r\n                            <div class="fv__submit-datas fv__ftp-account">\r\n                                <div>\r\n                                    <label class="">form-designer:dialog.actionTab.username</label>\r\n                                    <input id="ftpUserName"></input>\r\n                                </div>\r\n                                <div>\r\n                                    <label class="">form-designer:dialog.actionTab.password</label>\r\n                                    <input type="password" id="ftpPassword"></input>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__pick-rightContainer">\r\n            <div class="fv__right-title">form-designer:dialog.actionTab.rightTitle</div>\r\n            <div class="fv__pick-right">\r\n                <div class="fv__fiels-top">\r\n                    <div class="fv__selection-buttons">\r\n                        <input type="radio" id ="allFieldsButton" value="all" checked name="selectionType"></input>\r\n                        <label for="showAction" class="">form-designer:dialog.signed.all</label>\r\n                    </div>\r\n                    <div class="fv__selection-buttons">\r\n                        <input type="radio" id ="selectedFieldsButton" value="part" name="selectionType"></input>\r\n                        <label for="hideAction" class="">form-designer:dialog.actionTab.selectedFields</label>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div class="fv__fiels-bottom">\r\n                    <div class="fv__field-container b_w">\r\n\r\n                    </div>\r\n                    <div class="fv__field-buttons">\r\n                        <div class="fv__hide-buttons">\r\n                            <input type="radio" id ="showButton" value="show" checked name="actionType"></input>\r\n                            <label for="showAction" class="">form-designer:dialog.actionTab.show</label>\r\n                        </div>\r\n                        <div class="fv__hide-buttons">\r\n                            <input type="radio" id ="hideButton" value="hide" name="actionType"></input>\r\n                            <label for="hideAction" class="">form-designer:dialog.actionTab.hide</label>\r\n                        </div>\r\n                        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" id="selectAll">\r\n                            form-designer:dialog.actionTab.selectAll</div>\r\n                        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" id="deselectAll">\r\n                            form-designer:dialog.actionTab.deselectAll</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="fv__field-footer">\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button">dialog.cancel</div>\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled">dialog.ok</div>\r\n    </div>\r\n</layer>','<layer name="field-pick-dialog" modal="true" class="fv__ui-field-pick-dialog center" >\r\n    <layer-header class="fv__ui-multiple-copy-header" title="dialog.actionDialog.selectAction.submit"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n    <div class="fv_pick-body">\r\n        <div class="fv__pick-left">\r\n            <div>form-designer:dialog.actionTab.type</div>\r\n            <div class="fv__submit-format">\r\n                <div class="fv__format-fdf">\r\n                    <input type="radio" checked="1" value="fdf" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitFDF" class="">form-designer:dialog.actionTab.fdf</label>\r\n                    <div class="fv__submit-datas">\r\n                        <div>\r\n                            <input type="checkbox" disabled checked="1" id="fdfForm"></input>\r\n                            <label for="fdfForm" class="">form-designer:dialog.actionTab.field</label>\r\n                        </div>\r\n                        <div>\r\n                            <input type="checkbox" id="fdfAnnots" class="fv_include_annot"></input>\r\n                            <label for="fdfAnnots" class="">form-designer:dialog.actionTab.annot</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="fv__format-html">\r\n                    <input type="radio" value="html" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitHTML" class="">form-designer:dialog.actionTab.html</label>\r\n                </div>\r\n                <div class="fv__format-xfdf">\r\n                    <input type="radio" value="xfdf" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitXFDF" class="">form-designer:dialog.actionTab.xfdf</label>\r\n                    <div class="fv__submit-datas">\r\n                        <div>\r\n                            <input type="checkbox" disabled checked="1" id="xfdfForm"></input>\r\n                            <label for="xfdfForm" class="">form-designer:dialog.actionTab.field</label>\r\n                        </div>\r\n                        <div>\r\n                            <input type="checkbox" id="xfdfAnnots" class="fv_include_annot"></input>\r\n                            <label for="xfdfAnnots" class="">form-designer:dialog.actionTab.annot</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="fv__format-pdf">\r\n                    <input type="radio" value="pdf" name="submitFormat" class="fv_submit-format"></input>\r\n                    <label for="submitPDF" class="">form-designer:dialog.actionTab.pdf</label>\r\n                </div>\r\n            </div>\r\n            <div class="fv__submit-url">\r\n                <div>form-designer:dialog.actionTab.submitType</div>\r\n                <div class="fv__submit-body">\r\n                    <div class="fv__submission-type">\r\n                        <span>form-designer:dialog.actionTab.submitTo</span>\r\n                        <select id="submitType">\r\n                            <option value="email">form-designer:dialog.actionTab.email</option>\r\n                            <option value="ftp">form-designer:dialog.actionTab.ftp</option>\r\n                            <option value="http">form-designer:dialog.actionTab.http</option>\r\n                            <option value="local">form-designer:dialog.actionTab.local</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="fv__text-input">\r\n                        <div id="labelInput">form-designer:dialog.actionTab.emailAddr</div>\r\n                        <input>\r\n                    </div>\r\n                    <div class="fv__ftp-input">\r\n                        <div>form-designer:dialog.actionTab.ftpAddr</div>\r\n                        <input id="ftpAddress">\r\n                        <div>\r\n                            <input type="radio" checked id="ftpAnonymous" name="ftpAccountType"></input>\r\n                            <label for="ftpAnonymous" class="">form-designer:dialog.actionTab.anonymous</label>\r\n                        </div>\r\n                        <div>\r\n                            <input type="radio" id="ftpAccount" name="ftpAccountType"></input>\r\n                            <label for="ftpAccount" class="">form-designer:dialog.actionTab.needUP</label>\r\n                            <div class="fv__submit-datas fv__ftp-account">\r\n                                <div>\r\n                                    <label class="">form-designer:dialog.actionTab.username</label>\r\n                                    <input id="ftpUserName"></input>\r\n                                </div>\r\n                                <div>\r\n                                    <label class="">form-designer:dialog.actionTab.password</label>\r\n                                    <input type="password" id="ftpPassword"></input>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="fv__pick-rightContainer">\r\n            <div class="fv__right-title">form-designer:dialog.actionTab.rightTitle</div>\r\n            <div class="fv__pick-right">\r\n                <div class="fv__fiels-top">\r\n                    <div class="fv__selection-buttons">\r\n                        <input type="radio" id ="allFieldsButton" value="all" checked name="selectionType"></input>\r\n                        <label for="showAction" class="">form-designer:dialog.signed.all</label>\r\n                    </div>\r\n                    <div class="fv__selection-buttons">\r\n                        <input type="radio" id ="selectedFieldsButton" value="part" name="selectionType"></input>\r\n                        <label for="hideAction" class="">form-designer:dialog.actionTab.selectedFields</label>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div class="fv__fiels-bottom">\r\n                    <div class="fv__field-container b_w">\r\n\r\n                    </div>\r\n                    <div class="fv__field-buttons">\r\n                        <div class="fv__hide-buttons">\r\n                            <input type="radio" id ="showButton" value="show" checked name="actionType"></input>\r\n                            <label for="showAction" class="">form-designer:dialog.actionTab.show</label>\r\n                        </div>\r\n                        <div class="fv__hide-buttons">\r\n                            <input type="radio" id ="hideButton" value="hide" name="actionType"></input>\r\n                            <label for="hideAction" class="">form-designer:dialog.actionTab.hide</label>\r\n                        </div>\r\n                        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" id="selectAll">\r\n                            form-designer:dialog.actionTab.selectAll</div>\r\n                        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button" id="deselectAll">\r\n                            form-designer:dialog.actionTab.deselectAll</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="fv__field-footer">\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button">dialog.cancel</div>\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled">dialog.ok</div>\r\n    </div>\r\n</layer>'}},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=i(76),o=(n=a)&&n.__esModule?n:{default:n};i(77);var r=UIExtension.vendors.jQuery,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfUI=t,this.dialog=t.parseTemplate((0,o.default)({fields:[]})),this.dialog.localize(),this.dialog.mounted(),this.$element=r(this.dialog.element),this.bindEvent()}return e.prototype.show=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments[1];return this.$element.find(".script-container").val(t),this.syncLine(t),this.pdfUI.getRootComponent().then((function(t){e.dialog.open(t.element)})),this.callback=i,this},e.prototype.hide=function(){this.dialog.hide()},e.prototype.bindEvent=function(){var e=this,t=this.$element;t.find(".fv__ui-dialog-cancel-button").on("click",(function(t){return e.hide()})),t.find(".fv__ui-dialog-ok-button").on("click",(function(t){e.hide(),e.callback(e.$element.find(".script-container").val())}));var i=t.find(".script-container"),n=t.find(".line-container");i.on("change keyup",(function(t){e.syncLine(t.target.value)})).on("scroll",(function(e){n[0].scrollTop=i[0].scrollTop}))},e.prototype.syncLine=function(e){for(var t=e.split("\n"),i=this.$element.find(".line-container"),n="",a=0;a<t.length;a++){for(var o=""+a;o.length<5;)o="0"+o;a!=(n+=o)-1&&(n+="\r\n")}i.val(n)},e}();t.default=s},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<layer name="script-input-dialog" modal="true" class="fv__ui-script-input-dialog center">\r\n    <layer-header title="form-designer:dialog.inputScript" @draggable="{type:\'parent\'}"></layer-header>\r\n    <div class="fv_js-hint">form-designer:dialog.jsHint</div>\r\n    <div class="fv_js-editor-body">\r\n        <textarea disabled resize=none class="line-container">\r\n        </textarea>\r\n        <textarea resize=none class="script-container">\r\n        </textarea>\r\n    </div>\r\n    <div class="footer">\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-ok-button">dialog.ok</div>\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button">dialog.cancel</div>\r\n    </div>\r\n</layer>','<layer name="script-input-dialog" modal="true" class="fv__ui-script-input-dialog center">\r\n    <layer-header title="form-designer:dialog.inputScript" @draggable="{type:\'parent\'}"></layer-header>\r\n    <div class="fv_js-hint">form-designer:dialog.jsHint</div>\r\n    <div class="fv_js-editor-body">\r\n        <textarea disabled resize=none class="line-container">\r\n        </textarea>\r\n        <textarea resize=none class="script-container">\r\n        </textarea>\r\n    </div>\r\n    <div class="footer">\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-ok-button">dialog.ok</div>\r\n        <div class="fv__ui-dialog-button fv__ui-dialog-cancel-button">dialog.cancel</div>\r\n    </div>\r\n</layer>'}},function(e,t,i){},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=i(79),o=(n=a)&&n.__esModule?n:{default:n};i(80);var r=UIExtension.vendors.jQuery,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfUI=t,this.dialog=t.parseTemplate((0,o.default)({fields:[]})),this.dialog.localize(),this.dialog.mounted(),this.$element=r(this.dialog.element),this.bindEvent()}return e.prototype.show=function(e,t){var i=this,n=this.$element,a="";return this.oriOrder=e.join("\n"),e.forEach((function(e,t){a+='<div class="fv_CO-item '+(t?"":"active")+'" tabindex="0">'+e+"</div>"})),n.find(".fv__fields-list")[0].innerHTML=a,n.find("#COOK,#upButton").addClass("disabled"),n.find("#downButton").toggleClass("disabled",e.length<2),this.pdfUI.getRootComponent().then((function(e){i.dialog.open(e.element)})),this.callback=t,this.last=e.length-1,this},e.prototype.hide=function(){this.dialog.hide()},e.prototype.bindEvent=function(){var e=this,t=this.$element;t.on("click",".fv_CO-item",(function(i){t.find(".active").removeClass("active");var n=r(i.target).addClass("active");e.updateBtn(n.index())})),t.on("click","#upButton",(function(i){var n=t.find(".active").index();e.moveItemTo(n,n-1)})),t.on("click","#downButton",(function(i){var n=t.find(".active").index();e.moveItemTo(n,n+1)})),t.on("click","#COCancel",(function(t){return e.dialog.hide()})),t.on("click","#COOK",(function(t){var i=[];e.$element.find(".fv__fields-list>div").each((function(e,t){i.push(t.innerText)})),e.callback(i),e.hide()}))},e.prototype.destroy=function(){},e.prototype.updateBtn=function(e){var t=this.$element;t.find("#upButton").toggleClass("disabled",0==e),t.find("#downButton").toggleClass("disabled",e==this.last)},e.prototype.moveItemTo=function(e,t){var i=this.$element.find(".fv__fields-list"),n=r(i.children()[e]),a=r(i.children()[t]);n.toggleClass("active"),a.toggleClass("active"),a.focus();var o=n.text();n.text(a.text()),a.text(o),this.updateBtn(t),this.$element.find("#COOK").toggleClass("disabled",i[0].innerText==this.oriOrder)},e}();t.default=s},function(e,t,i){i(0);e.exports=function(e){"use strict";e=e||{};return'<layer name="field-CO-dialog" modal="true" class="fv__ui-CO-dialog center" @draggable>\r\n    <layer-header class="fv__ui-CO-header" title="form-designer:dialog.calculateOrder.title"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n    <div class="fv__CO-main">\r\n            <div class="fv__CO-subtitle">form-designer:dialog.calculateOrder.subtitle</div>\r\n            <div class="fv__CO-body">\r\n                <div class="fv__fields-list"  @stop-drag>\r\n\r\n                </div>\r\n                <div class="fv__CO-buttons">\r\n                    <div id="upButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled">form-designer:dialog.options.comboListBox.up</div>\r\n                    <div id="downButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled">form-designer:dialog.options.comboListBox.down</div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n    <div class="fv__CO-footer">\r\n        <div id="COCancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button">dialog.cancel</div>\r\n        <div id="COOK" class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled">dialog.ok</div>\r\n    </div>\r\n</layer>','<layer name="field-CO-dialog" modal="true" class="fv__ui-CO-dialog center" @draggable>\r\n    <layer-header class="fv__ui-CO-header" title="form-designer:dialog.calculateOrder.title"\r\n        @draggable="{type: \'parent\'}"></layer-header>\r\n    <div class="fv__CO-main">\r\n            <div class="fv__CO-subtitle">form-designer:dialog.calculateOrder.subtitle</div>\r\n            <div class="fv__CO-body">\r\n                <div class="fv__fields-list"  @stop-drag>\r\n\r\n                </div>\r\n                <div class="fv__CO-buttons">\r\n                    <div id="upButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled">form-designer:dialog.options.comboListBox.up</div>\r\n                    <div id="downButton"class="fv__ui-dialog-button fv__ui-dialog-cancel-button disabled">form-designer:dialog.options.comboListBox.down</div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n    <div class="fv__CO-footer">\r\n        <div id="COCancel" class="fv__ui-dialog-button fv__ui-dialog-cancel-button">dialog.cancel</div>\r\n        <div id="COOK" class="fv__ui-dialog-button fv__ui-dialog-ok-button disabled">dialog.ok</div>\r\n    </div>\r\n</layer>'}},function(e,t,i){},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,r){return function(e){function t(){return n(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.changePeimission=function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()})).then((function(i){var n=e.checkPermission(r.annotForm)&&e.checkPermission(r.modify);i&t.constructor.permission&&n?t.component.lock&&t.component.unlock():t.component.lock&&t.component.lock()}))},t}(t.ext(i,e))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)),o=i(1),r=(n=o)&&n.__esModule?n:{default:n};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var l=PDFViewCtrl.PDF.form.constant.Field_Type,d=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i));return n.textSizeList=["auto","6","8","10","12","14","16","18","20","22","24","26","28","30","32"],n.fontNameList=["Times Roman","Times Bold","Times Italic","Times BoldItalic","Helvetica","Helvetica Bold","Helvetica Oblique","Helvetica BoldOblique","Courier","Courier Bold","Courier Oblique","Courier BoldOblique","Symbol","ZapfDingbats"],i.editElement&&(i.editElement.style["text-align"]="left",i.editElement.addEventListener("blur",(function(e){if(!i.disabled){var t=i.editElement.value;n.selectFontSize(t)}}))),n}return s(t,e),t.getName=function(){return"FieldPropertiesAppearanceController"},t.prototype.postlink=function(){var e=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener(r.default.fieldActivated,(function(t){if(e.widget=t,"textSize"==e.component.name){var i=e.widget.getDAFontSize();e.component.setEditValue(0==i?"auto":i)}var n=t.getField();!n||n.getType()!==l.Sign&&n.getType()!==l.CheckBox&&n.getType()!==l.RadioButton?e.component.enable():e.component.disable()})))},t.prototype.selectFontSize=function(e){var t=this;this.component.setEditValue(e),e=Number.parseFloat(e),Number.isNaN(e)&&(e=0),this.widget&&e!==this.widget.getDAFontSize()&&this.widget.setDefaultAppearance({textSize:e}).then((function(){var i={type:"textSize",value:e},n=t.widget.formControl.getField();n.info.DA.textSize=e,n.info.DA.flags|=4,t.widget.updateUI(i),t.pdfUI.eventEmitter.emit(r.default.fieldFontSizeChanged,e)}))},t.prototype.selectFontName=function(e){if(this.component.setEditValue(e),this.widget){this.widget.setDefaultAppearance({fontName:e});var t={type:"fontName",value:e};this.widget.updateUI(t)}},t}(a.Controller);t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)),r=i(1),s=(n=r)&&n.__esModule?n:{default:n},l=i(13),d=i(4),c=i(3),u=i(14);function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}i(84);var f=o.PDFViewCtrl.ViewerEvents;t.default=function(e,t,n,r){return u.FORM_FIELD_STATE_HANDLER_NAMES.push(n),function(e){function u(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,t));return i.cursorStyle="fv__cursor-crosshair",i.setStoreFirstCreateField(!0),i}return p(u,e),u.getStateName=function(){return n},u.prototype.correctPosition=function(e){var t=this.pageRender.getShowWidth(),i=this.pageRender.getShowHeight();return{x:Math.max(0,Math.min(t,e.x)),y:Math.max(0,Math.min(i,e.y))}},u.prototype.start=function(e,i,n){var a=i.left,o=i.top,r=this.shapeControl;r||(r=this.shapeControl=new t({resizable:!1,enableDiagonally:!0})).active(e.$handler,e.$handler,{left:a,top:o,width:0,height:0}),r.setSnapGrid(n)},u.prototype.adjust=function(e,t,i){var n,a,o=t.x,r=t.y,s=i.x,l=i.y,d=Math.abs(o-s),c=Math.abs(r-l),u={left:n=Math.min(o,s),top:a=Math.min(r,l),width:d=Math.max(d,1),height:c=Math.max(c,1)},p={left:n,top:a,right:n+d,bottom:a+c};p=e.getSnapMaxRect(p),u.width=p.right-p.left,u.height=p.bottom-p.top,u.top=p.top,u.left=p.left,e._applyAnnotBoundary(u),e.shape.boundary=p,e.shape.shape=u,e._updatePreviewer()},u.prototype.pageHandler=function(e){var t=this;this.assistantExecutor=new o.PDFViewCtrl.shared.ThrottleAsyncTaskExecutor(20,!0);var i=!1;this.pageRender=e;var n=e.$handler.get(0);e.$handler.addClass(this.cursorStyle);var r=this.hammer=new PDFViewCtrl.Deps.Hammer.Manager(n);r.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL})),r.add(new Hammer.Tap),r.on("tap",(function(e){t.isAbleCreateField()&&(t.hideSimpleProperties(),i=!0,t.assistantExecutor.waitForLastTask(null).then((function(i){if(i&&(i.right-i.left)*(i.top-i.bottom)!=0)return t.removeDesignerRect(),t.create(i,e,!0)})).finally((function(){i=!1})))})),r.on("panstart",(function(i){if(t.hideSimpleProperties(),t.isAbleCreateField()){var n=e.getPDFPointFromClientPoint(i.srcEvent.clientX-i.deltaX,i.srcEvent.clientY-i.deltaY,!0);t.startPoint={x:n[0],y:n[1]};var o=e.getPDFPointFromClientPoint(i.srcEvent.clientX-i.deltaX,i.srcEvent.clientY-i.deltaY),r=a(o,2),s=r[0],l=r[1],d=e.pdfViewer.getSnapGrid();d&&(d=e.formatGridOptions(d)),t.start(e,{left:s,top:l},d)}})),r.on("panmove",(function(e){return t.currentPoint=t.correctPosition({x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY}),t.adjust(t.shapeControl,t.startPoint,t.currentPoint)})),r.on("panend",(function(e){t.currentPoint=t.correctPosition({x:t.startPoint.x+e.deltaX,y:t.startPoint.y+e.deltaY}),t.adjust(t.shapeControl,t.startPoint,t.currentPoint),t.create(t.shapeControl.shape.boundary,e)})),r.on("pancancel",(function(e){t.shapeControl.destroy(),t.shapeControl=null})),this.designerAssistantStatusChangeListener=function(a){a?e.getPDFPage().then((function(a){var o=!1;t.mouseoutEventListener&&n.removeEventListener("mouseout",t.mouseoutEventListener),t.moveEventListener&&n.removeEventListener("mousemove",t.moveEventListener),t.moveEventListener=function(n){if(o=!1,i)t.removeDesignerRect();else{var r=t.pdfViewer.getCurrentPDFDoc();t.assistantExecutor.exec((function(){var i=n.offsetX,s=n.offsetY,l=a.reverseDevicePoint([i,s],e.scale,e.rotate);if(!a.isDestroyed)return r.getPDFForm().getFieldAtPosition(a.getIndex(),l[0],l[1])?(t.renderSuggestedFormDesignerRect(null),d.RESOLVED_PROMISE_VOID):a.getSuggestedFormDesignerRect(l).then((function(i){if(!o&&!a.isDestroyed){if(i){var n=a.getDeviceRect(i,e.scale,e.rotate);t.renderSuggestedFormDesignerRect(n)}else t.renderSuggestedFormDesignerRect(null);return i}}),(function(e){throw t.renderSuggestedFormDesignerRect(null),e}))}))}},t.mouseoutEventListener=function(){o=!0,t.removeDesignerRect(),t.assistantExecutor.cancel()},n.addEventListener("mousemove",t.moveEventListener),n.addEventListener("mouseout",t.mouseoutEventListener)})):(t.removeDesignerRect(),n.removeEventListener("mouseout",t.mouseoutEventListener),n.removeEventListener("mousemove",t.moveEventListener))},this.pdfViewer.isDesignerAssistantEnabled&&this.designerAssistantStatusChangeListener(!0),this.pdfViewer.eventEmitter.on(f.designerAssistantStatusChanged,this.designerAssistantStatusChangeListener);var s=this.pdfViewer.getStore().subscribe(d.SET_FORM_CREATION_CONTINUOUSLY,(function(e){e||t.setStoreFirstCreateField(!0)}));this.pdfViewer.addDestroyHook((function(){s()}))},u.prototype.create=function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.pageRender,s=o.docRender,l=s.getPDFDoc();return l.loadPDFForm().then((function(s){return o.getPDFPage().then((function(l){var d=n.getFieldType(),p=n.autoFieldName(s,d),f=a?e:l.reverseDeviceRect(e,o.scale,o.rotate);if(7==d)return s.addSignature(o.index,f,p).then((function(e){return e.getControlByIndex(0).getWidget()})).then((function(e){return n.afterAdded(o,e,t)})).catch((function(e){throw n.afterAdded(o,null,t),new Error(e.message)}));var g={mkRotate:((o.rotate/90||0)+l.getRotation())%4};return"CreateDateStateHandler"===u.getStateName()&&(g.stateName=u.getStateName()),"CreateImageStateHandler"===u.getStateName()&&(g.stateName=u.getStateName(),g.imagePath=i(85)),s.addControl(o.index,p,r,f,g).then((function(e){if(e.success){var t=s.getField(e.newFieldName);if("CreateDateStateHandler"==g.stateName){return t.setAction(c.Action_Trigger.format,'AFDate_FormatEx("m/d/yy");').then((function(){return t.setAction(c.Action_Trigger.keyStroke,'AFDate_KeystrokeEx("m/d/yy");')})).then((function(){var e=t.getLoadedWidgets();return e[e.length-1]}))}var i=t.getLoadedWidgets();return i[i.length-1]}})).then((function(e){return n.afterAdded(o,e,t)}))}))}))},u.prototype.renderSuggestedFormDesignerRect=function(e){var t=this.pageRender.$handler.get(0);e?(this.eDesignerRect||(this.eDesignerRect=document.createElement("div"),this.eDesignerRect.classList.add("fv__form-designer-suggested-designer-rect")),this.eDesignerRect.style.cssText+="\n                left: "+e.left+"px;\n                top: "+e.top+"px;\n                width: "+(e.right-e.left)+"px;\n                height: "+(e.bottom-e.top)+"px;\n            ",this.eDesignerRect.parentElement!=t&&t.appendChild(this.eDesignerRect)):this.removeDesignerRect()},u.prototype.afterAdded=function(e,t,i){this.shapeControl&&this.shapeControl.destroy(),this.shapeControl=null,t&&this.pdfViewer.eventEmitter.emit(s.default.fieldAdded,e,t,i),this.setStoreFirstCreateField(!1)},u.prototype.getStoreFirstCreateField=function(){return this.pdfViewer.getStore().getCurrentValue("is-first-create-field")},u.prototype.setStoreFirstCreateField=function(e){this.pdfViewer.getStore().dispatch("is-first-create-field",e)},u.prototype.isAbleCreateField=function(){var e=this.pdfViewer,t=e.getStateHandlerManager(),i=e.getStore().getCurrentValue(d.SET_FORM_CREATION_CONTINUOUSLY);return!(!this.getStoreFirstCreateField()&&!i)||(t.switchTo(l.STATE_HANDLER_HAND),!1)},u.prototype.hideSimpleProperties=function(){this.pdfViewer.getStore().dispatch(d.HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX,!0)},u.prototype.destroyPageHandler=function(){this.hammer&&this.hammer.destroy(),this.pageRender.$handler.removeClass(this.cursorStyle);var e=this.pageRender.$handler.get(0);this.moveEventListener&&(e.removeEventListener("mousemove",this.moveEventListener),e.removeEventListener("mouseout",this.mouseoutEventListener)),this.pdfViewer.eventEmitter.off(f.designerAssistantStatusChanged,this.designerAssistantStatusChangeListener),this.removeDesignerRect(),this.pageRender.page&&this.pageRender.page.clearDesignerAssitCache()},u.prototype.out=function(){e.prototype.out.call(this),this.destroyPageHandler()},u.prototype.removeDesignerRect=function(){var e=this.pageRender.$handler.get(0);this.eDesignerRect&&this.eDesignerRect.parentElement===e&&e.removeChild(this.eDesignerRect)},u.prototype.getFieldType=function(){return r},u.prototype.getFieldName=function(e,t){for(var i=e.countField(t),n=this.pdfViewer.i18n.t("form-designer:prefix."+t),a=n+i;e.getField(a);)a=n+ ++i;return a},u.prototype.autoFieldName=function(e,t){var i=u.getStateName(),n="";n="CreateDateStateHandler"===i?this.pdfViewer.i18n.t("form-designer:prefix.9"):"CreateImageStateHandler"===i?this.pdfViewer.i18n.t("form-designer:prefix.8"):this.pdfViewer.i18n.t("form-designer:prefix."+t);var a="",o=0,r="";do{r=n+o,a=e.fieldsNameMap[r],o+=1}while(a);return r},u}(e)}},function(e,t,i){},function(e,t){e.exports="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAJ0AAAB9CAMAAACPvJFmAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAPBQTFRFAAAAnp6e////19fXvb29qqqq2NjY8vLyq6uroKCgoaGhra2t9PT06+vroqKi2dnZvr6+zs7OsLCw1tbWpKSk/f3939/fo6Oj6Ojo6enpn5+f09PTuLi4rq6u/Pz89fX17Ozs7e3tp6en4ODgr6+vyMjIt7e3wcHBy8vL1NTUqKio8/Pz+vr6+/v75eXltbW1wMDA3d3dysrKxcXFrKys3t7e+Pj46urq8PDw3Nzcurq6pqam1dXV9/f3u7u70tLS4uLitra2v7+/sbGx5ubmx8fHxMTE7+/v2tra5+fns7Oz0dHRxsbGvLy85OTktLS0Px/vGQAAAFB0Uk5TAP////////////////////////////////////////////////////////////////////////////////////////////////////////8MxOzIAAAC3klEQVR4nO3Z/1/SQBjAcW+AcAMn5OBsRhEZSmkpFWqWWpZFX////6ZBwG7HbezL88C96vn8eq/J27HdM2Bjg6IoiqIoiqIoiqJSxVZZep21ukhHOtKRzjRdoVgqlYqbRurKFT7Z2O1qzTzdljMfPPaWabqyI81FB/bs5ddVQmO7apauwEM6vm2Urqg889SN0pUUXSkjpHHPYN2Oy5rG6louE7sIOpDr7r5gzNtD0G0C3LM1e3zoAwSdVQ3p2hlwD73JoS6GribPCvtRBp0deSzAnO3YAe5xBlx3erB4gqGzatW/155oZzlz+/P/7SmKzrK26/7zXT3TEOsFd9U+ki57B9JV65mmOxTSLSUWrtr16voyjvGCUTp/fsXPmXXqdkUYx54ZpHvuKDjGj4zRHXsqjokXxujsBRxjDVN0XQ2OvTRE19bhmGOGrsf1urIJupOF23WqOzVAN4jAMfZq/bq+ugsHvV677o0biWPKH0fQDXdil8/icOIMWXfuuK2Y5XLkNTeO93F1Tf813IvIZc38CvUWVzd539zIL2n1+1zQJapuOgPcd/pl7fySs98j6q5m58a91i1XY2XjxA2ebhA8eAj1ecPvw7L31W+AptuUNwtxqC5/1D00qd1i6T6FZ4D4rJzY2L1kFkfS1dRTI+7k5b3o+RU66AuObvGVnINg9TRuRMjHfEXR6TYLuzhbHSXEMSb9R3C6b9qXsqd7f/z8CiV/tQulO4m4H+3eePVoyfyS847BdY3Ic8PHn2QS7HPzxAhadxFzP/Jb6zIFjnnfgXWd2M2Cqz8aLKkHqxumeeOWJ2B1SQZUiqRfUQF0leUvmCrRAtRFfHDO0Q843R3w+8rkX2Ty6hLO9nRB6W4wcKIDoztPPj5TFHy7nUvXxLD5/QTRJX4qSlkXQqf/hhAgPsyvuwLf6GaJX7l1Iyyb32+g/Q430pGOdP+8bpWl1lEURVEURVEURVH/eX8AbcRT1tWlp0EAAAAASUVORK5CYII="},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(87);var n,a=i(1),o=(n=a)&&n.__esModule?n:{default:n},r=i(4),s=i(92);function l(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=PDFViewCtrl.Deps.Hammer,u=(PDFViewCtrl.shared.activation.ActivationGroup,PDFViewCtrl.shared.keyboardStatus),p=PDFViewCtrl.ViewerEvents,f=PDFViewCtrl.PDF.annots.constant.Annot_Flags,g=UIExtension.vendors.jQuery,v=function(){function e(t,i,n,a){var o=this;d(this,e),this.editingMgr=t,this.pdfViewer=t.pdfViewer,this.pageRender=i,this.widget=n,this.annot=n;var r=n.getField().getName(),s=this.$ui=g('<div class=\'fv_\'>\n                <div class="fv_form-editing-label">\n                    <div class="fv_form-editting-label-text"></div>\n                </div>\n            </div>');i.$ui.find(".fv__pdf-form-designer-container").append(s),this.$label=s.find(".fv_form-editing-label"),this.$label.find(".fv_form-editting-label-text").text(r),this.shapeControl=new PDFViewCtrl.ShapeControl({emitter:this.pdfViewer.eventEmitter,prestart:function(e,t,i){return o.shapeControlOnStart(e,t,i)},moving:function(e,t){return o.shapeControlOnMoving(e,t)},end:function(e,t,i){return o.shapeControlOnEnd(e,t,i)},afterEnd:function(e){return o.onAfterShapeCtrlEnd(e)},resizable:!0,enableDiagonally:!0}),this.bindEvent(),this.active(a)}return e.prototype.getAnnotFlag=function(){return this.pdfViewer.annotManager.getAnnotFlag(this.annot)},e.prototype.shapeControlOnStart=function(e,t,i){this.hideSimpleProperties()},e.prototype.shapeControlOnMoving=function(e,t){this.$label.css(e)},e.prototype.onAfterShapeCtrlEnd=function(){this.shapeControl.clearCompanions()},e.prototype.shapeControlOnEnd=function(e,t,i){e.right=e.left+e.width,e.bottom=e.top+e.height;var n=this.pageRender.getAnnotRender(this.widget.getId()).component;this.pageRender.reverseDeviceRect(e).then((function(e){return n.annot.setRect(e)})).then((function(e){return n.render(n.scale,n.rotate,!0)})),this.$label.css(e)},e.prototype.bindEvent=function(){var e=this,t=this.$ui,i=this.editingMgr,n=this.hammer=new c.Manager(t[0]);n.add(new c.Tap({event:"doubletap",taps:2})),n.add(new c.Tap({event:"singletap"})),n.get("doubletap").recognizeWith("singletap"),n.get("singletap").requireFailure("doubletap"),n.on("singletap",(function(t){e.pdfViewer.isMultiSelectActive()&&e.editingMgr.getAllActiveWidgets().find((function(t){return t===e}))&&!u.isShiftDown?i.unActiveElement(e):i.activeElement(e)})),n.on("doubletap",(function(t){var n=t.srcEvent.ctrlKey;i.activeElement(e,n),e.editingMgr.isMultipleSelection()||i.setFocusWidget(e,!0)})),t.on("contextmenu",(function(t){if(t.ctrlKey)return t.preventDefault(),void t.stopPropagation();var n=!1;return i.pdfui.getComponentByName("contextmenu-form-designer").then((function(a){!e.isActive&&i.activeElement(e),7==e.widget.getField().getType()?a.children().forEach((function(e){"propertiesMenu"!=e.name&&"deleteTarget"!=e.name&&"setTabOrdern"!=e.name&&"alignment-menu"!=e.name&&e.hide()})):a.children().forEach((function(e){e.show()}));var o=e.widget.getFlags(),r=a.getComponentByName("deleteTarget");o&f.locked||o&f.readOnly?r&&r.disable():r&&r.enable(),r=a.getComponentByName("copyToPage"),1==e.widget.page.doc.getPageCount()?r.disable():r.enable(),a.setCurrentTarget(e.widget),a.showAt(t.clientX,t.clientY);var s=!0,l=!1,d=void 0;try{for(var c,u=e.editingMgr.getAllActiveWidgets()[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){if(128&c.value.widget.getFlags()){n=!0;break}}}catch(e){l=!0,d=e}finally{try{!s&&u.return&&u.return()}finally{if(l)throw d}}return i.pdfui.getComponentByName("dropdown-align")})).then((function(t){return t&&(n?t.disable():e.editingMgr.getAllActiveWidgets().length>1?t.enable():t.disable()),i.pdfui.getComponentByName("dropdown-distribute")})).then((function(t){return t&&(n?t.disable():e.editingMgr.getAllActiveWidgets().length>2?t.enable():t.disable()),i.pdfui.getComponentByName("dropdown-size")})).then((function(t){return t&&(n?t.disable():e.editingMgr.getAllActiveWidgets().length>1?t.enable():t.disable()),i.pdfui.getComponentByName("dropdown-center")})).then((function(e){e&&(n?e.disable():e.enable())})),!1}));var a=this.$ui[0],o=s.isIE10?"MSPointerDown":"pointerdown",r=function(t){if(e.hideSimpleProperties(),1===t.which&&!e.pdfViewer.isMultiSelectActive()){e.isActive||(i.activeElement(e),function(){var e=a.querySelector(".fv__shape-control-move-area");if(e){var i=void 0;s.isIE?((i=document.createEvent("MouseEvent")).initMouseEvent(o,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),i.pointerId=t.pointerId):i=new PointerEvent("pointerdown",t),e.dispatchEvent(i)}}())}};a.addEventListener(o,r),this.pdfViewer.addDestroyHook((function(){a.removeEventListener(o,r)}))},e.prototype.hideSimpleProperties=function(){this.pdfViewer.getStore().dispatch(r.HIDE_FORM_FIELD_SIMPLE_PROPERTY_BOX,!0)},e.prototype.active=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&(this.$label.addClass("active"),this.shapeControl.show(),this.isActive=!0,this.editingMgr.setFocusWidget(this)),this.$ui.addClass("fv_form-editing"),this.updateSize(),f.locked&this.widget.getFlags()?this.shapeControl.disable():this.shapeControl.enable(),this.isActive){var t=this.widget.getId(),i=this.pageRender.getAnnotRender(t);i&&this.pdfViewer.eventEmitter.emit(p.activeAnnotation,i,t,i.parent())}},e.prototype.updateSize=function(){var e=this.pageRender,t=e.page;if(e&&t){var i=t.getDeviceRect(this.widget.getRect(),this.pageRender.scale,this.pageRender.rotate);if(i.width=i.right-i.left,i.height=i.bottom-i.top,this.$label.css(i),this.isActive){var n=this.shapeControl;n.active(this.$ui,i,{left:0,top:0,right:this.pageRender.getShowWidth(),bottom:this.pageRender.getShowHeight()});var a=e.pdfViewer.getSnapGrid();a&&(a=e.formatGridOptions(a),n.setSnapGrid(a))}}},e.prototype.unActive=function(){this.$label&&this.$label.removeClass("active"),this.shapeControl.hide(),this.isActive=!1;var e=this.widget.getId(),t=this.pageRender.getAnnotRender(e);t&&this.pdfViewer.eventEmitter.emit(p.unActiveAnnotation,t,e,t.parent())},e.prototype.out=function(){this.hammer.destroy(),this.$label.remove(),this.$ui.off("mouseup contextmenu"),this.shapeControl.destroy(),this.shapeControl=null,this.$label=null,this.editingMgr=null,this.pageRender=null,this.$ui=null,this.isActive=!1},e}(),h=function(){function e(t,i,n,a,o){var r=this;d(this,e),this.pdfui=t,this.pdfViewer=i,this.dialogs=n,this.annots={},this.pages={},this.propertyDialog=a,this.simplePropertiesDialog=o,this.simplePropertiesDialog.setLabel=this.propertyDialog.setLabel=function(e){e.getField().controls.forEach((function(e){r.updateLabel(e.getWidget())}))},this.shortcutEnable=!0,this.shortcuts=[["delete",{keydown:function(e){if(r.shortcutEnable&&"input"!=(i=document.activeElement.tagName.toLocaleLowerCase())&&"textarea"!=i){var i,n=r.getAllActiveWidgets();n.length&&(n.forEach((function(e){var t=e.widget;r.removeAnnot(t)})),t.formDesignDialog.lockedHandler(!0),e.stopPropagation(e),e.preventDefault())}}}],["escape",{keydown:function(e){if(t.editingMgr.type){var i=!1;if(Object.keys(r.dialogs).sort().some((function(t){var n=r.dialogs[t];if(n&&n.dialog.isVisible)return n.hide(),e.stop(),i=!0})),i)return;r.pdfViewer.getCurrentActivatable()&&(r.pdfViewer.activeElement(),e.stop())}}}]],this.shortcuts.forEach((function(e){i.onShortcutKey.apply(i,l(e))})),this._onRenderPageSuccessListener=function(e){for(var t in r.annots){var i=r.annots[t];i.widget.page.getIndex()===e.index&&i.updateSize()}},this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.renderPageSuccess,this._onRenderPageSuccessListener),this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.copyTextSuccess,(function(){return r.copiedData=""})),this.pdfViewer.eventEmitter.on(PDFViewCtrl.ViewerEvents.copyTextFailed,(function(){return r.copiedData=""}))}return e.prototype.enableShortcut=function(e){this.shortcutEnable=e},e.prototype.updateAnnots=function(e,t,i){var n=this;if("rect-updated"!=i){var a=this.focusedEle;a&&e.forEach((function(e){e==a.widget&&(f.locked&e.getFlags()?a.shapeControl.disable():a.shapeControl.enable())}))}else e.forEach((function(e){var t=n.annots[e.getId()];t&&t.updateSize()}))},e.prototype.updateLabel=function(e){this.annots[e.getId()].$ui.find(".fv_form-editting-label-text").text(e.getField().getName())},e.prototype.destroy=function(){var e=this;this.pdfViewer.eventEmitter.off(PDFViewCtrl.ViewerEvents.renderPageSuccess,this._onRenderPageSuccessListener),this.clearEditingWidgets(),delete this.propertyDialog.setLabel,delete this.propertyDialog,this.pdfui=null,this.annots={},this.pages={},delete this.focusedEle,this.shortcuts.forEach((function(t){var i;(i=e.pdfViewer).offShortcutKey.apply(i,l(t))})),this.pdfViewer=null,delete this.shortcuts,delete this.pasteHandler,delete this.focusedEle},e.prototype.startEditingMode=function(e){var t=this.pdfViewer;try{t.getCurrentPDFDoc().getPDFForm().checkDesignPerm()}catch(e){return}var i=this.type;switch(this.clearEditingWidgets(),e){case"select-annotation":this.type=8;break;case"CreatePushButtonStateHandler":this.type=1;break;case"CreateCheckBoxStateHandler":this.type=2;break;case"CreateRadioButtonStateHandler":this.type=3;break;case"CreateComboBoxStateHandler":this.type=4;break;case"CreateListBoxStateHandler":this.type=5;break;case"CreateTextStateHandler":this.type=6;break;case"CreateSignStateHandler":this.type=7;break;case"CreateDateStateHandler":this.type=6;case"CreateImageStateHandler":this.type=1;break;default:this.type=0,this.propertyDialog.hide()}this.type?(i||(this.bHilightForm=t.highlightControls()),this.showAllFormHighLight(!1),this.showAllEditingWidget()):void 0!==this.bHilightForm&&this.showAllFormHighLight(this.bHilightForm)},e.prototype.setFocusWidget=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.propertyDialog.lockedHandler(!1),this.propertyDialog.setAnnot(e.widget),t&&this.propertyDialog.show(),this.focusedEle=e},e.prototype.showAllFormHighLight=function(e){var t=this.pdfViewer.getPDFDocRender().formRender;t&&t.setRuntimeHighlight(e),this.pdfViewer.setHighlightControlsUI(!1)},e.prototype.showAllEditingWidget=function(e){var t=this;if(this.type){var i=this.pdfViewer.getPDFDocRender();e||(e=i.getContainerVisiblePageIndexes()),e.forEach((function(e){if(!t.pages[""+e+t.type]){t.pages[""+e+t.type]=1;var n=i.getPDFPageRender(e);n.$ui.find(".fv__pdf-form-designer-container").remove(),n.$ui.append("<div class='fv__pdf-form-designer-container'></div>"),i.doc.getPageByIndex(e).then((function(e){return e.getAnnots()})).then((function(e){e.forEach((function(e){if("widget"===e.getType()){var i=e.getField();(i&&i.getType()==t.type||8==t.type)&&t.showEditingWidget(n,e,!1)}}))}))}}))}},e.prototype.showEditingWidget=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.getField()){var n=new v(this,e,t,i);return this.annots[t.getId()]=n,n}},e.prototype.afterWidgetsAdded=function(e,t){var i=this;if(this.type){var n=this.pdfViewer.getPDFDocRender();t.forEach((function(t){var a=n.getPDFPageRender(e);i.showEditingWidget(a,t,!1)}))}},e.prototype.removeElement=function(e){var t=this.pdfViewer.getCurrentActivatable();t&&(this.isMultipleSelection()?t.remove&&t.remove(e):(t.clear&&t.clear(),t.add&&t.add(e)))},e.prototype.activeElementByAnnotId=function(e,t){var i=this.annots[t];i&&this.activeElement(i)},e.prototype.activeElement=function(e){this.pdfViewer.activeElement(e),this.pdfViewer.eventEmitter.emit(o.default.fieldActivated,e.widget)},e.prototype.unActiveElement=function(e){this.pdfViewer.unActiveElement(e)},e.prototype.clearEditingWidgets=function(){this.type=0,this.pages={};var e=!0;for(var t in this.annots)e=!1;if(!e){this.pdfui.activeElement(),delete this.focusedEle;var i=this.pdfViewer.getCurrentActivatable();for(var n in i&&(i.unActive(),i.clear&&i.clear()),this.annots)this.annots[n].unActive(),this.annots[n].out();this.annots={}}},e.prototype.restoreHighlight=function(){void 0!==this.bHilightForm&&(this.pdfViewer.highlightForm(this.bHilightForm),delete this.bHilightForm)},e.prototype.isMultipleSelection=function(){return!!this.pdfViewer.isShortcutKeyEnabled()&&(PDFViewCtrl.DeviceInfo.isMac?u.isWin:u.isCtrl||u.isShift||this.copying)},e.prototype.removeAnnot=function(e){if(!(128&e.getFlags())){this.pdfViewer.getCurrentPDFDoc().getPDFForm().removeControl(e.getField().getName(),e.getObjNum()),this.pdfui.getComponentByName("contextmenu-form-designer").then((function(e){return e.hide()}));var t=this.annots[e.getId()];t&&(t.unActive(),t.out(),delete this.annots[e.getId()]);var i=-1;if(this.getAllActiveWidgets().forEach((function(t,n){t.widget==e&&(i=t)})),-1!==i){var n=this.pdfViewer.getCurrentActivatable();n&&n.remove&&n.remove(i)}}},e.prototype.zoom=function(e){for(var t in this.annots)this.annots[t].updateSize()},e.prototype.getAllActiveWidgets=function(){return this.pdfViewer.getAllActiveElements().filter((function(e){return e instanceof v}))},e}();t.default=h},function(e,t,i){var n=i(88);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};i(90)(n,a);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(89)(!1)).push([e.i,".fv__pdf-form-designer-container{\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 31;\r\n    -ms-high-contrast-adjust: none;\r\n    forced-color-adjust: none;\r\n}\r\n.fv_form-editing{\r\n    z-index:31!important;\r\n}\r\n.fv_form-editing-label{\r\n    display:flex;\r\n    \r\n    justify-content: center;\r\n    align-items: center;\r\n    position: absolute;\r\n}\r\n.fv_form-editing-label{\r\n    outline:1px solid black;\r\n    overflow: hidden;\r\n}\r\n.fv_form-editing-label.active{\r\n    outline: none;\r\n}\r\n.fv_form-editing-label>div{\r\n    background-color: black;\r\n    color:white;\r\n    white-space: nowrap;\r\n    font-size: 12px;\r\n    line-height: normal;\r\n}\r\n.fv_form-editing-label.active>div{\r\n    background-color: #5aa;\r\n}\r\n\r\n.fv_form-editing-label > .tab-number {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    padding-left: 2px;\r\n    padding-right: 3px;\r\n    color: #ffffff;\r\n    background-color: black;\r\n    z-index: 1;\r\n}\r\n    ",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var a=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[i].concat(o).concat([a]).join("\n")}var r;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(n[o]=!0)}for(a=0;a<e.length;a++){var r=e[a];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){var n,a,o={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=n.apply(this,arguments)),a}),s=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=s.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),d=null,c=0,u=[],p=i(91);function f(e,t){for(var i=0;i<e.length;i++){var n=e[i],a=o[n.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](n.parts[r]);for(;r<n.parts.length;r++)a.parts.push(b(n.parts[r],t))}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(b(n.parts[r],t));o[n.id]={id:n.id,refs:1,parts:s}}}}function g(e,t){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],r=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(s):i.push(n[r]={id:r,parts:[s]})}return i}function v(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=l(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,a)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),_(t,e.attrs),v(e,t),t}function _(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,n,a,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=c++;i=d||(d=m(t)),n=C.bind(null,i,r,!1),a=C.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",_(t,e.attrs),v(e,t),t}(t),n=T.bind(null,i,t),a=function(){h(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(t),n=w.bind(null,i),a=function(){h(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=g(e,t);return f(i,t),function(e){for(var n=[],a=0;a<i.length;a++){var r=i[a];(s=o[r.id]).refs--,n.push(s)}e&&f(g(e,t),t);for(a=0;a<n.length;a++){var s;if(0===(s=n[a]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y,F=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function C(e,t,i,n){var a=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=F(t,a);else{var o=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function w(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function T(e,t,i){var n=i.css,a=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(n=p(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var a,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=navigator.userAgent.toLowerCase(),o=/opera|opr/.test(a),r=/msie/.test(a),s=/trident/.test(a),l=/\sapplewebkit\//.test(a),d=/chrome/.test(a),c=/safari/.test(a),u=/firefox/.test(a),p=/edg\//.test(a),f=t.isIE=(s||r)&&!o&&"msSaveBlob"in navigator,g=(t.isIE10=f&&(!!(n=a.match(/msie ([\d\.]+)/))&&10===parseInt(n[1])),t.isIEAtLeast11=!r&&s&&!o),v=t.isEdge=a.indexOf("edge")>-1,h=t.isOpera=o,m=t.isWebkit=l,_=t.isChromiumEdge=!h&&d&&!!window.chrome&&p,b=t.isChrome=!h&&d&&!!window.chrome&&!p,y=t.isSafari=!/huawei/.test(a)&&!h&&c&&!d,F=t.isGecko="Gecko"==navigator.product&&!m&&!h,C=t.isFirefox=!b&&!h&&!y&&u,w=t.isMaxthon=/maxthon/.test(a),T=t.isQuirksMode="BackCompact"==document.CompactMode,x=t.isQQ=/tencenttraveler/.test(a)||/qqbrowser/.test(a),A=t.isWeChat=/wechat/.test(a),D=t.isSougou=/metasr/.test(a)||/sogou/.test(a),E=t.isBaidu=/baidubrowser/.test(a),S=t.isUC=/ucbrowser/.test(a),R=t.isLiebao=/liebao/.test(a),k=t.isMiuiBrowser=/miuibrowser/.test(a),P=t.isHuaweiBrowser=/huaweibrowser/.test(a)||/huaweialp/.test(a),$=t.is360=function(){if(x||S||D||k||R||w)return!1;if(-1===a.indexOf("chrome"))return!1;var e=function(e,t){var i=navigator.mimeTypes;for(var n in i)if(i[n][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||e}();t.isIE8=!!document.documentMode&&document.documentMode<8,t.isIE8Compact=8==document.documentMode,t.isIE9Compact=9==document.documentMode,t.isIE10Compact=10==document.documentMode,t.BROWSER_DETECTION={ie:f,ieAtLeast11:g,edge:v,"chromium-edge":_,opera:h,webkit:m,chrome:b,safari:y,gecko:F,firefox:C,maxthon:w,quirksMode:T,"quirks-mode":T,qq:x,wechat:A,sougou:D,baidu:E,liebao:R,uc:S,miui:k,huawei:P,360:$}},function(e,t,i){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,i){return function n(a,o){try{var r=t[a](o),s=r.value}catch(e){return void i(e)}if(!r.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}("next")}))}}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i));return n.pdfUI=i.pdfUI,n}var i,o,r,s;return a(t,e),t.getName=function(){return"AlignmentController"},t.prototype.mounted=function(){var e=this;this.contextmenu=this.component.getClosestComponentByType("contextmenu"),this.pdfUI.getPDFViewer().then((function(t){var i;e.pdfViewer=t,t.addEventListener("alignment",(i=n(regeneratorRuntime.mark((function t(i){var n,a=i.offsetWidth,o=i.offsetHeight;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.pdfUI.getAllActiveElements();case 2:if((n=t.sent)&&0!==n.length){t.next=5;break}return t.abrupt("return");case 5:n.forEach((function(t){e.setWidgetDeviceWidthHeight(t,{offsetWidth:a,offsetHeight:o},!0)}));case 6:case"end":return t.stop()}}),t,e)}))),function(e){return i.apply(this,arguments)}))})),this.bindShortcut()},t.prototype.align=(i=n(regeneratorRuntime.mark((function e(t){var i,n,a,o,r,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contextmenu.hide(),i=this.component.parent.currentTarget,e.next=4,this.pdfUI.getAllActiveElements();case 4:n=e.sent,a=this.parseWidgetToEditingWidget(i),o=this.getWidgetDeviceRect(a),r=this.getActiveGroupDeviceCenter([a]),n.forEach((function(e){if(e.annot.objectNumber!==a.annot.objectNumber)switch(t){case"left":s.moveToDevicePosition(e,o.left);break;case"right":var i=s.getWidgetDeviceRect(e),n=o.right-i.right+i.left;s.moveToDevicePosition(e,n);break;case"top":s.moveToDevicePosition(e,void 0,o.top);break;case"bottom":var l=s.getWidgetDeviceRect(e),d=o.bottom-l.bottom+l.top;s.moveToDevicePosition(e,void 0,d);break;case"vertically":var c=s.getActiveGroupDeviceCenter([e]),u={x:r.x-c.x,y:r.y-c.y};s.moveToDevicePoint(e,u.x,null);break;case"horizontally":var p=s.getActiveGroupDeviceCenter([e]),f={x:r.x-p.x,y:r.y-p.y};s.moveToDevicePoint(e,null,f.y)}else s.moveToDevicePoint(e,0,0)}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)}),t.prototype.center=(o=n(regeneratorRuntime.mark((function e(t){var i,n,a,o,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contextmenu.hide(),e.next=3,this.pdfUI.getAllActiveElements();case 3:i=e.sent,n=this.getActiveGroupPageDeviceCenter(i[0].pageRender||i[0].annotsRender.pageRender),a=this.getActiveGroupDeviceCenter(i),o={x:n.x-a.x,y:n.y-a.y},i.forEach((function(e){switch(t){case"vertically":r.moveToDevicePoint(e,null,o.y);break;case"horizontally":r.moveToDevicePoint(e,o.x,null);break;case"both":r.moveToDevicePoint(e,o.x,o.y)}}));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)}),t.prototype.distribute=(r=n(regeneratorRuntime.mark((function e(t){var i,n,a,o,r,s,l,d,c,u,p,f,g=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contextmenu.hide(),e.next=3,this.pdfUI.getAllActiveElements();case 3:i=e.sent,n=[],a=[],o=[],i.forEach((function(e){var t=g.getActiveGroupDeviceCenter([e]);n.push(t.x),a.push(t.y),e.deviceCenter=t,o.push(e)})),r=Math.min.apply(Math,n),s=Math.max.apply(Math,n),l=Math.min.apply(Math,a),d=Math.max.apply(Math,a),c=(s-r)/(i.length-1),u=(d-l)/(i.length-1),e.t0=t,e.next="horizontally"===e.t0?10:"vertically"===e.t0?14:18;break;case 10:return o.sort((function(e,t){return e.deviceCenter.x-t.deviceCenter.x>0?1:-1})),p=1,o.forEach((function(e){var t=e.deviceCenter;if(t.x!==r&&t.x!==s){var i=r+c*p;g.moveToDevicePoint(e,i-t.x),p+=1}else g.moveToDevicePoint(e,0,0)})),e.abrupt("break",19);case 14:return o.sort((function(e,t){return e.deviceCenter.y-t.deviceCenter.y>0?1:-1})),f=1,o.forEach((function(e){var t=e.deviceCenter;if(t.y!==l&&t.y!==d){var i=l+u*f;g.moveToDevicePoint(e,void 0,i-t.y),f+=1}else g.moveToDevicePoint(e,0,0)})),e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),t.prototype.size=(s=n(regeneratorRuntime.mark((function e(t){var i,n,a,o,r,s,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.contextmenu.hide(),i=this.component.parent.currentTarget,e.next=4,this.pdfUI.getAllActiveElements();case 4:n=e.sent,a=this.parseWidgetToEditingWidget(i),o=this.getWidgetDeviceRect(a),r=o.right-o.left,s=o.bottom-o.top,n.forEach((function(e){if(e.annot.objectNumber!==a.annot.objectNumber)switch(t){case"height":l.setWidgetDeviceWidthHeight(e,{deviceHeight:s});break;case"width":l.setWidgetDeviceWidthHeight(e,{deviceWidth:r});break;case"both":l.setWidgetDeviceWidthHeight(e,{deviceWidth:r,deviceHeight:s})}else l.moveToDevicePoint(e,0,0)}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)}),t.prototype.getWidgetDeviceRect=function(e){var t=e.annot,i=e.pageRender||e.annotsRender.pageRender,n=i.getScale(),a=i.getRotation();return t.getDeviceRect(n,a)},t.prototype.getActiveGroupDeviceCenter=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=[],n=[],a=[],o=[];t.forEach((function(t){var r=e.getWidgetDeviceRect(t);i.push(r.left),n.push(r.top),a.push(r.right),o.push(r.bottom)}));var r={left:Math.min.apply(Math,i),top:Math.min.apply(Math,n),right:Math.max.apply(Math,a),bottom:Math.max.apply(Math,o)};return{x:(r.left+r.right)/2,y:(r.top+r.bottom)/2}},t.prototype.getActiveGroupPageDeviceCenter=function(e){var t=this.getPageDeviceInfo(e),i=t.deviceHeight;return{x:t.deviceWidth/2,y:i/2}},t.prototype.getPageDeviceInfo=function(e){return{deviceWidth:e.getShowWidth(),deviceHeight:e.getShowHeight()}},t.prototype.moveToDevicePoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this.getWidgetDeviceRect(e),a=n.left,o=n.top,r=n.right,s=n.bottom;a+=t,o+=i,r+=t,s+=i,this.moveTo(e,{left:a,top:o,right:r,bottom:s})},t.prototype.moveToDevicePosition=function(e,t,i){var n=this.getWidgetDeviceRect(e);t=void 0===t?n.left:t,i=void 0===i?n.top:i;var a=t-n.left+n.right,o=i-n.top+n.bottom;this.moveTo(e,{left:t,top:i,right:a,bottom:o})},t.prototype.moveTo=function(e,t){var i=t.left,n=t.top,a=t.right,o=t.bottom,r=e.pageRender||e.annotsRender.pageRender,s=e.annot,l=s.page,d=r.getScale(),c=r.getRotation(),u=this.checkBoundsOut(r,{left:i,top:n,right:a,bottom:o}),p=l.reverseDeviceRect(u,d,c);"widget"===s.getType()?s.setRect(p).then((function(){s.updateUI({});var e=s.getField(),t=e.getDisplayValue();t&&e.showDisplayValue(t)})):e.moveTo(u.left,u.top,"move",!0)},t.prototype.setWidgetDeviceWidthHeight=function(e,t){var i=t.deviceWidth,n=t.deviceHeight,a=t.offsetWidth,o=t.offsetHeight,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.pageRender||e.annotsRender.pageRender,l=e.annot,d=l.page,c=s.getScale(),u=s.getRotation(),p=this.getWidgetDeviceRect(e);if(void 0!==i?p.right=p.left+i:void 0!==a&&(p.right+=a),void 0!==n?p.bottom=p.top+n:void 0!==o&&(p.bottom+=o),!r||!this.isBoundsOut(s,p))if(p=this.checkBoundsOut(s,p),"widget"===l.getType()){var f=d.reverseDeviceRect(p,c,u);l.setRect(f).then((function(){if(l.updateUI){l.updateUI({});var e=l.getField(),t=e.getDisplayValue();t&&e.showDisplayValue(t)}}))}else{var g=s.getAnnotRender(l.getId()),v=g.component;v.setRect({left:p.left,top:p.top,width:p.right-p.left,height:p.bottom-p.top}).then((function(e){v.movedByOther()}))}},t.prototype.checkBoundsOut=function(e,t){var i=t.top,n=t.left,a=t.bottom,o=t.right,r=this.getPageDeviceInfo(e),s=r.deviceHeight,l=r.deviceWidth;return i<0&&(i=0),n<0&&(n=0),o>l?(n-=o-l,o=l):o-n<10&&(o=n+10),a>s?(i-=a-s,a=s):a-i<10&&(a=i+10),{top:i,left:n,bottom:a,right:o}},t.prototype.isBoundsOut=function(e,t){var i=t.top,n=t.left,a=t.bottom,o=t.right,r=this.getPageDeviceInfo(e),s=r.deviceHeight,l=r.deviceWidth;return i<0||n<0||a>s||o>l},t.prototype.parseWidgetToEditingWidget=function(e){var t=void 0;return e.getType&&"widget"===e.getType()?t=e.getPage():(t=e.getPDFPage(),e=e.annot),{widget:e,pageRender:this.pdfViewer.getPDFPageRender(t.getIndex()),annot:e}},t.prototype.bindShortcut=function(){var e,t=this,i=(e=n(regeneratorRuntime.mark((function e(i){var n,a,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pdfUI.getAllActiveElements();case 2:if(n=e.sent,a=i.keyCode,o=i.ctrlKey,r=i.shiftKey,n&&0!==n.length){e.next=6;break}return e.abrupt("return");case 6:r&&o&&38===a?(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetHeight:-10})):r&&o&&40===a?(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetHeight:10})):r&&o&&37===a?(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetWidth:-10})):r&&o&&39===a?(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetWidth:10})):o&&38===a?(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetHeight:-1})):o&&40===a?(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetHeight:1})):o&&37===a?(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetWidth:-1})):o&&39===a&&(i.preventDefault(),i.stopPropagation(),t.pdfViewer.eventEmitter.emit("alignment",{offsetWidth:1}));case 7:case"end":return e.stop()}}),e,t)}))),function(t){return e.apply(this,arguments)});document.body.addEventListener("keydown",i,!0),this.addDestroyHook((function(){document.body.removeEventListener("keydown",i,!0)}))},t}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)).Controller);t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,a=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2)),s=i(1),l=(n=s)&&n.__esModule?n:{default:n};function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var f=function(){},g=r.PDFViewCtrl.Events,v=PDFViewCtrl.PDF.constant.User_Permissions,h=function(e){function t(){return c(this,t),u(this,e.apply(this,arguments))}return p(t,e),t.getName=function(){return"ResetFormController"},t.prototype.mounted=function(){var t,i=this;e.prototype.mounted.call(this);var n=this.getPDFUI();this.addDestroyHook(this.getPDFUI().addViewerEventListener((d(t={},PDFViewCtrl.ViewerEvents.openFileSuccess,(function(e){i.changePermission(e)})),d(t,l.default.fieldAdded,(function(e,t,a){n.getCurrentPDFDoc().then((function(e){i.changePermission(e)}))})),d(t,g.annotationRemoved,(function(e){n.getCurrentPDFDoc().then((function(e){i.changePermission(e)}))})),t)))},t.prototype.handle=function(){var e=this.getPDFUI();e.confirm("form-designer:resetFieldsConfirm").then((function(){e.getPDFDocRender().then((function(e){var t=e.getPDFDoc().getPDFForm(),i=t.getFieldCount();if(i>0){for(var n=[],a=0;a<i;a++){var o=t.getFieldByIndex(a);n.push(o.getName())}Promise.resolve(e.formRender.blurControl()).then((function(e){t.resetForm(n)}))}}))}),f)},t.prototype.changePermission=function(e){var t=this,i=this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()}));Promise.all([e.hasForm(),i]).then((function(e){var i=a(e,2),n=i[0];i[1]&t.constructor.permission&&n?t.component.lock&&t.component.unlock():t.component.lock&&t.component.lock()}))},o(t,null,[{key:"permission",get:function(){return v.modify+v.annotForm+v.fillForm}}]),t}(r.Controller);t.default=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(2));function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var a=i[n],o=Object.getOwnPropertyDescriptor(t,a);o&&o.configurable&&void 0===e[a]&&Object.defineProperty(e,a,o)}}(e,t))}var l=a.PDFViewCtrl.Events,d=PDFViewCtrl.PDF.constant.User_Permissions,c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return s(t,e),t.getName=function(){return"AddTooltipController"},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.addDestroyHook(this.pdfUI.addViewerEventListener(l.openFileSuccess,(function(e){t.changePermission(e)})))},t.prototype.handle=function(){this.getPDFUI().addTooltipsForAllFormFields()},t.prototype.changePermission=function(e){var t=this;this.getPDFUI().getPDFDocRender().then((function(e){return e.getUserPermission().getValue()})).then((function(e){e&t.constructor.permission?t.component.unlock&&t.component.unlock():t.component.lock&&t.component.lock()}))},n(t,null,[{key:"permission",get:function(){return d.modify}}]),t}(a.Controller);t.default=c},function(e,t,i){}]).default}));