!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],n):"object"==typeof exports?exports.PrintUIXAddon=n(require("UIExtension")):t.PrintUIXAddon=n(t.UIExtension)}(self,(function(t){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,function(n){return t[n]}.bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(n,e){n.exports=t},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o,r=n.isTouchDevice=(o=" -webkit- -moz- -o- -ms- ".split(" "),!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)||(i=["(",o.join("touch-enabled),("),"heartz",")"].join(""),!!window.matchMedia&&window.matchMedia(i).matches)),a=navigator.userAgent.toLowerCase(),p=n.isMac=/macintosh|mac os x/.test(a),s=n.isIOS=/ipad|iphone|ipod/.test(a),d=n.isIPHONE=/iphone/.test(a),l=n.isIPAD=/ipad/.test(a),u=n.isIPOD=/ipod/.test(a),c=n.isAndroid=/android/.test(a),f=n.isBlackBerry=/blackberry/.test(a),g=n.isWebOS=/webos/.test(a),m=n.isKindle=/silk|kindle/.test(a),v=n.isTablet=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(a),b=n.isMobile=!v&&(/mobile/.test(a)||s||c||f||g||m),h=n.isDesktop=!(b||v||c||d||l||u||m||g),_=n.isMiPad=/(MI(.*|\s*)PAD).*/i.test(a),y=n.isXiaomi=!_&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(a),w=n.isHuawei=/HUAWEI/.test(navigator.userAgent);n.DEVICE_DETACTION={mac:p,ios:s,iphone:d,ipad:l,ipod:u,android:c,blackberry:f,webos:g,kindle:m,tablet:v,mobile:b,desktop:h,xiaomi:y,huawei:w,touch:r}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(0)),o=s(e(3)),r=s(e(4)),a=s(e(8)),p=s(e(12));function s(t){return t&&t.__esModule?t:{default:t}}function d(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):function(t,n){for(var e=Object.getOwnPropertyNames(n),i=0;i<e.length;i++){var o=e[i],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===t[o]&&Object.defineProperty(t,o,r)}}(t,n))}var c=i.Controller,f=function(t){function n(){return d(this,n),l(this,t.apply(this,arguments))}return u(n,t),n.getName=function(){return"print"},n.getLoader=function(){return o.default},n.init=function(){var t=i.modular.module("print",[]);t.registerController(r.default),t.registerPreConfiguredComponent("contextmenu-item-print",{template:'<contextmenu-item name="fv--contextmenu-item-print" @controller="print:ShowPrintDialogController" shortcut="Ctrl + P">print:button-tooltip.title</contextmenu-item>'}),t.registerPreConfiguredComponent("print-button",{template:'<xbutton @tooltip name="print-button" icon-class="fv__icon-toolbar-print" @controller="print:ShowPrintDialogController">print:button-tooltip.title</xbutton>',config:[{target:"print-button",tooltip:{title:"print:button-tooltip.title"}}]});var n=function(t){function n(){return d(this,n),l(this,t.apply(this,arguments))}return u(n,t),n.prototype.mounted=function(){var t=this.component.findClosestComponent((function(t){return"print-dialog"===t.name}));this.printDialogController=t.controller},n}(c);t.registerFragment("print-dialog",{template:(0,a.default)(),config:[{target:"print-dialog",callback:p.default},{target:"print-dropdown-page-size>@dropdown-button",callback:function(t){function n(){return d(this,n),l(this,t.apply(this,arguments))}return u(n,t),n.prototype.mounted=function(){t.prototype.mounted.call(this);var n=this.component,e=n.element.getAttribute("data-page-size");this.pageSize=i.PDFViewCtrl.PDF.constant.PAPER_SIZES[e],this.pageSize===this.printDialogController.pageSize&&n.parent.select(n)},n.prototype.handle=function(){this.component.parent.select(this.component),this.printDialogController.pageSize=this.pageSize},n}(n)},{target:"fv--print-hide-header-footer",callback:function(t){function n(){return d(this,n),l(this,t.apply(this,arguments))}return u(n,t),n.prototype.mounted=function(){var n=this;t.prototype.mounted.call(this),this.component.on("change",(function(){n.printDialogController.hideHeaderFooter=n.component.getValue()})),this.component.setValue(this.printDialogController.hideHeaderFooter)},n}(n)},{target:"dropdown-dpi>@dropdown-button",callback:function(t){function n(){return d(this,n),l(this,t.apply(this,arguments))}return u(n,t),n.prototype.mounted=function(){t.prototype.mounted.call(this);var n=this.component,e=n.element.getAttribute("data-dpi");this.dpi=parseInt(e),this.printDialogController.dpi===this.dpi&&n.parent.select(n)},n.prototype.handle=function(){this.component.parent.select(this.component),this.printDialogController.dpi=this.dpi},n}(n)}]})},n.prototype.fragments=function(){return[]},n}(i.UIXAddon);n.default=f},function(t,n){t.exports=null},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(0));e(5);var r=e(6),a=e(1);function p(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):function(t,n){for(var e=Object.getOwnPropertyNames(n),i=0;i<e.length;i++){var o=e[i],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===t[o]&&Object.defineProperty(t,o,r)}}(t,n))}var s=function(t){function n(e){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,e))}return p(n,t),n.getName=function(){return"ShowPrintDialogController"},n.prototype.mounted=function(){var n=this;t.prototype.mounted.call(this);this.getPDFUI().getKeyboardEventBinder(o.UIConsts.PDFUI_BINDER).then((function(t){try{t.registerKeybinding("print-command",a.isMac?"Meta+P":"Ctrl+P")}catch(t){return}n.addDestroyHook(t.before("print-command",(function(t){t.preventDefault(),n.component.isLocked||n.handle()})))}))},n.prototype.handle=function(){(0,r.supportedPrint)()?(this.getPDFUI().activeElement(null),this.getComponentByName("print-dialog").open(document.body)):this.getPDFUI().alert("print:dialog.unsupported.message","print:dialog.unsupported.title")},i(n,null,[{key:"permission",get:function(){return 4}}]),n}(o.Controller);n.default=s},function(t,n,e){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.supportedPrint=function(){return!i.isMobile||o.isChrome||o.isSafari};var i=e(1),o=e(7)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=navigator.userAgent.toLowerCase(),o=/opera|opr/.test(i),r=/msie/.test(i),a=/trident/.test(i),p=/\sapplewebkit\//.test(i),s=/chrome/.test(i),d=/safari/.test(i),l=/firefox/.test(i),u=n.isIE=(a||r)&&!o&&"msSaveBlob"in navigator,c=n.isIEAtLeast11=!r&&a&&!o,f=n.isEdge=i.indexOf("edge")>-1,g=n.isOpera=o,m=n.isWebkit=p,v=n.isChrome=!g&&s&&!!window.chrome,b=n.isSafari=!/huawei/.test(i)&&!g&&d&&!s,h=n.isGecko="Gecko"==navigator.product&&!m&&!g,_=n.isFirefox=!v&&!g&&!b&&l,y=n.isMaxthon=/maxthon/.test(i),w=n.isQuirksMode="BackCompact"==document.CompactMode,E=n.isQQ=/tencenttraveler/.test(i)||/qqbrowser/.test(i),O=n.isSougou=/metasr/.test(i)||/sogou/.test(i),A=n.isBaidu=/baidubrowser/.test(i),P=n.isUC=/ucbrowser/.test(i),D=n.isLiebao=/liebao/.test(i),I=n.isMiuiBrowser=/miuibrowser/.test(i),C=n.isHuaweiBrowser=/huaweibrowser/.test(i)||/huaweialp/.test(i),T=n.is360=function(){if(E||P||O||I||D||y)return!1;if(-1===i.indexOf("chrome"))return!1;var t=function(t,n){var e=navigator.mimeTypes;for(var i in e)if(e[i][t]==n)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||t}();n.isIE8=!!document.documentMode&&document.documentMode<8,n.isIE8Compact=8==document.documentMode,n.isIE9Compact=9==document.documentMode,n.isIE10Compact=10==document.documentMode,n.BROWSER_DETECTION={ie:u,ieAtLeast11:c,edge:f,opera:g,webkit:m,chrome:v,safari:b,gecko:h,firefox:_,maxthon:y,quirksMode:w,"quirks-mode":w,qq:E,sougou:O,baidu:A,liebao:D,uc:P,miui:I,huawei:C,360:T}},function(t,n,e){e(9);t.exports=function(t){"use strict";t=t||{};return'<layer name="print-dialog" class="fv__ui-print-layer center" append-to="body" @draggable>\n    <layer-header title="print:dialog.printDialog.title"></layer-header>\n    <div class="fv__ui-print-dialog" @stop-drag>\n        <div class="fv__ui-print-dialog-body">\n            <div class="fv__ui-print-item" name="range-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.range"></div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="all"/><span data-i18n="print:dialog.printDialog.all"></span></label>\n                </div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="current"/><span data-i18n="print:dialog.printDialog.current"></span></label>\n                </div>\n                <div class="fv__ui-print-range fv__ui-force-hide">\n                    <label>\n                        <input name="print-range" type="radio" value="fromTo"/>\n                        <span data-i18n="print:dialog.printDialog.from"></span>\n                        <input class="print-common-input" type="number" min="1" name="range-from"/>\n                        <span data-i18n="print:dialog.printDialog.to"></span>\n                        <input class="print-common-input" type="number" name="range-to"/>\n                    </label>\n                </div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="assign"/><span data-i18n="print:dialog.printDialog.assign"></span><input class="print-common-input" type="text" name="range-assign"/><span>1,2,5-8</span></label>\n                </div>\n            </div>\n            <div class="fv__ui-print-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.comments"></div>\n                <div class="fv__ui-print-comments">\n                    <label><input name="print-comments" type="checkbox" value=""/><span data-i18n="print:dialog.printDialog.printComments"></span></label>\n                </div>\n            </div>\n            <div class="fv__ui-print-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.printer"></div>\n                <div class="fv__ui-print-comments">\n                    <label>\n                        <dropdown name="dropdown-dpi" separate="false">\n                            <dropdown-button name="96dpi" data-dpi="96">96</dropdown-button>\n                            <dropdown-button name="300dpi" data-dpi="300">300</dropdown-button>\n                            <dropdown-button name="600dpi" data-dpi="600">600</dropdown-button>\n                            <dropdown-button name="1200dpi" data-dpi="1200">1200</dropdown-button>\n                        </dropdown>\n                        <span>  DPI</span>\n                    </label>\n                </div>\n                <div class="fv__ui-print-comments  fv__ui-print-hidden-features">\n                    <label>\n                        <input name="fv--print-hide-header-footer" type="checkbox">\n                        <span data-i18n="print:dialog.printDialog.hideHeaderFooter"></span>\n                    </label>\n                </div>\n                <div class="fv__ui-print-comments fv__ui-print-hidden-features">\n                    <dropdown name="print-dropdown-page-size" separate="false">\n                        <dropdown-button data-page-size="ISO_A0">A0</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A1">A1</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A2">A2</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A3">A3</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A4">A4</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A5">A5</dropdown-button>\n                    </dropdown>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-print-dialog-footer">\n            <div class="fv__ui-print-dialog-btns">\n                <button class="fv__ui-print-btn fv__ui-print-dialog-cancel" data-i18n="print:dialog.cancel" name="print-dialog-close-btn"></button>\n                <button class="fv__ui-print-btn fv__ui-print-dialog-ok" data-i18n="print:dialog.ok" name="print-dialog-ok-btn"></button>\n            </div>\n        </div>\n    </div>\n</layer>','<layer name="print-dialog" class="fv__ui-print-layer center" append-to="body" @draggable>\n    <layer-header title="print:dialog.printDialog.title"></layer-header>\n    <div class="fv__ui-print-dialog" @stop-drag>\n        <div class="fv__ui-print-dialog-body">\n            <div class="fv__ui-print-item" name="range-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.range"></div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="all"/><span data-i18n="print:dialog.printDialog.all"></span></label>\n                </div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="current"/><span data-i18n="print:dialog.printDialog.current"></span></label>\n                </div>\n                <div class="fv__ui-print-range fv__ui-force-hide">\n                    <label>\n                        <input name="print-range" type="radio" value="fromTo"/>\n                        <span data-i18n="print:dialog.printDialog.from"></span>\n                        <input class="print-common-input" type="number" min="1" name="range-from"/>\n                        <span data-i18n="print:dialog.printDialog.to"></span>\n                        <input class="print-common-input" type="number" name="range-to"/>\n                    </label>\n                </div>\n                <div class="fv__ui-print-range">\n                    <label><input name="print-range" type="radio" value="assign"/><span data-i18n="print:dialog.printDialog.assign"></span><input class="print-common-input" type="text" name="range-assign"/><span>1,2,5-8</span></label>\n                </div>\n            </div>\n            <div class="fv__ui-print-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.comments"></div>\n                <div class="fv__ui-print-comments">\n                    <label><input name="print-comments" type="checkbox" value=""/><span data-i18n="print:dialog.printDialog.printComments"></span></label>\n                </div>\n            </div>\n            <div class="fv__ui-print-item">\n                <div class="fv__ui-print-item-title" data-i18n="print:dialog.printDialog.printer"></div>\n                <div class="fv__ui-print-comments">\n                    <label>\n                        <dropdown name="dropdown-dpi" separate="false">\n                            <dropdown-button name="96dpi" data-dpi="96">96</dropdown-button>\n                            <dropdown-button name="300dpi" data-dpi="300">300</dropdown-button>\n                            <dropdown-button name="600dpi" data-dpi="600">600</dropdown-button>\n                            <dropdown-button name="1200dpi" data-dpi="1200">1200</dropdown-button>\n                        </dropdown>\n                        <span>  DPI</span>\n                    </label>\n                </div>\n                <div class="fv__ui-print-comments  fv__ui-print-hidden-features">\n                    <label>\n                        <input name="fv--print-hide-header-footer" type="checkbox">\n                        <span data-i18n="print:dialog.printDialog.hideHeaderFooter"></span>\n                    </label>\n                </div>\n                <div class="fv__ui-print-comments fv__ui-print-hidden-features">\n                    <dropdown name="print-dropdown-page-size" separate="false">\n                        <dropdown-button data-page-size="ISO_A0">A0</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A1">A1</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A2">A2</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A3">A3</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A4">A4</dropdown-button>\n                        <dropdown-button data-page-size="ISO_A5">A5</dropdown-button>\n                    </dropdown>\n                </div>\n            </div>\n        </div>\n        <div class="fv__ui-print-dialog-footer">\n            <div class="fv__ui-print-dialog-btns">\n                <button class="fv__ui-print-btn fv__ui-print-dialog-cancel" data-i18n="print:dialog.cancel" name="print-dialog-close-btn"></button>\n                <button class="fv__ui-print-btn fv__ui-print-dialog-ok" data-i18n="print:dialog.ok" name="print-dialog-ok-btn"></button>\n            </div>\n        </div>\n    </div>\n</layer>'}},function(t,n,e){"use strict";t.exports=e(10)},function(t,n,e){"use strict";(function(n){
/*! art-template@runtime | https://github.com/aui/art-template */
var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},i=Object.create(e),o=/["&'<>]/;i.$escape=function(t){return function(t){var n=""+t,e=o.exec(n);if(!e)return t;var i="",r=void 0,a=void 0,p=void 0;for(r=e.index,a=0;r<n.length;r++){switch(n.charCodeAt(r)){case 34:p="&#34;";break;case 38:p="&#38;";break;case 39:p="&#39;";break;case 60:p="&#60;";break;case 62:p="&#62;";break;default:continue}a!==r&&(i+=n.substring(a,r)),a=r+1,i+=p}return a!==r?i+n.substring(a,r):i}(function t(n){"string"!=typeof n&&(n=null==n?"":"function"==typeof n?t(n.call(n)):JSON.stringify(n));return n}(t))},i.$each=function(t,n){if(Array.isArray(t))for(var e=0,i=t.length;e<i;e++)n(t[e],e);else for(var o in t)n(t[o],o)},t.exports=i}).call(this,e(11))},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,o=!1,r=void 0;try{for(var a,p=t[Symbol.iterator]();!(i=(a=p.next()).done)&&(e.push(a.value),!n||e.length!==n);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&p.return&&p.return()}finally{if(o)throw r}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(0)),r=e(13);function a(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):function(t,n){for(var e=Object.getOwnPropertyNames(n),i=0;i<e.length;i++){var o=e[i],r=Object.getOwnPropertyDescriptor(n,o);r&&r.configurable&&void 0===t[o]&&Object.defineProperty(t,o,r)}}(t,n))}var p=o.PDFViewCtrl.Deps.jQuery,s=(o.PDFViewCtrl.Events,function(t){function n(e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,t.call(this,e));return i.startIndex=0,i.endIndex=0,i.pageCount=0,i.hideHeaderFooter=!1,i.dpi=96,i.pageSize=o.PDFViewCtrl.PDF.constant.PAPER_SIZES.ISO_A4,i.fromToArray=[],i}return a(n,t),n.prototype.mounted=function(){var n=this;this.dpiComponent=this.component.getComponentByName("dropdown-dpi"),this.component.on(r.COMPONENT_EVENTS.SHOWN,(function(){n.getPDFUI().getCurrentPDFDoc().then((function(t){n.pageCount=t.getPageCount(),n.getPDFUI().getPDFDocRender().then((function(t){if(!t.getUserPermission().checkPrintHigh()){var e=n.component.getComponentByName("96dpi");e.parent.select(e),n.dpiComponent.disable()}}))}))})),this.component.on(r.COMPONENT_EVENTS.HIDDEN,(function(){[n.$rangeFrom,n.$rangeTo,n.$rangeAssign].forEach((function(t){return t.removeClass("fv__print-error")}))})),t.prototype.mounted.call(this),this.$closeBtn=p(this.component.getComponentByName("print-dialog-close-btn").element),this.$okBtn=p(this.component.getComponentByName("print-dialog-ok-btn").element),this.$range=p(this.component.getComponentByName("range-item").element),this.$rangeFrom=p(this.component.getComponentByName("range-from").element),this.$rangeTo=p(this.component.getComponentByName("range-to").element),this.$rangeAssign=p(this.component.getComponentByName("range-assign").element),this.$printComments=p(this.component.getComponentByName("print-comments").element),this.$printDPI=p(this.dpiComponent.element),this._bindEvent()},n.prototype._bindEvent=function(){var t=this,n=this,e=this.getPDFUI();function o(){n.$rangeFrom.prop({disabled:!0}),n.$rangeTo.prop({disabled:!0})}function r(){n.$rangeAssign.prop({disabled:!0})}function a(){p(".fv__print-error").removeClass("fv__print-error")}this.$range.find("[value='current']").prop({checked:"checked"}),o(),r(),a(),this.$closeBtn.on("click",(function(){t.component.hide()})),this.$range.find("[name='print-range']").on("change",(function(n){var e=n.target.value;switch(a(),e){case"fromTo":t.$rangeFrom.prop({disabled:!1}),t.$rangeTo.prop({disabled:!1}),r();break;case"assign":t.$rangeAssign.prop({disabled:!1}),o();break;default:r(),o()}})),this.$rangeFrom.on("input",(function(e){var i=e.target.value;i>n.pageCount?t.$rangeFrom.val(n.pageCount):i>n.$rangeTo.val()&&n.$rangeTo.val(i)})),this.$rangeTo.on("input",(function(e){e.target.value>n.pageCount&&t.$rangeTo.val(n.pageCount)})),this.$okBtn.on("click",(function(){e.getPDFDocRender().then((function(e){var o={fromToArray:[]},r=o.rangeType=t.$range.find("[name='print-range']:checked").val();switch(r){case"all":o.startIndex=0,o.endIndex=n.pageCount-1;break;case"current":o.startIndex=e.getCurrentPageIndex(),o.endIndex=o.startIndex;break;case"fromTo":if(o.startIndex=n.$rangeFrom.val()-1,o.endIndex=n.$rangeTo.val()-1,o.startIndex<0||o.startIndex>n.pageCount-1)return void t.showError(n.$rangeFrom);if(o.endIndex<0||o.endIndex>n.pageCount-1)return void t.showError(n.$rangeTo);break;default:var a=n.$rangeAssign.val();if(new RegExp(/[^\d\-,]/).test(a))return void t.showError(n.$rangeAssign);for(var p=a.split(","),s=0;s<p.length;s++){var d=p[s];if(d.indexOf("-")>-1){var l=d.split("-"),u=i(l,3),c=u[0],f=u[1];if(u[2]||""===f)return void t.showError(n.$rangeAssign);var g=Math.min(+c,+f),m=Math.max(+c,+f);if(g<1||m>n.pageCount)return void t.showError(n.$rangeAssign);o.fromToArray.push([g,m])}else{if(d<1||d>n.pageCount)return void t.showError(n.$rangeAssign);o.fromToArray.push([+d,+d])}}}var v=t.$printComments.prop("checked");o.printType=v?["page","annot"]:["page"];var b=0;if("assign"===r)for(var h=0;h<o.fromToArray.length;h++){b+=o.fromToArray[h][1]-o.fromToArray[h][0]+1}else b=o.endIndex-o.startIndex+1;o.total=b,o.dpi=t.api,o.pageSize=t.pageSize,o.hideHeaderFooter=t.hideHeaderFooter,t.component.hide(),t.getPDFUI().printPDFDocument(o)}))}))},n.prototype.showError=function(t){t.addClass("fv__print-error")},n}(o.Controller));n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.ORIENTATION_VERTICAL="vertical",n.ORIENTATION_HORIZONTAL="horizontal",n.ROOT_MODULE_NAME="",n.WEBPDF_VIEWER_COMPONENT_NAME="pdf-viewer",n.NAMESPACE_SEPERATOR=":",n.PDFUI_BINDER="pdfui-event-binder",n.MODAL_LAYER_BINDER="pdfui-default-modal-binder",n.KEY_MAP_OPEN_SIDEBAR="pdfui-open-sidebar",n.KEY_MAP_CLOSE_SIDEBAR="pdfui-close-sidebar",n.KEY_MAP_OPEN_QUICK_SEARCH="pdfui-open-quick-search",n.KEY_MAP_EXIT_TO_HAND_STATE="pdfui-exit-to-hand-state",n.KEY_MAP_EXIT_LAYER="pdfui-exit-modal-layer",n.KEY_MAP_COPY_ANNOT="pdfui-copy-annot",n.COMPONENT_BROADCAST_LOCALIZE="localize",n.FRAGMENT_ACTION={BEFORE:"before",AFTER:"after",APPEND:"append",PREPEND:"prepend",INSERT:"insert",FILL:"fill",REPLACE:"replace",EXT:"ext",REMOVE:"remove"},n.FRAGMENT_SELECT_HANDLER={THROW_ERROR_IF_NOT_FOUND:"throw",LOG_MESSAGE_IF_NOT_FOUND:"warn",IGNORE_IF_NOT_FOUND:"ignore"},n.COMPONENT_EVENTS={DISABLE:"disable",ENABLE:"enable",ACTIVE:"active",DEACTIVE:"deactive",SHOWN:"shown",HIDDEN:"hidden",DESTROYED:"destroyed",REMOVED:"removed",CHILD_INSERTED:"child_inserted",INSERTED:"inserted",MOUNTED:"mounted",CLOSED:"closed",EXPAND:"expand",BEFORE_EXPAND:"before_expand",RESIZESTART:"resizestart",RESIZE:"resize",COLLAPSE:"collapse"}}]).default}));