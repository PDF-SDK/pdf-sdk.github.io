(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{449:function(e,t,a){"use strict";a.r(t);var n=a(56),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"security"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#security"}},[e._v("#")]),e._v(" Security")]),e._v(" "),a("p",[e._v("webViewer Server adopts JSON Web Token (jwt) type to authenticate the user access. Your Authentication Server generates a token that certifies the user identity, and sends it to Foxit Web Viewer. Web Viewer will send the token back to webViewer Server to let the server know this particular identity has the permission to the access certain documents.")]),e._v(" "),a("p",[e._v("You may refer to "),a("a",{attrs:{href:"https://jwt.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("jwt.io"),a("OutboundLink")],1),e._v(" for how to generate JWT token.")]),e._v(" "),a("p",[e._v("Currently, webViewer Server only recognizes the 'exp (expiration time)' claim specified inside the JWT. Once the token is on or after this "),a("code",[e._v("exp")]),e._v(" value, the request with this token becomes invalid, and not be accepted or processed.")]),e._v(" "),a("h2",{attrs:{id:"enable-jwt-validation-on-webviewer-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enable-jwt-validation-on-webviewer-server"}},[e._v("#")]),e._v(" Enable JWT validation on webViewer server")]),e._v(" "),a("p",[e._v("By default, the JWT Authentication is disabled, but can be enabled by configuring the "),a("code",[e._v("docker-compose.yml")]),e._v(" file.  Currently, the supported algorithm is HS256，HS384，HS512，RS256 ，RS384，RS512. This section will take HS256 and RS256 as examples to configure the yml file.")]),e._v(" "),a("p",[a("strong",[e._v("Enable  HS256 validation example")])]),e._v(" "),a("p",[e._v("Suppose the private key is 123, then in the "),a("code",[e._v("docker-compose.yml")]),e._v(", add the following environment variables:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("S8_WEBPDF_SECRET_JWT_ALG")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("HS256\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("S8_WEBPDF_SECRET_JWT_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("MTIz\n")])])]),a("p",[e._v("The MTIz is the base64 form of private key 123. In your Authentication server, you will pass the HS256 and MTIz to genenrate a token, and pass it to the clien side - webViewer.")]),e._v(" "),a("p",[a("strong",[e._v("Enable RS256 validation example")])]),e._v(" "),a("p",[e._v("1.Use RS256 to generate a pair of private and public key:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("openssl genrsa -out rs256.key "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2048")]),e._v("\nopenssl rsa -in rs256.key -pubout  -outform PEM -out rs256_pub.pem\n")])])]),a("p",[e._v("An example of the public key - rs256_pub.pem:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnWZFgIRR9rKrELY6ag37\n2vSv8wy5MFamMFUFgwbnr9xtR1GxVlYoZ+itDlSG8TZvhQSDumraRKxHNDSpwzfE\nbRTqaMk4wqocm5ZqqRH7C80VN7IIzg8XHcD/5BnZ/SaiFfV0RDyiCl7zjwt7Oysk\nl829BxBb3G6U3yCMfld9MY3IpK/CuKlHtwvmhezXKPSnRDiq6vwJ1UwoD6Fy2pEd\nCCdTAaBuuHe/XF1xCVR4ul+uXR4gGParkXfskOHbTgMm82ZimqCWeAOIhqwiL24y\nBOm0lHXv4Ql0cWtOgFQv8mzE2cnTc0txpO2wFxr3C0BloYEX15cm+88h/GfLcLur\nqwIDAQAB\n-----END PUBLIC KEY-----\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("In the "),a("code",[e._v("docker-compose.yml")]),e._v(", set the algothrim and public key to the corresponding environment variables:")])]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("S8_WEBPDF_SECRET_JWT_ALG")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("RS256\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("S8_WEBPDF_SECRET_JWT_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnWZFgIRR9rKrELY6ag372vSv8wy5MFamMFUFgwbnr9xtR1GxVlYoZ+itDlSG8TZvhQSDumraRKxHNDSpwzfEbRTqaMk4wqocm5ZqqRH7C80VN7IIzg8XHcD/5BnZ/SaiFfV0RDyiCl7zjwt7Oyskl829BxBb3G6U3yCMfld9MY3IpK/CuKlHtwvmhezXKPSnRDiq6vwJ1UwoD6Fy2pEdCCdTAaBuuHe/XF1xCVR4ul+uXR4gGParkXfskOHbTgMm82ZimqCWeAOIhqwiL24yBOm0lHXv4Ql0cWtOgFQv8mzE2cnTc0txpO2wFxr3C0BloYEX15cm+88h/GfLcLurqwIDAQAB\n")])])]),a("p",[e._v("In your Authentication, you will pass the algothrim and private key to genenrate a token and then pass it to the "),a("code",[e._v("open file")]),e._v(" functions to the client side -webViewer.")]),e._v(" "),a("h2",{attrs:{id:"enable-jwt-authentication-on-webviewer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enable-jwt-authentication-on-webviewer"}},[e._v("#")]),e._v(" Enable JWT authentication on webViewer")]),e._v(" "),a("p",[e._v("You can pass the paramenter "),a("code",[e._v("jwt")]),e._v(" to one of the following open file functions to enable JWT authentication.")]),e._v(" "),a("ul",[a("li",[e._v("PDFViewer.openPDFByFile")]),e._v(" "),a("li",[e._v("PDFViewer.openPDFByHttpRangeRequest")]),e._v(" "),a("li",[e._v("PDFViewer.openPDFById")]),e._v(" "),a("li",[e._v("PDFViewer.reopenPDFDoc")])]),e._v(" "),a("p",[a("strong",[e._v("Example:")])]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("pdfui.openPDFByHttpRangeRequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("request,"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      jwt: getJWT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("  \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\npdfui.openPDFByFile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("pdfDoc,"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      jwt: getJWT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("  \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\npdfui.openPDFByID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("docID,"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      jwt: getJWT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("  \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\npdfui.reopenPDFDoc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("pdfDoc, "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      jwt: getJWT"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("  \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);