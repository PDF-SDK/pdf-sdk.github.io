!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],t):"object"==typeof exports?exports.Thumbnail=t(require("UIExtension")):e.Thumbnail=t(e.UIExtension)}(self,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(t,n){t.exports=e},function(e,t,n){"use strict";e.exports=n(6)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(5)),i=s(n(8)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),a=s(n(10)),l=n(11);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}n(13);var u=r.vendors.jQuery,d=r.UIConsts.COMPONENT_EVENTS,h=r.PDFViewCtrl.ViewerEvents,f=r.PDFViewCtrl.Consts.PDFDocPermission,p=r.SeniorComponentFactory,m=r.widgets.ContextMenuSeparatorComponent,g=function(e){function t(n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o,i));return r.destroyHook=[],r.noMore=!1,r}return c(t,e),t.getName=function(){return"thumbnail-panel"},t.prototype.createDOMElement=function(){return document.createElement("div")},t.prototype.render=function(){e.prototype.render.call(this),this.$html=u(this.element)},t.prototype.postlink=function(){e.prototype.postlink.call(this),this.$thumbImageContainerBox=this.$html.find(".fv__thumb-image-container-box"),this.$thumbImageContainer=this.$html.find(".fv__thumb-image-container")},t.prototype.mounted=function(){var t=this;e.prototype.mounted.call(this),this.$html.scroll((function(e){if(!t.noMore&&e.target.scrollHeight-e.target.offsetHeight-e.target.scrollTop<100){if(t.scrollTimer)return;t.controller.loadMore(),t.scrollTimer=setTimeout((function(e){t.scrollTimer=null}),50)}}));var n=this.element.querySelector(".fv__thumb-image-container"),o=this,i=a.default.create(n,{delay:10,scroll:!0,onStart:function(e){return!1},onEnd:function(e){var t=e.oldIndex,n=e.newIndex,i=o.getPDFUI();i.getPDFViewer().then((function(e){e.$ui.show()})),t!=n&&o.controller.movePageTo(t,n).then((function(e){var r=Math.min(t,n),a=Math.max(t,n);o.updateIndex(r,a),i.goToPage(n,0,0,!1)}))}}),r=this.getPDFUI().addViewerEventListener(h.openFileSuccess,(function(e){i.options.disabled=!e.checkPermission(8)}));this.addDestroyHook(r),navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")>-1&&(document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()});var s=this.getComponentByName("fv--thumbnail-contextmenu");s&&(s.on(d.SHOWN,(function(){var e=s.getCurrentTarget();o.addActiveClassByPageIndex(e);var t=s.getComponentByName("contextmenu-item-thumbnail-delete");if(t){var n=t.previousSiblings(),i=!!n&&n instanceof m;o.$html.find(".fv__thumb-page").length<=1?(t.hide(),i&&n.hide()):(t.show(),i&&n.show())}o.getPDFUI().getPDFDocRender().then((function(e){var t=e.getUserPermission().getValue();t&f.Assemble||t&f.ModifyDocument?s.enable():s.disable()}))})),s.on(d.HIDDEN,(function(){t.$html.find(".fv__active_contextmenu").removeClass("fv__active_contextmenu")})));var c=(0,l.attachContextMenuEvent)(this.element,(function(e){var n=e.target.closest("[data-page-index]");if(n){var o=+n.getAttribute("data-page-index"),i=t.getComponentByName("fv--thumbnail-contextmenu");i&&!i.isDestroyed?(i.setCurrentTarget(o),i.showAt(e.clientX,e.clientY),e.preventDefault()):t.getPDFUI().eventEmitter.emit(h.showThumbnailContextMenu,o,e)}}),!0);this.addDestroyHook(c,this.getPDFUI().addViewerEventListener(h.willCloseDocument,(function(){t.noMore=!1,t.controller.onceLoadCount=20,t.controller.pageCount=0,t.$thumbImageContainer.html("")})))},t.prototype.updateIndex=function(e,t){for(var n=this.$html.find(".fv__thumb-page"),o=e;o<=t;o++){var i=u(n[o]);i.find(".fv__thumb-page-index").html(o+1),i.data("page-index",o),i.attr("data-page-index",o)}},t.prototype.appendThumb=function(e){this.$thumbImageContainer.append((0,i.default)(e))},t.prototype.appendThumbByIndex=function(e,t){var n=this.$html.find(".fv__thumb-page");if(n[t]){var o=u((0,i.default)(e)),r=u(n[t]);o.insertBefore(r);var a=n.length-1+1;this.updateIndex(t,a)}else this.$thumbImageContainer.append((0,i.default)(e))},t.prototype.removeThumb=function(e){var t=this.$html.find(".fv__thumb-page");if(t[e]){t[e].remove();var n=t.length-2;this.updateIndex(e,n)}},t.prototype.updateThumb=function(e,t){var n=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=u(this.$html.find(".fv__thumb-page")[e]),r=i.find(".fv__thumb-image")[0];r.classList.remove("fv__hide"),i.find(".fv__thumb-loading").remove();var a=r.getContext("2d");if(r.width=t.width,r.height=t.height,t.buffer){var l=a.createImageData(t.width,t.height),s=new(Uint8ClampedArray||Uint8Array)(t.buffer);l.data.set(s),a.putImageData(l,0,0)}else if(t.image){var c=new Image;c.onload=function(){a.drawImage(c,0,0),URL.revokeObjectURL(c.src)},c.src=URL.createObjectURL(t.image)}o&&(i.on("click",(function(e){var t=i.data("page-index");n.getPDFUI().goToPage(t,0,0,!1),n.$html.find(".fv__active").removeClass("fv__active"),i.addClass("fv__active"),n.fromClickThumb=!0})),this.destroyHook.push((function(){i.off("click")})))},t.prototype.addActiveClassByPageIndex=function(e){var t=this.$html.find(".fv__thumb-page");t[e]&&(this.$html.find(".fv__active_contextmenu").removeClass("fv__active_contextmenu"),u(t[e]).addClass("fv__active_contextmenu"))},t.prototype.activeThumbByPageIndex=function(e){var t=this.$html.find(".fv__thumb-page");if(t[e]){this.$html.find(".fv__active").removeClass("fv__active");var n=u(t[e]);if(n.addClass("fv__active"),this.fromClickThumb)this.fromClickThumb=!1;else{var o=n.parents(".fv__ui-thumbnail-container"),i=o.offset().top+10,r=n.offset().top;if(r!==i){var a=o.scrollTop();o.scrollTop(a+r-i)}}}},t.prototype.resizeHandler=function(){this.$thumbImageContainerBox.height()-this.element.offsetHeight<400&&this.controller.loadMore()},t.prototype.reset=function(){this.noMore=!1,this.$thumbImageContainer.html(""),this.destroy()},t.prototype.destroy=function(){this.destroyHook.forEach((function(e){return e()})),this.destroyHook=[]},t}(p.createSuperClass({template:(0,o.default)()}));t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i,r=t.isTouchDevice=(i=" -webkit- -moz- -o- -ms- ".split(" "),!!("ontouchstart"in window||navigator.maxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)||(o=["(",i.join("touch-enabled),("),"heartz",")"].join(""),!!window.matchMedia&&window.matchMedia(o).matches)),a=navigator.userAgent.toLowerCase(),l=t.isMac=/macintosh|mac os x/.test(a),s=t.isIOS=/ipad|iphone|ipod/.test(a),c=t.isIPHONE=/iphone/.test(a),u=t.isIPAD=/ipad/.test(a),d=t.isIPOD=/ipod/.test(a),h=t.isAndroid=/android/.test(a),f=t.isBlackBerry=/blackberry/.test(a),p=t.isWebOS=/webos/.test(a),m=t.isKindle=/silk|kindle/.test(a),g=t.isTablet=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(a),v=t.isMobile=!g&&(/mobile/.test(a)||s||h||f||p||m),b=t.isDesktop=!(v||g||h||c||u||d||m||p),y=t.isMiPad=/(MI(.*|\s*)PAD).*/i.test(a),I=t.isXiaomi=!y&&/MI(\s+|\d+?|HM|xiaomi).*/i.test(a),w=t.isHuawei=/HUAWEI/.test(navigator.userAgent);t.DEVICE_DETACTION={mac:l,ios:s,iphone:c,ipad:u,ipod:d,android:h,blackberry:f,webos:p,kindle:m,tablet:g,mobile:v,desktop:b,xiaomi:I,huawei:w,touch:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(n(2)),i=c(n(14)),r=c(n(15)),a=c(n(16)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var f=function(e){function t(){return u(this,t),d(this,e.apply(this,arguments))}return h(t,e),t.getName=function(){return"example"},t.getLoader=function(){return s.default},t.init=function(){var e=l.modular.module("thumbnail",[]);e.registerComponent(o.default),e.registerController(i.default),e.registerController(r.default),e.getRegistry().registerPreConfiguredComponent("sidebar-thumbnail",{template:(0,a.default)()}),l.modular.root().registerPreConfiguredComponent("thumbnail-sidebar-panel",{template:'<thumbnail:sidebar-thumbnail name="sidebar-thumbnail-panel"/>'})},t.prototype.fragments=function(){return[]},t}(l.UIXAddon);t.default=f},function(e,t,n){n(1);e.exports=function(e){"use strict";e=e||{};return'\x3c!--\n<div class="fv__thumb-icon-container">\n    <span class="fv__thumb-icon fv__thumb-rotate"></span>\n    <span class="fv__thumb-icon fv__thumb-insert-blank"></span>\n    <span class="fv__thumb-icon fv__thumb-insert-file"></span>\n    <span class="fv__thumb-icon fv__thumb-move"></span>\n    <span class="fv__thumb-icon fv__thumb-duplicate"></span>\n    <span class="fv__thumb-icon fv__thumb-delete"></span>\n</div>\n--\x3e\n<div class="fv__ui-thumbnail-container">\n    <div class="fv__thumb-image-container-box">\n        <div class="fv__thumb-image-container">\n\n        </div>\n        <div style="clear:both;"></div>\n    </div>\n</div>','\x3c!--\n<div class="fv__thumb-icon-container">\n    <span class="fv__thumb-icon fv__thumb-rotate"></span>\n    <span class="fv__thumb-icon fv__thumb-insert-blank"></span>\n    <span class="fv__thumb-icon fv__thumb-insert-file"></span>\n    <span class="fv__thumb-icon fv__thumb-move"></span>\n    <span class="fv__thumb-icon fv__thumb-duplicate"></span>\n    <span class="fv__thumb-icon fv__thumb-delete"></span>\n</div>\n--\x3e\n<div class="fv__ui-thumbnail-container">\n    <div class="fv__thumb-image-container-box">\n        <div class="fv__thumb-image-container">\n\n        </div>\n        <div style="clear:both;"></div>\n    </div>\n</div>'}},function(e,t,n){"use strict";(function(t){
/*! art-template@runtime | https://github.com/aui/art-template */
var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},o=Object.create(n),i=/["&'<>]/;o.$escape=function(e){return function(e){var t=""+e,n=i.exec(t);if(!n)return e;var o="",r=void 0,a=void 0,l=void 0;for(r=n.index,a=0;r<t.length;r++){switch(t.charCodeAt(r)){case 34:l="&#34;";break;case 38:l="&#38;";break;case 39:l="&#39;";break;case 60:l="&#60;";break;case 62:l="&#62;";break;default:continue}a!==r&&(o+=t.substring(a,r)),a=r+1,o+=l}return a!==r?o+t.substring(a,r):o}(function e(t){"string"!=typeof t&&(t=null==t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},o.$each=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=o}).call(this,n(7))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var o=n(1);e.exports=function(e){"use strict";e=e||{};var t="",i=o.$escape;return t+='<div class="fv__thumb-page" data-page-index="',t+=i(e.pageNum-1),t+='">\n    <div class="fv__thumb-page-container">\n        <img class="fv__thumb-loading" ',t+='src="'+n(9)+'"',t+=' />\n        <canvas class="fv__thumb-image fv__hide"></canvas>\n    </div>\n    <div class="fv__thumb-page-index">',t+=i(e.pageNum),t+="</div>\n</div>"}},function(e,t){e.exports="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSIjZGRkIj4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPiAKICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiICAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4KSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjIiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAgLz4KICA8L3BhdGg+CiAgPHBhdGggdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQpIiBkPSJNMCAxMiBWMjAgSDQgVjEyeiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJkIiB2YWx1ZXM9Ik0wIDEyIFYyMCBINCBWMTJ6OyBNMCA0IFYyOCBINCBWNHo7IE0wIDEyIFYyMCBINCBWMTJ6OyBNMCAxMiBWMjAgSDQgVjEyeiIgZHVyPSIxLjJzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgYmVnaW49IjAuNCIga2V5dGltZXM9IjA7LjI7LjU7MSIga2V5U3BsaW5lcz0iMC4yIDAuMiAwLjQgMC44OzAuMiAwLjYgMC40IDAuODswLjIgMC44IDAuNCAwLjgiIGNhbGNNb2RlPSJzcGxpbmUiIC8+CiAgPC9wYXRoPgogIDxwYXRoIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIwKSIgZD0iTTAgMTIgVjIwIEg0IFYxMnoiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIgdmFsdWVzPSJNMCAxMiBWMjAgSDQgVjEyejsgTTAgNCBWMjggSDQgVjR6OyBNMCAxMiBWMjAgSDQgVjEyejsgTTAgMTIgVjIwIEg0IFYxMnoiIGR1cj0iMS4ycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwLjYiIGtleXRpbWVzPSIwOy4yOy41OzEiIGtleVNwbGluZXM9IjAuMiAwLjIgMC40IDAuODswLjIgMC42IDAuNCAwLjg7MC4yIDAuOCAwLjQgMC44IiBjYWxjTW9kZT0ic3BsaW5lIiAvPgogIDwvcGF0aD4KICA8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNikiIGQ9Ik0wIDEyIFYyMCBINCBWMTJ6Ij4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImQiIHZhbHVlcz0iTTAgMTIgVjIwIEg0IFYxMno7IE0wIDQgVjI4IEg0IFY0ejsgTTAgMTIgVjIwIEg0IFYxMno7IE0wIDEyIFYyMCBINCBWMTJ6IiBkdXI9IjEuMnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMC44IiBrZXl0aW1lcz0iMDsuMjsuNTsxIiBrZXlTcGxpbmVzPSIwLjIgMC4yIDAuNCAwLjg7MC4yIDAuNiAwLjQgMC44OzAuMiAwLjggMC40IDAuOCIgY2FsY01vZGU9InNwbGluZSIgLz4KICA8L3BhdGg+Cjwvc3ZnPgo="},function(e,t,n){var o,i;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */!function(r){"use strict";void 0===(i="function"==typeof(o=r)?o.call(t,n,t,e):o)||(e.exports=i)}((function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,o,i,r,a,l,s,c,u,d,h,f,p,m,g,v,b,y,I,w,_,C,x,D,T,M,P=[],E=!1,A=!1,j=!1,S=[],O=!1,B=!1,k=[],N=/\s+/g,F="Sortable"+(new Date).getTime(),L=window,Y=L.document,W=L.parseInt,R=L.setTimeout,X=L.jQuery||L.Zepto,V=L.Polymer,H={capture:!1,passive:!1},Z=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),G=!!navigator.userAgent.match(/Edge/i),U=!!navigator.userAgent.match(/firefox/i),z=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),Q=!!navigator.userAgent.match(/iP(ad|od|hone)/i),J=G||Z?"cssFloat":"float",$="draggable"in Y.createElement("div"),K=function(){if(Z)return!1;var e=Y.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),q=!1,ee=!1,te=Math.abs,ne=Math.min,oe=Math.max,ie=[],re=function(e,t){var n=Ce(e),o=W(n.width)-W(n.paddingLeft)-W(n.paddingRight)-W(n.borderLeftWidth)-W(n.borderRightWidth),i=Ae(e,0,t),r=Ae(e,1,t),a=i&&Ce(i),l=r&&Ce(r),s=a&&W(a.marginLeft)+W(a.marginRight)+Re(i).width,c=l&&W(l.marginLeft)+W(l.marginRight)+Re(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&"none"!==a.float){var u="left"===a.float?"left":"right";return!r||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[J]||r&&"none"===n[J]&&s+c>o)?"vertical":"horizontal"},ae=function(e,t){if(!e||!e.getBoundingClientRect)return le();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Ce(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n||!n.getBoundingClientRect||n===Y.body)return le();if(o||t)return n;o=!0}}}while(n=n.parentNode);return le()},le=function(){return Z?Y.documentElement:Y.scrollingElement},se=function(e,t,n){e.scrollLeft+=t,e.scrollTop+=n},ce=Ne((function(e,t,n,o){if(t.scroll){var i=n?n[F]:window,r=t.scrollSensitivity,a=t.scrollSpeed,u=e.clientX,d=e.clientY,h=le(),f=!1;s!==n&&(ue(),l=t.scroll,c=t.scrollFn,!0===l&&(l=ae(n,!0),s=l));var p=0,m=l;do{var g,v,b,y,w,_,C,x,D,T=m,M=Re(T),A=M.top,j=M.bottom,S=M.left,O=M.right,B=M.width,k=M.height;if(g=T.scrollWidth,v=T.scrollHeight,b=Ce(T),x=T.scrollLeft,D=T.scrollTop,T===h?(_=B<g&&("auto"===b.overflowX||"scroll"===b.overflowX||"visible"===b.overflowX),C=k<v&&("auto"===b.overflowY||"scroll"===b.overflowY||"visible"===b.overflowY)):(_=B<g&&("auto"===b.overflowX||"scroll"===b.overflowX),C=k<v&&("auto"===b.overflowY||"scroll"===b.overflowY)),y=_&&(te(O-u)<=r&&x+B<g)-(te(S-u)<=r&&!!x),w=C&&(te(j-d)<=r&&D+k<v)-(te(A-d)<=r&&!!D),!P[p])for(var N=0;N<=p;N++)P[N]||(P[N]={});P[p].vx==y&&P[p].vy==w&&P[p].el===T||(P[p].el=T,P[p].vx=y,P[p].vy=w,clearInterval(P[p].pid),!T||0==y&&0==w||(f=!0,P[p].pid=setInterval(function(){o&&0===this.layer&&(ve.active._emulateDragOver(!0),ve.active._onTouchMove(I,!0));var t=P[this.layer].vy?P[this.layer].vy*a:0,n=P[this.layer].vx?P[this.layer].vx*a:0;"function"==typeof c&&"continue"!==c.call(i,n,t,e,I,P[this.layer].el)||se(P[this.layer].el,n,t)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&m!==h&&(m=ae(m,!1)));E=f}}),30),ue=function(){P.forEach((function(e){clearInterval(e.pid)})),P=[]},de=function(e){function t(e,n){return function(o,i,r,a){var l=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,i,r,a),n)(o,i,r,a);var s=(n?o:i).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==typeof o||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},he=function(t){e&&e.parentNode&&e.parentNode[F]&&e.parentNode[F]._computeIsAligned(t)},fe=function(){!K&&n&&Ce(n,"display","none")},pe=function(){!K&&n&&Ce(n,"display","")};Y.addEventListener("click",(function(e){if(j)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),j=!1,!1}),!0);var me,ge=function(t){if(e){var n=function(e,t){for(var n=0;n<S.length;n++)if(!je(S[n])){var o=Re(S[n]),i=S[n][F].options.emptyInsertThreshold,r=e>=o.left-i&&e<=o.right+i,a=t>=o.top-i&&t<=o.bottom+i;if(i&&r&&a)return S[n]}}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(n){var o={};for(var i in t)o[i]=t[i];o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[F]._onDragOver(o)}}};function ve(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(e);this.el=e,this.options=t=Fe({},t),e[F]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return re(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:W(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ve.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var o in n)!(o in t)&&(t[o]=n[o]);for(var i in de(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&$,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Ie(e,"pointerdown",this._onTapStart):(Ie(e,"mousedown",this._onTapStart),Ie(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ie(e,"dragover",this),Ie(e,"dragenter",this)),S.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function be(e,t,n,o){if(e){n=n||Y;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&ke(e,t):ke(e,t))||o&&e===n)return e;if(e===n)break}while(e=ye(e))}return null}function ye(e){return e.host&&e!==Y&&e.host.nodeType?e.host:e.parentNode}function Ie(e,t,n){e.addEventListener(t,n,!Z&&H)}function we(e,t,n){e.removeEventListener(t,n,!Z&&H)}function _e(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(N," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(N," ")}}function Ce(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return Y.defaultView&&Y.defaultView.getComputedStyle?n=Y.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function xe(e){var t="";do{var n=Ce(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(e=e.parentNode);return window.DOMMatrix?new DOMMatrix(t):window.WebKitCSSMatrix?new WebKitCSSMatrix(t):window.CSSMatrix?new CSSMatrix(t):void 0}function De(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function Te(e,t,n,i,r,a,l,s,c,u,d){var h,f=(e=e||t[F]).options,p="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||Z||G?(h=Y.createEvent("Event")).initEvent(n,!0,!0):h=new CustomEvent(n,{bubbles:!0,cancelable:!0}),h.to=r||t,h.from=a||t,h.item=i||t,h.clone=o,h.oldIndex=l,h.newIndex=s,h.oldDraggableIndex=c,h.newDraggableIndex=u,h.originalEvent=d,h.pullMode=m?m.lastPutMode:void 0,t&&t.dispatchEvent(h),f[p]&&f[p].call(e,h)}function Me(e,t,n,o,i,r,a,l){var s,c,u=e[F],d=u.options.onMove;return!window.CustomEvent||Z||G?(s=Y.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=i||t,s.relatedRect=r||Re(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),d&&(c=d.call(u,s,a)),c}function Pe(e){e.draggable=!1}function Ee(){q=!1}function Ae(t,o,i){for(var r=0,a=0,l=t.children;a<l.length;){if("none"!==l[a].style.display&&l[a]!==n&&l[a]!==e&&be(l[a],i.draggable,t,!1)){if(r===o)return l[a];r++}a++}return null}function je(e){for(var t=e.lastElementChild;t&&(t===n||"none"===Ce(t,"display"));)t=t.previousElementSibling;return t||null}function Se(t){return Be(e)<Be(t)?1:-1}function Oe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Be(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||e===o||t&&!ke(e,t)||n++;return n}function ke(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Ne(e,t){return function(){if(!me){var n=arguments,o=this;me=R((function(){1===n.length?e.call(o,n[0]):e.apply(o,n),me=void 0}),t)}}}function Fe(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Le(e){return V&&V.dom?V.dom(e).cloneNode(!0):X?X(e).clone(!0)[0]:e.cloneNode(!0)}function Ye(e){return R(e,0)}function We(e){return clearTimeout(e)}function Re(e,t,n,o){if(e.getBoundingClientRect||e===L){var i,r,a,l,s,c,u;if(e!==L&&e!==le()?(r=(i=e.getBoundingClientRect()).top,a=i.left,l=i.bottom,s=i.right,c=i.height,u=i.width):(r=0,a=0,l=window.innerHeight,s=window.innerWidth,c=window.innerHeight,u=window.innerWidth),o&&e!==L&&(n=n||e.parentNode,!Z))do{if(n&&n.getBoundingClientRect&&"none"!==Ce(n,"transform")){var d=n.getBoundingClientRect();r-=d.top+W(Ce(n,"border-top-width")),a-=d.left+W(Ce(n,"border-left-width")),l=r+i.height,s=a+i.width;break}}while(n=n.parentNode);if(t&&e!==L){var h=xe(n||e),f=h&&h.a,p=h&&h.d;h&&(l=(r/=p)+(c/=p),s=(a/=f)+(u/=f))}return{top:r,left:a,bottom:l,right:s,width:u,height:c}}}function Xe(e,t){for(var n=ae(e,!0),o=Re(e)[t];n;){var i=Re(n)[t];if(!("top"===t||"left"===t?o>=i:o<=i))return n;if(n===le())break;n=ae(n,!1)}return!1}function Ve(e){var t=0,n=0,o=le();if(e)do{var i=xe(e),r=i.a,a=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}return ve.prototype={constructor:ve,_computeIsAligned:function(t){var o;if(n&&!K?(fe(),o=Y.elementFromPoint(t.clientX,t.clientY),pe()):o=t.target,o=be(o,this.options.draggable,this.el,!1),!ee&&e&&e.parentNode===this.el){for(var i,r,a,l,s,c,u,d,h=this.el.children,f=0;f<h.length;f++)be(h[f],this.options.draggable,this.el,!1)&&h[f]!==o&&(h[f].sortableMouseAligned=(i=t.clientX,r=t.clientY,a=h[f],l=this._getDirection(t,null),this.options,s=void 0,c=void 0,u=void 0,d=void 0,s=Re(a),c="vertical"===l?s.left:s.top,u="vertical"===l?s.right:s.bottom,c<(d="vertical"===l?i:r)&&d<u));be(o,this.options.draggable,this.el,!0)||(_=null),ee=!0,R((function(){ee=!1}),30)}},_getDirection:function(t,n){return"function"==typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n,o,i=this,r=this.el,l=this.options,s=l.preventOnFilter,c=t.type,u=t.touches&&t.touches[0],d=(u||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,f=l.filter;if(function(e){ie.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&ie.push(o)}}(r),!e&&!(/mousedown|pointerdown/.test(c)&&0!==t.button||l.disabled||h.isContentEditable||(d=be(d,l.draggable,r,!1),a===d))){if(n=Be(d),o=Be(d,l.draggable),"function"==typeof f){if(f.call(this,t,d,this))return Te(i,h,"filter",d,r,r,n,void 0,o),void(s&&t.cancelable&&t.preventDefault())}else if(f&&(f=f.split(",").some((function(e){if(e=be(h,e.trim(),r,!1))return Te(i,e,"filter",d,r,r,n,void 0,o),!0}))))return void(s&&t.cancelable&&t.preventDefault());l.handle&&!be(h,l.handle,r,!1)||this._prepareDragStart(t,u,d,n,o)}}},_handleAutoScroll:function(t,n){if(e&&this.options.scroll){var o=t.clientX,i=t.clientY,r=Y.elementFromPoint(o,i),a=this;if(n||G||Z||z){ce(t,a.options,r,n);var l=ae(r,!0);!E||g&&o===v&&i===b||(g&&clearInterval(g),g=setInterval((function(){if(e){var r=ae(Y.elementFromPoint(o,i),!0);r!==l&&(l=r,ue(),ce(t,a.options,l,n))}}),10),v=o,b=i)}else{if(!a.options.bubbleScroll||ae(r,!0)===le())return void ue();ce(t,a.options,ae(r,!1),!1)}}},_prepareDragStart:function(n,o,l,s,c){var d,f=this,m=f.el,g=f.options,v=m.ownerDocument;l&&!e&&l.parentNode===m&&(i=m,t=(e=l).parentNode,r=e.nextSibling,a=l,p=g.group,u=s,h=c,y={target:e,clientX:(o||n).clientX,clientY:(o||n).clientY},this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,e.style["will-change"]="all",e.style.transition="",e.style.transform="",d=function(){f._disableDelayedDragEvents(),!U&&f.nativeDraggable&&(e.draggable=!0),f._triggerDragStart(n,o),Te(f,i,"choose",e,i,i,u,void 0,h),_e(e,g.chosenClass,!0)},g.ignore.split(",").forEach((function(t){De(e,t.trim(),Pe)})),Ie(v,"dragover",ge),Ie(v,"mousemove",ge),Ie(v,"touchmove",ge),Ie(v,"mouseup",f._onDrop),Ie(v,"touchend",f._onDrop),Ie(v,"touchcancel",f._onDrop),U&&this.nativeDraggable&&(this.options.touchStartThreshold=4,e.draggable=!0),!g.delay||g.delayOnTouchOnly&&!o||this.nativeDraggable&&(G||Z)?d():(Ie(v,"mouseup",f._disableDelayedDrag),Ie(v,"touchend",f._disableDelayedDrag),Ie(v,"touchcancel",f._disableDelayedDrag),Ie(v,"mousemove",f._delayedDragTouchMoveHandler),Ie(v,"touchmove",f._delayedDragTouchMoveHandler),g.supportPointer&&Ie(v,"pointermove",f._delayedDragTouchMoveHandler),f._dragStartTimer=R(d,g.delay)))},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;oe(te(t.clientX-this._lastX),te(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){e&&Pe(e),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;we(e,"mouseup",this._disableDelayedDrag),we(e,"touchend",this._disableDelayedDrag),we(e,"touchcancel",this._disableDelayedDrag),we(e,"mousemove",this._delayedDragTouchMoveHandler),we(e,"touchmove",this._delayedDragTouchMoveHandler),we(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||("touch"==t.pointerType?t:null),!this.nativeDraggable||n?this.options.supportPointer?Ie(Y,"pointermove",this._onTouchMove):Ie(Y,n?"touchmove":"mousemove",this._onTouchMove):(Ie(e,"dragend",this),Ie(i,"dragstart",this._onDragStart));try{Y.selection?Ye((function(){Y.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(t,n){if(A=!1,i&&e){this.nativeDraggable&&(Ie(Y,"dragover",this._handleAutoScroll),Ie(Y,"dragover",he));var o=this.options;!t&&_e(e,o.dragClass,!1),_e(e,o.ghostClass,!0),Ce(e,"transform",""),ve.active=this,t&&this._appendGhost(),Te(this,i,"start",e,i,i,u,void 0,h,void 0,n)}else this._nulling()},_emulateDragOver:function(t){if(I){if(this._lastX===I.clientX&&this._lastY===I.clientY&&!t)return;this._lastX=I.clientX,this._lastY=I.clientY,fe();for(var n=Y.elementFromPoint(I.clientX,I.clientY),o=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(I.clientX,I.clientY))!==o;)o=n;if(o)do{if(o[F])if(o[F]._onDragOver({clientX:I.clientX,clientY:I.clientY,target:n,rootEl:o})&&!this.options.dragoverBubble)break;n=o}while(o=o.parentNode);e.parentNode[F]._computeIsAligned(I),pe()}},_onTouchMove:function(e,t){if(y){var o=this.options,i=o.fallbackTolerance,r=o.fallbackOffset,a=e.touches?e.touches[0]:e,l=n&&xe(n),s=n&&l&&l.a,c=n&&l&&l.d,u=Q&&T&&Ve(T),d=(a.clientX-y.clientX+r.x)/(s||1)+(u?u[0]-k[0]:0)/(s||1),h=(a.clientY-y.clientY+r.y)/(c||1)+(u?u[1]-k[1]:0)/(c||1),f=e.touches?"translate3d("+d+"px,"+h+"px,0)":"translate("+d+"px,"+h+"px)";if(!ve.active&&!A){if(i&&ne(te(a.clientX-this._lastX),te(a.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}!t&&this._handleAutoScroll(a,!0),w=!0,I=a,Ce(n,"webkitTransform",f),Ce(n,"mozTransform",f),Ce(n,"msTransform",f),Ce(n,"transform",f),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var t=this.options.fallbackOnBody?Y.body:i,o=Re(e,!0,t,!Q),r=(Ce(e),this.options);if(Q){for(T=t;"static"===Ce(T,"position")&&"none"===Ce(T,"transform")&&T!==Y;)T=T.parentNode;if(T!==Y){var a=Re(T,!0);o.top-=a.top,o.left-=a.left}T!==Y.body&&T!==Y.documentElement?(T===Y&&(T=le()),o.top+=T.scrollTop,o.left+=T.scrollLeft):T=le(),k=Ve(T)}_e(n=e.cloneNode(!0),r.ghostClass,!1),_e(n,r.fallbackClass,!0),_e(n,r.dragClass,!0),Ce(n,"box-sizing","border-box"),Ce(n,"margin",0),Ce(n,"top",o.top),Ce(n,"left",o.left),Ce(n,"width",o.width),Ce(n,"height",o.height),Ce(n,"opacity","0.8"),Ce(n,"position",Q?"absolute":"fixed"),Ce(n,"zIndex","100000"),Ce(n,"pointerEvents","none"),t.appendChild(n)}},_onDragStart:function(t,n){var r=this,a=t.dataTransfer,l=r.options;(o=Le(e)).draggable=!1,o.style["will-change"]="",this._hideClone(),_e(o,r.options.chosenClass,!1),r._cloneId=Ye((function(){r.options.removeCloneOnHide||i.insertBefore(o,e),Te(r,i,"clone",e)})),!n&&_e(e,l.dragClass,!0),n?(j=!0,r._loopId=setInterval(r._emulateDragOver,50)):(we(Y,"mouseup",r._onDrop),we(Y,"touchend",r._onDrop),we(Y,"touchcancel",r._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(r,a,e)),Ie(Y,"drop",r),Ce(e,"transform","translateZ(0)")),A=!0,r._dragStartId=Ye(r._dragStarted.bind(r,n,t)),Ie(Y,"selectstart",r),z&&Ce(Y.body,"user-select","none")},_onDragOver:function(n){var o,a,l,s=this.el,c=n.target,d=this.options,f=d.group,g=ve.active,v=p===f,b=d.sort,y=this;if(!q){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),w=!0,c=be(c,d.draggable,s,!0),e.contains(n.target)||c.animated)return H(!1);if(c!==e&&(j=!1),g&&!d.disabled&&(v?b||(l=!i.contains(e)):m===this||(this.lastPutMode=p.checkPull(this,g,e,n))&&f.checkPut(this,g,e,n))){var I=this._getDirection(n,c);if(o=Re(e),l)return this._hideClone(),t=i,r?i.insertBefore(e,r):i.appendChild(e),H(!0);var T=je(s);if(!T||function(e,t,n){var o=Re(je(n)),i="vertical"===t?e.clientY:e.clientX,r="vertical"===t?e.clientX:e.clientY,a="vertical"===t?o.bottom:o.right,l="vertical"===t?o.left:o.top,s="vertical"===t?o.right:o.bottom;return"vertical"===t?r>s+10||r<=s&&i>a&&r>=l:i>a&&r>l||i<=a&&r>s+10}(n,I,s)&&!T.animated){if(T&&s===n.target&&(c=T),c&&(a=Re(c)),v?g._hideClone():g._showClone(this),!1!==Me(i,s,e,o,c,a,n,!!c))return s.appendChild(e),t=s,M=null,Z(),H(!0)}else if(c&&c!==e&&c.parentNode===s){var P,E=0,A=c.sortableMouseAligned,S=e.parentNode!==s,k="vertical"===I?"top":"left",N=Xe(c,"top")||Xe(e,"top"),L=N?N.scrollTop:void 0;if(_!==c&&(x=null,P=Re(c)[k],O=!1),function(t,n,o){var i=t===e&&M||Re(t),r=n===e&&M||Re(n),a="vertical"===o?i.left:i.top,l="vertical"===o?i.right:i.bottom,s="vertical"===o?i.width:i.height,c="vertical"===o?r.left:r.top,u="vertical"===o?r.right:r.bottom,d="vertical"===o?r.width:r.height;return a===c||l===u||a+s/2===c+d/2}(e,c,I)&&A||S||N||d.invertSwap||"insert"===x||"swap"===x?("swap"!==x&&(B=d.invertSwap||S),E=function(t,n,o,i,r,a,l){var s=Re(n),c="vertical"===o?t.clientY:t.clientX,u="vertical"===o?s.height:s.width,d="vertical"===o?s.top:s.left,h="vertical"===o?s.bottom:s.right,f=Re(e),p=!1;if(!a)if(l&&D<u*i)if(!O&&(1===C?c>d+u*r/2:c<h-u*r/2)&&(O=!0),O)p=!0;else{"vertical"===o?f.top:f.left,"vertical"===o?f.bottom:f.right;if(1===C?c<d+D:c>h-D)return-1*C}else if(c>d+u*(1-i)/2&&c<h-u*(1-i)/2)return Se(n);if((p=p||a)&&(c<d+u*r/2||c>h-u*r/2))return c>d+u/2?1:-1;return 0}(n,c,I,d.swapThreshold,null==d.invertedSwapThreshold?d.swapThreshold:d.invertedSwapThreshold,B,_===c),x="swap"):(E=Se(c),x="insert"),0===E)return H(!1);M=null,_=c,C=E,a=Re(c);var W=c.nextElementSibling,X=!1,V=Me(i,s,e,o,c,a,n,X=1===E);if(!1!==V)return 1!==V&&-1!==V||(X=1===V),q=!0,R(Ee,30),v?g._hideClone():g._showClone(this),X&&!W?s.appendChild(e):c.parentNode.insertBefore(e,X?W:c),N&&se(N,0,L-N.scrollTop),t=e.parentNode,void 0===P||B||(D=te(P-Re(c)[k])),Z(),H(!0)}if(s.contains(e))return H(!1)}return!1}function H(t){return t&&(v?g._hideClone():g._showClone(y),g&&(_e(e,m?m.options.ghostClass:g.options.ghostClass,!1),_e(e,d.ghostClass,!0)),m!==y&&y!==ve.active?m=y:y===ve.active&&(m=null),o&&y._animate(o,e),c&&a&&y._animate(a,c)),(c===e&&!e.animated||c===s&&!c.animated)&&(_=null),d.dragoverBubble||n.rootEl||c===Y||(y._handleAutoScroll(n),e.parentNode[F]._computeIsAligned(n),!t&&ge(n)),!d.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),!0}function Z(){Te(y,i,"change",c,s,i,u,Be(e),h,Be(e,d.draggable),n)}},_animate:function(t,n){var o=this.options.animation;if(o){var i=Re(n);if(n===e&&(M=i),1===t.nodeType&&(t=Re(t)),t.left+t.width/2!==i.left+i.width/2||t.top+t.height/2!==i.top+i.height/2){var r=xe(this.el),a=r&&r.a,l=r&&r.d;Ce(n,"transition","none"),Ce(n,"transform","translate3d("+(t.left-i.left)/(a||1)+"px,"+(t.top-i.top)/(l||1)+"px,0)"),this._repaint(n),Ce(n,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Ce(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=R((function(){Ce(n,"transition",""),Ce(n,"transform",""),n.animated=!1}),o)}},_repaint:function(e){return e.offsetWidth},_offMoveEvents:function(){we(Y,"touchmove",this._onTouchMove),we(Y,"pointermove",this._onTouchMove),we(Y,"dragover",ge),we(Y,"mousemove",ge),we(Y,"touchmove",ge)},_offUpEvents:function(){var e=this.el.ownerDocument;we(e,"mouseup",this._onDrop),we(e,"touchend",this._onDrop),we(e,"pointerup",this._onDrop),we(e,"touchcancel",this._onDrop),we(Y,"selectstart",this)},_onDrop:function(a){var l=this.el,s=this.options;A=!1,E=!1,B=!1,O=!1,clearInterval(this._loopId),clearInterval(g),ue(),clearTimeout(me),me=void 0,clearTimeout(this._dragStartTimer),We(this._cloneId),We(this._dragStartId),we(Y,"mousemove",this._onTouchMove),this.nativeDraggable&&(we(Y,"drop",this),we(l,"dragstart",this._onDragStart),we(Y,"dragover",this._handleAutoScroll),we(Y,"dragover",he)),z&&Ce(Y.body,"user-select",""),this._offMoveEvents(),this._offUpEvents(),a&&(w&&(a.cancelable&&a.preventDefault(),!s.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(i===t||m&&"clone"!==m.lastPutMode)&&o&&o.parentNode&&o.parentNode.removeChild(o),e&&(this.nativeDraggable&&we(e,"dragend",this),Pe(e),e.style["will-change"]="",_e(e,m?m.options.ghostClass:this.options.ghostClass,!1),_e(e,this.options.chosenClass,!1),Te(this,i,"unchoose",e,t,i,u,null,h,null,a),i!==t?(d=Be(e),f=Be(e,s.draggable),d>=0&&(Te(null,t,"add",e,t,i,u,d,h,f,a),Te(this,i,"remove",e,t,i,u,d,h,f,a),Te(null,t,"sort",e,t,i,u,d,h,f,a),Te(this,i,"sort",e,t,i,u,d,h,f,a)),m&&m.save()):e.nextSibling!==r&&(d=Be(e),f=Be(e,s.draggable),d>=0&&(Te(this,i,"update",e,t,i,u,d,h,f,a),Te(this,i,"sort",e,t,i,u,d,h,f,a))),ve.active&&(null!=d&&-1!==d||(d=u,f=h),Te(this,i,"end",e,t,i,u,d,h,f,a),this.save()))),this._nulling()},_nulling:function(){i=e=t=n=r=o=a=l=s=P.length=g=v=b=y=I=w=d=u=_=C=M=m=p=ve.active=null,ie.forEach((function(e){e.checked=!0})),ie.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)be(e=n[o],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Oe(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach((function(e,o){var i=n.children[o];be(i,this.options.draggable,n,!1)&&(t[e]=i)}),this),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))}))},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return be(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&de(n)},destroy:function(){var e=this.el;e[F]=null,we(e,"mousedown",this._onTapStart),we(e,"touchstart",this._onTapStart),we(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(we(e,"dragover",this),we(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),S.splice(S.indexOf(this.el),1),this.el=e=null},_hideClone:function(){o.cloneHidden||(Ce(o,"display","none"),o.cloneHidden=!0,o.parentNode&&this.options.removeCloneOnHide&&o.parentNode.removeChild(o))},_showClone:function(t){"clone"===t.lastPutMode?o.cloneHidden&&(i.contains(e)&&!this.options.group.revertClone?i.insertBefore(o,e):r?i.insertBefore(o,r):i.appendChild(o),this.options.group.revertClone&&this._animate(e,o),Ce(o,"display",""),o.cloneHidden=!1):this._hideClone()}},Ie(Y,"touchmove",(function(e){(ve.active||A)&&e.cancelable&&e.preventDefault()})),ve.utils={on:Ie,off:we,css:Ce,find:De,is:function(e,t){return!!be(e,t,e,!1)},extend:Fe,throttle:Ne,closest:be,toggleClass:_e,clone:Le,index:Be,nextTick:Ye,cancelNextTick:We,detectDirection:re,getChild:Ae},ve.create=function(e,t){return new ve(e,t)},ve.version="1.9.0",ve}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachContextMenuEvent=function(e,t,n){if(i.isMobile&&(o.isSafari||i.isXiaomi||o.isUC)||i.isIPAD&&o.isSafari){var r=null,a=!1,l=void 0,s=0,c=function(e){a=!1,e.touches&&1!==e.touches.length||(s=0,l={x:e.touches[0].pageX,y:e.touches[0].pageY},r=setTimeout((function(){a=!0}),600))},u=function(e){if((!e.touches||1===e.touches.length)&&l&&a){var t=e.touches[0],n=Math.pow(t.pageX-l.x,2)+Math.pow(t.pageY-l.y,2);(s=Math.max(s,n))>Math.pow(15,2)&&(clearTimeout(r),a=!1)}},d=function(n){if(l=null,a){if(!n.changedTouches||1!==n.changedTouches.length)return clearTimeout(r),void(a=!1);var o=n.changedTouches[0],i=new Event("contextmenu"),s=["target","currentTarget","clientX","clientY","pageX","pageY","offsetX","offsetY","path"].reduce((function(e,t){return e[t]={value:o[t]},e}),{});s.stopPropagation={value:function(){n.stopPropagation()}},s.preventDefault={value:function(){n.preventDefault()}};var c=Object.create(i,s);t.call(e,c)}a=!1,clearTimeout(r)};return e.addEventListener("touchstart",c,n),e.addEventListener("touchend",d,!0),e.addEventListener("touchmove",u,!0),function(){e.removeEventListener("touchstart",c,n),e.removeEventListener("touchmove",u),e.removeEventListener("touchend",d)}}return e.addEventListener("contextmenu",t,n),function(){e.removeEventListener("contextmenu",t,n)}};var o=n(12),i=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=navigator.userAgent.toLowerCase(),i=/opera|opr/.test(o),r=/msie/.test(o),a=/trident/.test(o),l=/\sapplewebkit\//.test(o),s=/chrome/.test(o),c=/safari/.test(o),u=/firefox/.test(o),d=t.isIE=(a||r)&&!i&&"msSaveBlob"in navigator,h=t.isIEAtLeast11=!r&&a&&!i,f=t.isEdge=o.indexOf("edge")>-1,p=t.isOpera=i,m=t.isWebkit=l,g=t.isChrome=!p&&s&&!!window.chrome,v=t.isSafari=!/huawei/.test(o)&&!p&&c&&!s,b=t.isGecko="Gecko"==navigator.product&&!m&&!p,y=t.isFirefox=!g&&!p&&!v&&u,I=t.isMaxthon=/maxthon/.test(o),w=t.isQuirksMode="BackCompact"==document.CompactMode,_=t.isQQ=/tencenttraveler/.test(o)||/qqbrowser/.test(o),C=t.isSougou=/metasr/.test(o)||/sogou/.test(o),x=t.isBaidu=/baidubrowser/.test(o),D=t.isUC=/ucbrowser/.test(o),T=t.isLiebao=/liebao/.test(o),M=t.isMiuiBrowser=/miuibrowser/.test(o),P=t.isHuaweiBrowser=/huaweibrowser/.test(o)||/huaweialp/.test(o),E=t.is360=function(){if(_||D||C||M||T||I)return!1;if(-1===o.indexOf("chrome"))return!1;var e=function(e,t){var n=navigator.mimeTypes;for(var o in n)if(n[o][e]==t)return!0;return!1}("type","application/vnd.chromium.remoting-viewer");return!window.chrome||e}();t.isIE8=!!document.documentMode&&document.documentMode<8,t.isIE8Compact=8==document.documentMode,t.isIE9Compact=9==document.documentMode,t.isIE10Compact=10==document.documentMode,t.BROWSER_DETECTION={ie:d,ieAtLeast11:h,edge:f,opera:p,webkit:m,chrome:g,safari:v,gecko:b,firefox:y,maxthon:I,quirksMode:w,"quirks-mode":w,qq:_,sougou:C,baidu:x,liebao:T,uc:D,miui:M,huawei:P,360:E}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));n(3);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var r=function(){},a=o.Controller,l=o.PDFViewCtrl.ViewerEvents,s=o.UIConsts.COMPONENT_EVENTS,c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.destroyHook=[],o.onceLoadCount=20,o}return i(t,e),t.getName=function(){return"ThumbSidebarPanelController"},t.prototype.mounted=function(){var e=this,t=this.component.parent.parent,n=this.getPDFUI(),o=this.onceLoadCount;this.loaded=!1;var i=this.component.parent;n.addViewerEventListener(l.renderFileSuccess,(function(t){e.loaded=!1,e.component.reset(),e.currentPDFDoc=t,e.pageCount=e.currentPDFDoc.getPageCount(),e.lastLoadPageIndex=0,e.onceLoadCount=20;var n=Math.min(o,e.pageCount);i.isActive&&(e.addThumbContainers(n),e.component.activeThumbByPageIndex(0))})),n.addViewerEventListener(l.pageNumberChange,(function(t){e.component.activeThumbByPageIndex(t-1),e.digest()})),i.on(s.ACTIVE,(function(t){n.getCurrentPDFDoc().then((function(t){if(t){if(e.loaded)e.component.resizeHandler();else{var i=Math.min(o,e.pageCount);e.addThumbContainers(i)}n.getPDFDocRender().then((function(t){e.component.activeThumbByPageIndex(t.currentPageIndex)}))}}))})),t.on(s.RESIZE,(function(t){i.isActive&&e.component.resizeHandler()}))},t.prototype.addThumbContainers=function(e){this.loaded=!0;for(var t=0;t<e;t++)this.lastLoadPageIndex=t,this.addThumbContainer(t)},t.prototype.addThumbContainer=function(e){var t=this;if(this.currentPDFDoc){var n={pageNum:e+1};this.component.appendThumb(n),this.currentPDFDoc.getPageByIndex(e).then((function(n){n.getThumb().then((function(n){t.component.updateThumb(e,n)}))}))}},t.prototype.addThumbContainerByIndex=function(e){var t=this,n={pageNum:e+1};this.lastLoadPageIndex++,this.component.appendThumbByIndex(n,e),this.currentPDFDoc.getPageByIndex(e).then((function(n){n.getThumb().then((function(n){t.component.updateThumb(e,n)}))}))},t.prototype.removeThumbByIndex=function(e){this.lastLoadPageIndex--,this.component.removeThumb(e)},t.prototype.loadMore=function(){if(!this.component.noMore)for(var e=0;e<=this.onceLoadCount;e++){if(this.lastLoadPageIndex++,(200==this.lastLoadPageIndex||800==this.lastLoadPageIndex)&&(this.onceLoadCount*=2),this.lastLoadPageIndex>=this.pageCount){this.component.noMore=!0;break}this.addThumbContainer(this.lastLoadPageIndex)}},t.prototype.rotatePage=function(e,t){var n=this;this.getPDFUI().getPDFViewer().then((function(o){o.activeElement(null);var i=o.getPDFPageRender(e),a=void 0;i.getPDFPage().then((function(o){var l=i.page;"right"==t?4==(a=l.info.rotation+1)&&(a=0):-1==(a=l.info.rotation-1)&&(a=3),l.setRotation(a).then((function(t){i.rotate=a,l.getThumb().then((function(t){n.component.updateThumb(e,t,!1)})),n.getPDFUI().getPDFViewer().then((function(e){e.getPDFDocRender().pagesRender.renderVisiblePages().catch(r)}))}))}))}))},t.prototype.movePageTo=function(e,t){return this.currentPDFDoc.movePageTo(e,t).then((function(e){return e}))},t.prototype.insertBlankPageAfterIndex=function(e){var t=this;this.getPDFUI().getPDFViewer().then((function(n){var o=t.currentPDFDoc,i=n.getPDFPageRender(e);i.getPDFPage().then((function(){var n=i.page,r=e+1;o.insertPage(r,n.info.width,n.info.height).then((function(e){e&&(t.pageCount=t.currentPDFDoc.getPageCount(),t.addThumbContainerByIndex(r))}))}))}))},t.prototype.deletePageByIndex=function(e){var t=this;this.currentPDFDoc.removePage(e).then((function(n){n&&(t.pageCount=t.currentPDFDoc.getPageCount(),t.removeThumbByIndex(e))}))},t.prototype.destroy=function(){this.destroyHook.forEach((function(e){return e()}))},t}(a);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),r=n(2),a=(o=r)&&o.__esModule?o:{default:o};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var i=n[o],r=Object.getOwnPropertyDescriptor(t,i);r&&r.configurable&&void 0===e[i]&&Object.defineProperty(e,i,r)}}(e,t))}var u=function(){},d=function(e){function t(){return l(this,t),s(this,e.apply(this,arguments))}return c(t,e),t.getName=function(){return"ThumbnailContextMenuController"},t.prototype.mounted=function(){e.prototype.mounted.call(this),this.thumbnailCtrl=this.component.getClosestComponentByType(a.default.getName()).controller},t.prototype.rotateLeft=function(){var e=this.component.getCurrentTarget();this.thumbnailCtrl.rotatePage(e,"left")},t.prototype.rotateRight=function(){var e=this.component.getCurrentTarget();this.thumbnailCtrl.rotatePage(e,"right")},t.prototype.addBlankPage=function(){var e=this.component.getCurrentTarget();this.thumbnailCtrl.insertBlankPageAfterIndex(e)},t.prototype.deletePage=function(){var e=this;this.getPDFUI().confirm("thumbnail:removePageConfirm").then((function(){var t=e.component.getCurrentTarget();e.thumbnailCtrl.deletePageByIndex(t)}),u)},t}(i.Controller);t.default=d},function(e,t,n){n(1);e.exports=function(e){"use strict";e=e||{};return'<sidebar-panel name="sidebar-thumbnail" title="thumbnail:title"  class="fv__sidebar-thumbnail" icon-class="fv__icon-sidebar-thumbnail">\n            <thumbnail:thumbnail-panel name="fv-thumbnail-panel" @controller="thumbnail:ThumbSidebarPanelController">\n                        <template>\n                            <contextmenu name="fv--thumbnail-contextmenu" @controller="thumbnail:ThumbnailContextMenuController as tcmc">\n                                <contextmenu-item @on.click="tcmc.rotateLeft()" name="contextmenu-item-thumbnail-rotate-left">thumbnail:contextmenu.rotateLeft</contextmenu-item>\n                                <contextmenu-item @on.click="tcmc.rotateRight()" name="contextmenu-item-thumbnail-rotate-right">thumbnail:contextmenu.rotateRight</contextmenu-item>\n                                <contextmenu-separator></contextmenu-separator>\n                                <contextmenu-item @on.click="tcmc.addBlankPage()" name="contextmenu-item-thumbnail-add-blank-page">thumbnail:contextmenu.addBlankPage</contextmenu-item>\n                                <contextmenu-separator></contextmenu-separator>\n                                <contextmenu-item @on.click="tcmc.deletePage()" name="contextmenu-item-thumbnail-delete">thumbnail:contextmenu.delete</contextmenu-item>\n                            </contextmenu>\n                        </template>\n                    </thumbnail:thumbnail-panel>\n        </sidebar-panel>','<sidebar-panel name="sidebar-thumbnail" title="thumbnail:title"  class="fv__sidebar-thumbnail" icon-class="fv__icon-sidebar-thumbnail">\n            <thumbnail:thumbnail-panel name="fv-thumbnail-panel" @controller="thumbnail:ThumbSidebarPanelController">\n                        <template>\n                            <contextmenu name="fv--thumbnail-contextmenu" @controller="thumbnail:ThumbnailContextMenuController as tcmc">\n                                <contextmenu-item @on.click="tcmc.rotateLeft()" name="contextmenu-item-thumbnail-rotate-left">thumbnail:contextmenu.rotateLeft</contextmenu-item>\n                                <contextmenu-item @on.click="tcmc.rotateRight()" name="contextmenu-item-thumbnail-rotate-right">thumbnail:contextmenu.rotateRight</contextmenu-item>\n                                <contextmenu-separator></contextmenu-separator>\n                                <contextmenu-item @on.click="tcmc.addBlankPage()" name="contextmenu-item-thumbnail-add-blank-page">thumbnail:contextmenu.addBlankPage</contextmenu-item>\n                                <contextmenu-separator></contextmenu-separator>\n                                <contextmenu-item @on.click="tcmc.deletePage()" name="contextmenu-item-thumbnail-delete">thumbnail:contextmenu.delete</contextmenu-item>\n                            </contextmenu>\n                        </template>\n                    </thumbnail:thumbnail-panel>\n        </sidebar-panel>'}},function(e,t){e.exports=null}]).default}));