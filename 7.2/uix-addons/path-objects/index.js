!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],e):"object"==typeof exports?exports.EditGraphics=e(require("UIExtension")):t.EditGraphics=e(t.UIExtension)}(self,(function(t){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}(o(1)),i=c(o(2)),a=c(o(6));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):function(t,e){for(var o=Object.getOwnPropertyNames(e),n=0;n<o.length;n++){var r=o[n],i=Object.getOwnPropertyDescriptor(e,r);i&&i.configurable&&void 0===t[r]&&Object.defineProperty(t,r,i)}}(t,e))}o(7);var d=function(t){function e(o){return u(this,e),l(this,t.call(this,o))}return s(e,t),e.prototype.switchStateHandler=function(t){this.getPDFUI().getStateHandlerManager().then((function(e){e.getCurrentStates().getStateName()===t?e.switchTo(e.get().getStateName()):e.switchTo(t)}))},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener("switch-state-handler",(function(e,o){e.getStateName()===t.constructor.getName()?t.component.active():o.getStateName()===t.constructor.getName()&&t.component.deactive()})))},n(e,null,[{key:"permission",get:function(){return r.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),e}(r.Controller),p="line",f=[],h=function(t){return f.forEach((function(e){t||-1==e.attrs.name.indexOf(p)?e.deactive():e.active()}))},b=function(t){function e(o){u(this,e);var n=l(this,t.call(this,o));return f.length<4&&f.push(o),n}return s(e,t),e.prototype.switchStateHandler=function(t,e){var o=this.getPDFUI();p=e,o.getStateHandlerManager().then((function(o){o.switchTo(t),o.getCurrentStates().setPathType(e),h()}))},e.prototype.postlink=function(){var t=this;this.addDestroyHook(this.getPDFUI().addViewerEventListener("switch-state-handler",(function(e,o,n){e.getStateName()===t.constructor.getName()?h():o.getStateName()===t.constructor.getName()&&(f.forEach((function(t){return t.deactive()})),t.component.parent.element.classList.remove("selected"))})))},e.prototype.handle=function(){this.component.parent.select(this.component),this.component.parent.element.classList.add("selected")},n(e,null,[{key:"permission",get:function(){return r.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),e}(r.Controller),y=function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"edit-pageobjects"},e.getLoader=function(){return a.default},e.init=function(){var t=r.modular.module("edit-pageobjects",[]);t.registerFragment("edit-all-objects-button",{template:'<xbutton name="edit-all-objects" icon-class="fv__icon-edit-edit-all" @tooltip>edit-pageobjects:buttons.edit-all-objects</xbutton>',config:[{target:"edit-all-objects",tooltip:{title:"edit-pageobjects:buttons.edit-all-objects"},callback:function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"edit-all"},e.prototype.handle=function(){this.switchStateHandler("edit-all")},e}(d)}]}),t.registerFragment("path-objects-dropdown",{template:(0,i.default)(),config:[{target:"create-shapeObject-dropdown",tooltip:{title:"edit-pageobjects:dropdown-tooltip"},callback:function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return s(e,t),e.prototype.postlink=function(){this.component.select(this.component.childAt(0))},n(e,null,[{key:"permission",get:function(){return r.PDFViewCtrl.Consts.PDFDocPermission.ModifyDocument}}]),e}(r.Controller)},{target:"add-pathObject-line",tooltip:{title:"toolbar.tooltip.line.title"},callback:function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"add-path-object"},e.prototype.handle=function(){t.prototype.handle.call(this),this.switchStateHandler("add-path-object","line")},e}(b)},{target:"add-pathObject-square",tooltip:{title:"toolbar.tooltip.square.title"},callback:function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"add-path-object"},e.prototype.handle=function(){t.prototype.handle.call(this),this.switchStateHandler("add-path-object","square")},e}(b)},{target:"add-pathObject-circle",tooltip:{title:"toolbar.tooltip.circle.title"},callback:function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"add-path-object"},e.prototype.handle=function(){t.prototype.handle.call(this),this.switchStateHandler("add-path-object","circle")},e}(b)},{target:"add-pathObject-roundRect",tooltip:{title:"toolbar.tooltip.roundRect.title"},callback:function(t){function e(){return u(this,e),l(this,t.apply(this,arguments))}return s(e,t),e.getName=function(){return"add-path-object"},e.prototype.handle=function(){t.prototype.handle.call(this),this.switchStateHandler("add-path-object","roundRect")},e}(b)}]})},e.prototype.beforeMounted=function(t){var e=t.getComponentByName("edit-tab");e&&e.show()},e.prototype.fragments=function(){return[]},e}(r.UIXAddon);e.default=y},function(e,o){e.exports=t},function(t,e,o){o(3);t.exports=function(t){"use strict";t=t||{};return'<dropdown @tooltip name="create-shapeObject-dropdown" class="fv__ui-dropdown-direction-row fv__ui-dropdown-hide-text">\n    <dropdown-button @tooltip name="add-pathObject-line" icon-class="fv__icon-toolbar-path-line">toolbar.buttons.line</dropdown-button>\n    <dropdown-button @tooltip name="add-pathObject-square" icon-class="fv__icon-toolbar-path-square">toolbar.buttons.square</dropdown-button>\n    <dropdown-button @tooltip name="add-pathObject-circle" icon-class="fv__icon-toolbar-path-circle">toolbar.buttons.circle</dropdown-button>\n    <dropdown-button @tooltip name="add-pathObject-roundRect" icon-class="fv__icon-toolbar-path-round-rectangle">toolbar.buttons.roundRect</dropdown-button>\n</dropdown>','<dropdown @tooltip name="create-shapeObject-dropdown" class="fv__ui-dropdown-direction-row fv__ui-dropdown-hide-text">\n    <dropdown-button @tooltip name="add-pathObject-line" icon-class="fv__icon-toolbar-path-line">toolbar.buttons.line</dropdown-button>\n    <dropdown-button @tooltip name="add-pathObject-square" icon-class="fv__icon-toolbar-path-square">toolbar.buttons.square</dropdown-button>\n    <dropdown-button @tooltip name="add-pathObject-circle" icon-class="fv__icon-toolbar-path-circle">toolbar.buttons.circle</dropdown-button>\n    <dropdown-button @tooltip name="add-pathObject-roundRect" icon-class="fv__icon-toolbar-path-round-rectangle">toolbar.buttons.roundRect</dropdown-button>\n</dropdown>'}},function(t,e,o){"use strict";t.exports=o(4)},function(t,e,o){"use strict";(function(e){
/*! art-template@runtime | https://github.com/aui/art-template */
var o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=Object.create(o),r=/["&'<>]/;n.$escape=function(t){return function(t){var e=""+t,o=r.exec(e);if(!o)return t;var n="",i=void 0,a=void 0,c=void 0;for(i=o.index,a=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}a!==i&&(n+=e.substring(a,i)),a=i+1,n+=c}return a!==i?n+e.substring(a,i):n}(function t(e){"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},n.$each=function(t,e){if(Array.isArray(t))for(var o=0,n=t.length;o<n;o++)e(t[o],o);else for(var r in t)e(t[r],r)},t.exports=n}).call(this,o(5))},function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e){t.exports=null},function(t,e,o){}]).default}));